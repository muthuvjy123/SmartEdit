function mdMediaFactory(t,e,n){function i(t){var e=h[t];angular.isUndefined(e)&&(e=h[t]=r(t));var n=d[e];return angular.isUndefined(n)&&(n=o(e)),n}function r(e){return t.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}function o(t){var e=f[t]=n.matchMedia(t);return e.addListener(s),d[e.media]=!!e.matches}function s(t){e.$evalAsync(function(){d[t.media]=!!t.matches})}function a(t){return f[t]}function c(e,n){for(var i=0;i<t.MEDIA_PRIORITY.length;i++){var r=t.MEDIA_PRIORITY[i];if(f[h[r]].matches){var o=u(e,n+"-"+r);if(e[o])return e[o]}}return e[u(e,n)]}function l(e,n,i){var r=[];return e.forEach(function(e){var o=u(n,e);n[o]&&r.push(n.$observe(o,angular.bind(void 0,i,null)));for(var s in t.MEDIA){if(o=u(n,e+"-"+s),!n[o])return;r.push(n.$observe(o,angular.bind(void 0,i,s)))}}),function(){r.forEach(function(t){t()})}}function u(t,e){return p[e]||(p[e]=t.$normalize(e))}var h={},f={},d={},p={};return i.getResponsiveAttribute=c,i.getQuery=a,i.watchResponsiveAttributes=l,i}var colorsForPicker=["#D24D57","#F22613","#D91E18","#96281B","#EF4836","#D64541","#C0392B","#CF000F","#E74C3C","#DB0A5B","#F64747","#F1A9A0","#D2527F","#E08283","#F62459","#E26A6A","#DCC6E0","#663399","#674172","#AEA8D3","#913D88","#9A12B3","#BF55EC","#BE90D4","#8E44AD","#9B59B6","#446CB3","#E4F1FE","#4183D7","#59ABE3","#81CFE0","#52B3D9","#C5EFF7","#22A7F0","#3498DB","#2C3E50","#19B5FE","#336E7B","#22313F","#6BB9F0","#1E8BC3","#3A539B","#34495E","#67809F","#2574A9","#1F3A93","#89C4F4","#4B77BE","#5C97BF","#4ECDC4","#A2DED0","#87D37C","#90C695","#26A65B","#03C9A9","#68C3A3","#65C6BB","#1BBC9B","#1BA39C","#66CC99","#36D7B7","#C8F7C5","#86E2D5","#2ECC71","#16a085","#3FC380","#019875","#03A678","#4DAF7C","#2ABB9B","#00B16A","#1E824C","#049372","#26C281","#FDE3A7","#F89406","#EB9532","#E87E04","#F4B350","#F2784B","#EB974E","#F5AB35","#D35400","#F39C12","#F9690E","#F9BF3B","#F27935","#E67E22","#ececec","#6C7A89","#D2D7D3","#EEEEEE","#BDC3C7","#ECF0F1","#95A5A6","#DADFE1","#ABB7B7","#F2F1EF","#BFBFBF","#E6E2AF","#A7A37E","#EFECCA","#046380","#002F2F","#468966","#FFF0A5","#FFB03B","#B64926","#8E2800","#1E1E20"],edGradients={1:{type:"linear",x1:-80,y1:0,x2:80,y2:0,colorStops:{0:"#ffe47b",1:"rgb(111,154,211)"}},2:{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#ff4040",1:"#e6399b"}},3:{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"rgb(166,111,213)",.5:"rgba(106, 72, 215, 0.5)",1:"#200772"}},4:{type:"radial",r1:100,r2:10,x1:0,y1:0,x2:0,y2:0,colorStops:{0:"#FF4F4F",1:"rgb(255, 239, 64)"}},5:{type:"radial",r1:100,r2:10,x1:0,y1:0,x2:20,y2:20,colorStops:{0:"#ffe47b",.5:"rgb(111,154,211)",1:"rgb(166,111,213)"}},6:{type:"radial",r1:50,r2:80,x1:45,y1:45,x2:52,y2:50,colorStops:{0:"rgb(155, 237, 0)",1:"rgba(0, 164, 128,0.4)"}},7:{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"#9ecb2d",.5:"#72aa00",1:"#bfd255"}},8:{type:"radial",r1:100,r2:50,x1:30,y1:0,x2:0,y2:0,colorStops:{0:"#aebcbf",1:"#0a0809"}},9:{type:"linear",x1:-80,y1:0,x2:80,y2:0,colorStops:{0:"#ffffff",1:"#f6f6f6"}},10:{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#fefcea",1:"#f1da36"}},11:{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"rgb(166,111,213)",.5:"rgba(106, 72, 215, 0.5)",1:"#ff1a00"}},12:{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#b7deed",1:"#21b4e2"}},13:{type:"linear",x1:-80,y1:100,x2:80,y2:-100,colorStops:{0:"#ffe47b",1:"rgb(111,154,211)"}}};!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ae.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return U.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return Q.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function s(){J.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+a.uid++}function c(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(xe,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?Q.parseJSON(n):n}catch(r){}be.set(t,e,n)}else n=void 0;return n}function l(){return!0}function u(){return!1}function h(){try{return J.activeElement}catch(t){}}function f(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Ne.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,i=t.length;i>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function m(t,e){var n,i,r,o,s,a,c,l;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),s=ve.set(e,o),l=o.events)){delete s.handle,s.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)Q.event.add(e,r,l[r][n])}be.hasData(t)&&(a=be.access(t),c=Q.extend({},a),be.set(e,c))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&$e.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(e,n){var i,r=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:Q.css(r[0],"display");return r.detach(),o}function x(t){var e=J,n=Fe[t];return n||(n=y(t,e),"none"!==n&&n||(Re=(Re||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Re[0].contentDocument,e.write(),e.close(),n=y(t,e),Re.detach()),Fe[t]=n),n}function w(t,e,n){var i,r,o,s,a=t.style;return n=n||ze(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||Q.contains(t.ownerDocument,t)||(s=Q.style(t,e)),We.test(s)&&Be.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function _(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Ge.length;r--;)if(e=Ge[r]+n,e in t)return e;return i}function $(t,e,n){var i=Ye.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Q.css(t,n+_e[o],!0,r)),i?("content"===n&&(s-=Q.css(t,"padding"+_e[o],!0,r)),"margin"!==n&&(s-=Q.css(t,"border"+_e[o]+"Width",!0,r))):(s+=Q.css(t,"padding"+_e[o],!0,r),"padding"!==n&&(s+=Q.css(t,"border"+_e[o]+"Width",!0,r)));return s}function E(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ze(t),s="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=w(t,e,o),(0>r||null==r)&&(r=t.style[e]),We.test(r))return r;i=s&&(K.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+S(t,e,n||(s?"border":"content"),i,o)+"px"}function T(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=ve.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(o[s]=ve.access(i,"olddisplay",x(i.nodeName)))):(r=Ce(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Q.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function k(t,e,n,i,r){return new k.prototype.init(t,e,n,i,r)}function A(){return setTimeout(function(){Ke=void 0}),Ke=Q.now()}function M(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=_e[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function O(t,e,n){for(var i,r=(nn[e]||[]).concat(nn["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function P(t,e,n){var i,r,o,s,a,c,l,u,h=this,f={},d=t.style,p=t.nodeType&&Ce(t),g=ve.get(t,"fxshow");n.queue||(a=Q._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Q.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Q.css(t,"display"),u="none"===l?ve.get(t,"olddisplay")||x(t.nodeName):l,"inline"===u&&"none"===Q.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Ze.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}f[i]=g&&g[i]||Q.style(t,i)}else l=void 0;if(Q.isEmptyObject(f))"inline"===("none"===l?x(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(t,"fxshow",{}),o&&(g.hidden=!p),p?Q(t).show():h.done(function(){Q(t).hide()}),h.done(function(){var e;ve.remove(t,"fxshow");for(e in f)Q.style(t,e,f[e])});for(i in f)s=O(p?g[i]:0,i,h),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function D(t,e){var n,i,r,o,s;for(n in t)if(i=Q.camelCase(n),r=e[i],o=t[n],Q.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=Q.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function j(t,e,n){var i,r,o=0,s=en.length,a=Q.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Ke||A(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,c=l.tweens.length;c>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),1>o&&c?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ke||A(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Q.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),u=l.props;for(D(u,l.opts.specialEasing);s>o;o++)if(i=en[o].call(l,t,u,l.opts))return i;return Q.map(u,O,l),Q.isFunction(l.opts.start)&&l.opts.start.call(t,l),Q.fx.timer(Q.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(de)||[];if(Q.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function N(t,e,n,i){function r(a){var c;return o[a]=!0,Q.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var o={},s=t===xn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function L(t,e){var n,i,r=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Q.extend(!0,t,i),t}function H(t,e,n){for(var i,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function R(t,e,n,i){var r,o,s,a,c,l={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(s=l[c+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,i){var r;if(Q.isArray(e))Q.each(e,function(e,r){n||Sn.test(t)?i(t,r):F(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Q.type(e))i(t,e);else for(r in e)F(t+"["+r+"]",e[r],n,i)}function B(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],z=W.slice,X=W.concat,Y=W.push,U=W.indexOf,V={},q=V.toString,G=V.hasOwnProperty,K={},J=t.document,Z="2.1.3",Q=function(t,e){return new Q.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,ie=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:z.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:W.sort,splice:W.splice},Q.extend=Q.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Q.isFunction(s)||(s={}),a===c&&(s=this,a--);c>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(l&&i&&(Q.isPlainObject(i)||(r=Q.isArray(i)))?(r?(r=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},s[e]=Q.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!G.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?V[q.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,ie)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,s=t.length,a=n(t);if(i){if(a)for(;s>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?Q.merge(i,"string"==typeof t?[t]:t):Y.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:U.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,s=t.length,a=n(t),c=[];if(a)for(;s>o;o++)r=e(t[o],o,i),null!=r&&c.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&c.push(r);return X.apply([],c)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(i=z.call(arguments,2),r=function(){return t.apply(e||this,i.concat(z.call(arguments)))},r.guid=t.guid=t.guid||Q.guid++,r):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()});var re=function(t){function e(t,e,n,i){var r,o,s,a,c,l,h,d,p,g;if((e?e.ownerDocument||e:F)!==P&&O(e),e=e||P,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&j){if(11!==a&&(r=be.exec(t)))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&H(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&w.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!I||!I.test(t))){if(d=h=R,p=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=S(t),(h=e.getAttribute("id"))?d=h.replace(xe,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",c=l.length;c--;)l[c]=d+f(l[c]);p=ye.test(t)&&u(e.parentNode)||e,g=l.join(",")}if(g)try{return Z.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return T(t.replace(ce,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[R]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)_.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=W++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,c,l=[B,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[R]||(e[R]={}),(a=c[i])&&a[0]===B&&a[1]===o)return l[2]=a[2];if(c[i]=l,l[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,c=t.length,l=null!=e;c>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),l&&e.push(a));return s}function v(t,e,n,r,o,s){return r&&!r[R]&&(r=v(r)),o&&!o[R]&&(o=v(o,s)),i(function(i,s,a,c){var l,u,h,f=[],d=[],p=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),b=!t||!i&&e?v:m(v,f,t,a,c),y=n?o||(i?t:p||r)?[]:s:b;if(n&&n(b,y,a,c),r)for(l=m(y,d),r(l,[],a,c),u=l.length;u--;)(h=l[u])&&(y[d[u]]=!(b[d[u]]=h));if(i){if(o||t){if(o){for(l=[],u=y.length;u--;)(h=y[u])&&l.push(b[u]=h);o(null,y=[],l,c)}for(u=y.length;u--;)(h=y[u])&&(l=o?te(i,h):f[u])>-1&&(i[l]=!(s[l]=h))}}else y=m(y===s?y.splice(p,y.length):y),o?o(null,s,y,c):Z.apply(s,y)})}function b(t){for(var e,n,i,r=t.length,o=_.relative[t[0].type],s=o||_.relative[" "],a=o?1:0,c=d(function(t){return t===e},s,!0),l=d(function(t){return te(e,t)>-1},s,!0),u=[function(t,n,i){var r=!o&&(i||n!==k)||((e=n).nodeType?c(t,n,i):l(t,n,i));return e=null,r}];r>a;a++)if(n=_.relative[t[a].type])u=[d(p(u),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[R]){for(i=++a;r>i&&!_.relative[t[i].type];i++);return v(a>1&&p(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ce,"$1"),n,i>a&&b(t.slice(a,i)),r>i&&b(t=t.slice(i)),r>i&&f(t))}u.push(n)}return p(u)}function y(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,c,l){var u,h,f,d=0,p="0",g=i&&[],v=[],b=k,y=i||o&&_.find.TAG("*",l),x=B+=null==b?1:Math.random()||.1,w=y.length;for(l&&(k=s!==P&&s);p!==w&&null!=(u=y[p]);p++){if(o&&u){for(h=0;f=t[h++];)if(f(u,s,a)){c.push(u);break}l&&(B=x)}r&&((u=!f&&u)&&d--,i&&g.push(u))}if(d+=p,r&&p!==d){for(h=0;f=n[h++];)f(g,v,s,a);if(i){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(c));v=m(v)}Z.apply(c,v),l&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(c)}return l&&(B=x,k=b),g};return r?i(s):s}var x,w,_,C,$,S,E,T,k,A,M,O,P,D,j,I,N,L,H,R="sizzle"+1*new Date,F=t.document,B=0,W=0,z=n(),X=n(),Y=n(),U=function(t,e){return t===e&&(M=!0),0},V=1<<31,q={}.hasOwnProperty,G=[],K=G.pop,J=G.push,Z=G.push,Q=G.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ce=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(se),de=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){O()};try{Z.apply(G=Q.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch($e){Z={apply:G.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,D=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),j=!$(i),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName),w.getById=r(function(t){return D.appendChild(t).id=R,!i.getElementsByName||!i.getElementsByName(R).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&j){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=w.getElementsByClassName&&function(t,e){return j?e.getElementsByClassName(t):void 0},N=[],I=[],(w.qsa=ve.test(i.querySelectorAll))&&(r(function(t){D.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+R+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||I.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=ve.test(L=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){w.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),N.push("!=",se)}),I=I.length&&new RegExp(I.join("|")),N=N.length&&new RegExp(N.join("|")),e=ve.test(D.compareDocumentPosition),H=e||ve.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&H(F,t)?-1:e===i||e.ownerDocument===F&&H(F,e)?1:A?te(A,t)-te(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,r=0,o=t.parentNode,a=e.parentNode,c=[t],l=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:A?te(A,t)-te(A,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)c.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;c[r]===l[r];)r++;return r?s(c[r],l[r]):c[r]===F?-1:l[r]===F?1:0},i):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&O(t),n=n.replace(he,"='$1']"),!(!w.matchesSelector||!j||N&&N.test(n)||I&&I.test(n)))try{var i=L.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&O(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&O(t);var n=_.attrHandle[e.toLowerCase()],i=n&&q.call(_.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==i?i:w.attributes||!j?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!w.detectDuplicates,A=!w.sortStable&&t.slice(0),t.sort(U),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,_e),t[3]=(t[3]||t[4]||t[5]||"").replace(we,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!c&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(u=m[R]||(m[R]={}),l=u[t]||[],d=l[0]===B&&l[1],f=l[0]===B&&l[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){u[t]=[B,d,f];break}}else if(b&&(l=(e[R]||(e[R]={}))[t])&&l[0]===B)f=l[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(b&&((h[R]||(h[R]={}))[t]=[B,f]),h!==e)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(t,n){var r,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(n):o.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=te(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=E(t.replace(ce,"$1"));return r[R]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(we,_e),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,_e).toLowerCase(),function(e){var n;do if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();
return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=c(x);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,S=e.tokenize=function(t,n){var i,r,o,s,a,c,l,u=X[t+" "];if(u)return n?0:u.slice(0);for(a=t,c=[],l=_.preFilter;a;){(!i||(r=le.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),c.push(o=[])),i=!1,(r=ue.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ce," ")}),a=a.slice(i.length));for(s in _.filter)!(r=pe[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):X(t,c).slice(0)},E=e.compile=function(t,e){var n,i=[],r=[],o=Y[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=b(e[n]),o[R]?i.push(o):r.push(o);o=Y(t,y(r,i)),o.selector=t}return o},T=e.select=function(t,e,n,i){var r,o,s,a,c,l="function"==typeof t&&t,h=!i&&S(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&j&&_.relative[o[1].type]){if(e=(_.find.ID(s.matches[0].replace(we,_e),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(s=o[r],!_.relative[a=s.type]);)if((c=_.find[a])&&(i=c(s.matches[0].replace(we,_e),ye.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&f(o),!t)return Z.apply(n,i),n;break}}return(l||E(t,h))(i,e,!j,n,ye.test(t)&&u(e.parentNode)||e),n},w.sortStable=R.split("").sort(U).join("")===R,w.detectDuplicates=!!M,O(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Q.find=re,Q.expr=re.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=re.uniqueSort,Q.text=re.getText,Q.isXMLDoc=re.isXML,Q.contains=re.contains;var oe=Q.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Q.find.matchesSelector(i,t)?[i]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(r[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,r[e],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&oe.test(t)?Q(t):t||[],!1).length}});var ce,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=Q.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:le.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ce).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),se.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof ce.ready?ce.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ue.prototype=Q.fn,ce=Q(J);var he=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Q(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=oe.test(t)||"string"!=typeof t?Q(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?U.call(Q(t),this[0]):U.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,i){var r=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),this.length>1&&(fe[t]||Q.unique(r),he.test(t)&&r.reverse()),this.pushStack(r)}});var de=/\S+/g,pe={};Q.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):Q.extend({},t);var e,n,i,r,s,a,c=[],l=!t.once&&[],u=function(o){for(e=t.memory&&o,n=!0,a=r||0,r=0,s=c.length,i=!0;c&&s>a;a++)if(c[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,c&&(l?l.length&&u(l.shift()):e?c=[]:h.disable())},h={add:function(){if(c){var n=c.length;!function o(e){Q.each(e,function(e,n){var i=Q.type(n);"function"===i?t.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?s=c.length:e&&(r=n,u(e))}return this},remove:function(){return c&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,c,n))>-1;)c.splice(n,1),i&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?Q.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=l=e=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,e||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],i?l.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var s=Q.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,i):i}},r={};return i.pipe=i.then,Q.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=z.call(arguments),s=o.length,a=1!==s||t&&Q.isFunction(t.promise)?s:0,c=1===a?t:Q.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?z.call(arguments):r,i===e?c.notifyWith(n,i):--a||c.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(c.reject).progress(l(r,n,e)):--a;return a||c.resolveWith(i,o),c.promise()}});var ge;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(ge.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(e){return ge||(ge=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ge.promise(e)},Q.ready.promise();var me=Q.access=function(t,e,n,i,r,o,s){var a=0,c=t.length,l=null==n;if("object"===Q.type(n)){r=!0;for(a in n)Q.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,Q.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(Q(t),n)})),e))for(;c>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):c?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?i=e.concat(e.map(Q.camelCase)):(r=Q.camelCase(e),e in s?i=[e,r]:(i=r,i=i in s?[i]:i.match(de)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new a,be=new a,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Q.extend({hasData:function(t){return be.hasData(t)||ve.hasData(t)},data:function(t,e,n){return be.access(t,e,n)},removeData:function(t,e){be.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=be.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),c(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){be.set(this,t)}):me(this,function(e){var n,i=Q.camelCase(t);if(o&&void 0===e){if(n=be.get(o,t),void 0!==n)return n;if(n=be.get(o,i),void 0!==n)return n;if(n=c(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,i);be.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&be.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){be.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ve.get(t,e),n&&(!i||Q.isArray(n)?i=ve.access(t,e,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),i=n.length,r=n.shift(),o=Q._queueHooks(t,e),s=function(){Q.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Q.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=ve.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],Ce=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},$e=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";K.focusinBubbles="onfocusin"in t;var Ee=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,i,r){var o,s,a,c,l,u,h,f,d,p,g,m=ve.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Q.guid++),(c=m.events)||(c=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof Q!==Se&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],l=e.length;l--;)a=Ae.exec(e[l])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(h=Q.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=Q.event.special[d]||{},u=Q.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=c[d])||(f=c[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),Q.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,c,l,u,h,f,d,p,g,m=ve.hasData(t)&&ve.get(t);if(m&&(c=m.events)){for(e=(e||"").match(de)||[""],l=e.length;l--;)if(a=Ae.exec(e[l])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(h=Q.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,f=c[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)u=f[o],!r&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(t,u));s&&!f.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||Q.removeEvent(t,d,m.handle),delete c[d])}else for(d in c)Q.event.remove(t,d+e[l],n,i,!0);Q.isEmptyObject(c)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,c,l,u,h,f=[i||J],d=G.call(e,"type")?e.type:e,p=G.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!ke.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[Q.expando]?e:new Q.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Q.makeArray(n,[e]),h=Q.event.special[d]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!Q.isWindow(i)){for(c=h.delegateType||d,ke.test(c+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||J)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||d,u=(ve.get(s,"events")||{})[e.type]&&ve.get(s,"handle"),u&&u.apply(s,n),u=l&&s[l],u&&u.apply&&Q.acceptData(s)&&(e.result=u.apply(s,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Q.acceptData(i)||l&&Q.isFunction(i[d])&&!Q.isWindow(i)&&(a=i[l],a&&(i[l]=null),Q.event.triggered=d,i[d](),Q.event.triggered=void 0,a&&(i[l]=a)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,i,r,o,s=[],a=z.call(arguments),c=(ve.get(this,"events")||{})[t.type]||[],l=Q.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=Q.event.handlers.call(this,t,c),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,c=t.target;if(a&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Q(r,this).index(c)>=0:Q.find(r,this,null,[c]).length),i[r]&&i.push(o);i.length&&s.push({elem:c,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||J,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Te.test(r)?this.mouseHooks:Ee.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new Q.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,e):Q.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:u):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!Q.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,e);r||i.addEventListener(t,n,!0),ve.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,e)-1;r?ve.access(i,e,r):(i.removeEventListener(t,n,!0),ve.remove(i,e))}}}),Q.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=u;else if(!i)return this;return 1===r&&(o=i,i=function(t){return Q().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Q(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=u),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Pe=/<|&#?\w+;/,De=/<(?:script|style|link)/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Ne=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,He={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td,Q.extend({clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),c=Q.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(s=v(a),o=v(t),i=0,r=o.length;r>i;i++)b(o[i],s[i]);if(e)if(n)for(o=o||v(t),s=s||v(a),i=0,r=o.length;r>i;i++)m(o[i],s[i]);else m(t,a);return s=v(a,"script"),s.length>0&&g(s,!c&&v(t,"script")),a},buildFragment:function(t,e,n,i){for(var r,o,s,a,c,l,u=e.createDocumentFragment(),h=[],f=0,d=t.length;d>f;f++)if(r=t[f],r||0===r)if("object"===Q.type(r))Q.merge(h,r.nodeType?[r]:r);else if(Pe.test(r)){for(o=o||u.appendChild(e.createElement("div")),s=(Oe.exec(r)||["",""])[1].toLowerCase(),a=He[s]||He._default,o.innerHTML=a[1]+r.replace(Me,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Q.merge(h,o.childNodes),o=u.firstChild,o.textContent=""}else h.push(e.createTextNode(r));for(u.textContent="",f=0;r=h[f++];)if((!i||-1===Q.inArray(r,i))&&(c=Q.contains(r.ownerDocument,r),o=v(u.appendChild(r),"script"),c&&g(o),n))for(l=0;r=o[l++];)Ie.test(r.type||"")&&n.push(r);return u},cleanData:function(t){for(var e,n,i,r,o=Q.event.special,s=0;void 0!==(n=t[s]);s++){if(Q.acceptData(n)&&(r=n[ve.expando],r&&(e=ve.cache[r]))){if(e.events)for(i in e.events)o[i]?Q.event.remove(n,i):Q.removeEvent(n,i,e.handle);ve.cache[r]&&delete ve.cache[r]}delete be.cache[n[be.expando]]}}}),Q.fn.extend({text:function(t){return me(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Q.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!De.test(t)&&!He[(Oe.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Me,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=X.apply([],t);var n,i,r,o,s,a,c=0,l=this.length,u=this,h=l-1,f=t[0],g=Q.isFunction(f);if(g||l>1&&"string"==typeof f&&!K.checkClone&&je.test(f))return this.each(function(n){var i=u.eq(n);g&&(t[0]=f.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Q.map(v(n,"script"),d),o=r.length;l>c;c++)s=n,c!==h&&(s=Q.clone(s,!0,!0),o&&Q.merge(r,v(s,"script"))),e.call(this[c],s,c);if(o)for(a=r[r.length-1].ownerDocument,Q.map(r,p),c=0;o>c;c++)s=r[c],Ie.test(s.type||"")&&!ve.access(s,"globalEval")&&Q.contains(a,s)&&(s.src?Q._evalUrl&&Q._evalUrl(s.src):Q.globalEval(s.textContent.replace(Le,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,i=[],r=Q(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Q(r[s])[e](n),Y.apply(i,n.get());return this.pushStack(i)}});var Re,Fe={},Be=/^margin/,We=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),ze=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(s,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(o)}var n,i,r=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(o),s.removeChild(n),e}}))}(),Q.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var Xe=/^(none|table(?!-c[ea]).+)/,Ye=new RegExp("^("+we+")(.*)$","i"),Ue=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},qe={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Q.camelCase(e),c=t.style;return e=Q.cssProps[a]||(Q.cssProps[a]=C(c,a)),s=Q.cssHooks[e]||Q.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:c[e]:(o=typeof n,"string"===o&&(r=Ue.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Q.css(t,e)),o="number"),void(null!=n&&n===n&&("number"!==o||Q.cssNumber[a]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(c[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=Q.camelCase(e);return e=Q.cssProps[a]||(Q.cssProps[a]=C(t.style,a)),s=Q.cssHooks[e]||Q.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=w(t,e,i)),"normal"===r&&e in qe&&(r=qe[e]),""===n||n?(o=parseFloat(r),n===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,i){return n?Xe.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Ve,function(){return E(t,e,i)}):E(t,e,i):void 0},set:function(t,n,i){var r=i&&ze(t);return $(t,n,i?S(t,e,i,"border-box"===Q.css(t,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=_(K.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+_e[i]+e]=o[i]||o[i-2]||o[0];return r}},Be.test(t)||(Q.cssHooks[t+e].set=$)}),Q.fn.extend({css:function(t,e){return me(this,function(t,e,n){var i,r,o={},s=0;if(Q.isArray(e)){for(i=ze(t),r=e.length;r>s;s++)o[e[s]]=Q.css(t,e[s],!1,i);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ce(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=k,k.prototype={constructor:k,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Q.cssNumber[n]?"":"px")
},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,n=k.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=k.prototype.init,Q.fx.step={};var Ke,Je,Ze=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[P],nn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Qe.exec(e),o=r&&r[3]||(Q.cssNumber[t]?"":"px"),s=(Q.cssNumber[t]||"px"!==o&&+i)&&Qe.exec(Q.css(n.elem,t)),a=1,c=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,Q.style(n.elem,t,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--c)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};Q.Animation=Q.extend(j,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),Q.speed=function(t,e,n){var i=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Q.isEmptyObject(t),o=Q.speed(e,n,i),s=function(){var e=j(this,Q.extend({},t),o);(r||ve.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Q.timers,s=ve.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&tn.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=Q.timers,s=i?i.length:0;for(n.finish=!0,Q.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(M(e,!0),t,i,r)}}),Q.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Ke=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Ke=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Je||(Je=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Je),Je=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=J.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var rn,on,sn=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return me(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var i,r,o=t.nodeType;return t&&3!==o&&8!==o&&2!==o?typeof t.getAttribute===Se?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),i=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?on:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=Q.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e)):void 0},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[r++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=sn[e]||Q.find.attr;sn[e]=function(t,e,i){var r,o;return i||(o=sn[e],sn[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,sn[e]=o),r}});var an=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return me(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?(o=1!==s||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,r=Q.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||an.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var cn=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,i,r,o,s,a="string"==typeof t&&t,c=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=Q.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0===arguments.length||"string"==typeof t&&t,c=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?Q.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=Q(this),o=t.match(de)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(cn," ").indexOf(e)>=0)return!0;return!1}});var ln=/\r/g;Q.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=Q.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Q(this).val()):t,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)):void 0}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,c=0>r?a:o?r:0;a>c;c++)if(n=i[c],!(!n.selected&&c!==r||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=Q.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=Q.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var un=Q.now(),hn=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var fn=/#.*$/,dn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yn={},xn={},wn="*/".concat("*"),_n=t.location.href,Cn=bn.exec(_n.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_n,type:"GET",isLocal:gn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?L(L(t,Q.ajaxSettings),e):L(Q.ajaxSettings,t)},ajaxPrefilter:I(yn),ajaxTransport:I(xn),ajax:function(t,e){function n(t,e,n,s){var c,u,v,b,x,_=e;2!==y&&(y=2,a&&clearTimeout(a),i=void 0,o=s||"",w.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(b=H(h,w,n)),b=R(h,b,w,c),c?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Q.lastModified[r]=x),x=w.getResponseHeader("etag"),x&&(Q.etag[r]=x)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=b.state,u=b.data,v=b.error,c=!v)):(v=_,(t||!_)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",c?p.resolveWith(f,[u,_,w]):p.rejectWith(f,[w,_,v]),w.statusCode(m),m=void 0,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[w,h,c?u:v]),g.fireWith(f,[w,_]),l&&(d.trigger("ajaxComplete",[w,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,c,l,u,h=Q.ajaxSetup({},e),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?Q(f):Q.event,p=Q.Deferred(),g=Q.Callbacks("once memory"),m=h.statusCode||{},v={},b={},y=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!s)for(s={};e=pn.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return i&&i.abort(e),n(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||_n)+"").replace(fn,"").replace(vn,Cn[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(de)||[""],null==h.crossDomain&&(c=bn.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]===Cn[1]&&c[2]===Cn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Cn[3]||("http:"===Cn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),N(yn,h,e,w),2===y)return w;l=Q.event&&h.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!mn.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(hn.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=dn.test(r)?r.replace(dn,"$1_="+un++):r+(hn.test(r)?"&":"?")+"_="+un++)),h.ifModified&&(Q.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&w.setRequestHeader("If-None-Match",Q.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+wn+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)w.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(h.beforeSend.call(f,w,h)===!1||2===y))return w.abort();x="abort";for(u in{success:1,error:1,complete:1})w[u](h[u]);if(i=N(xn,h,e,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{y=1,i.send(v,n)}catch(_){if(!(2>y))throw _;n(-1,_)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,i,r){return Q.isFunction(n)&&(r=r||i,i=n,n=void 0),Q.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var $n=/%20/g,Sn=/\[\]$/,En=/\r?\n/g,Tn=/^(?:submit|button|image|reset|file)$/i,kn=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,i=[],r=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){r(this.name,this.value)});else for(n in t)F(n,t[n],e,r);return i.join("&").replace($n,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&kn.test(this.nodeName)&&!Tn.test(t)&&(this.checked||!$e.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var An=0,Mn={},On={0:200,1223:204},Pn=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Mn)Mn[t]()}),K.cors=!!Pn&&"withCredentials"in Pn,K.ajax=Pn=!!Pn,Q.ajaxTransport(function(t){var e;return K.cors||Pn&&!t.crossDomain?{send:function(n,i){var r,o=t.xhr(),s=++An;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete Mn[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(On[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Mn[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Dn=[],jn=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Dn.pop()||Q.expando+"_"+un++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(jn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&jn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(jn,"$1"+r):e.jsonp!==!1&&(e.url+=(hn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Q.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Dn.push(r)),s&&Q.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var i=se.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=Q.buildFragment([t],e,r),r&&r.length&&Q(r).remove(),Q.merge([],i.childNodes))};var In=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&In)return In.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=Q.trim(t.slice(a)),t=t.slice(0,a)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&Q.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?Q("<div>").append(Q.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Nn=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var i,r,o,s,a,c,l,u=Q.css(t,"position"),h=Q(t),f={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=Q.css(t,"top"),c=Q.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1,l?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),Q.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,Q.contains(e,i)?(typeof i.getBoundingClientRect!==Se&&(r=i.getBoundingClientRect()),n=B(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(i=t.offset()),i.top+=Q.css(t[0],"borderTopWidth",!0),i.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Q.css(n,"marginTop",!0),left:e.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Nn;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Nn})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;Q.fn[e]=function(r){return me(this,function(e,r,o){var s=B(e);return void 0===o?s?s[n]:e[r]:void(s?s.scrollTo(i?t.pageXOffset:o,i?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=_(K.pixelPosition,function(t,n){return n?(n=w(t,e),We.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Q.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return me(this,function(e,n,i){var r;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?Q.css(e,n,s):Q.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ln=t.jQuery,Hn=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Hn),e&&t.jQuery===Q&&(t.jQuery=Ln),Q},typeof e===Se&&(t.jQuery=t.$=Q),Q}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap='#"+o+"']")[0],!!s&&n(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var i=0,r=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,c={},l=e.split(".")[0];return e=e.split(".")[1],r=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},o=t[l][e],s=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(c[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(c[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},c,{constructor:s,namespace:l,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;a>s;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),c=this;return s?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(c=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a),n!==r&&void 0!==n?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0
}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var c=i.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+o.eventNamespace,u=c[2];u?r.delegate(u,l,a):n.bind(l,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});var o=(t.widget,!1);t(document).mouseup(function(){o=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(i){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),c=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(c=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(c=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,c=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(c=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,c,l,u,h,f,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)c=i.snapElements[f].left-i.margins.left,l=c+i.snapElements[f].width,u=i.snapElements[f].top-i.margins.top,h=u+i.snapElements[f].height,c-g>v||m>l+g||u-g>y||b>h+g||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(h-b)<=g,s=Math.abs(c-v)<=g,a=Math.abs(l-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),d=r||o||s||a,"outer"!==p.snapMode&&(r=Math.abs(u-b)<=g,o=Math.abs(h-y)<=g,s=Math.abs(c-m)<=g,a=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable,t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,c=a+t.height,l=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+l>a&&c>i+l,f="y"===this.options.axis||e+u>o&&s>e+u,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<c
},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],c=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(o=t(l[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&c.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(c.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=c.length-1;i>=0;i--)c[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,c,l,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,l=a.length;l>i;i++)c=t(a[i]),c.data(this.widgetName+"-item",s),u.push({item:c,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,c,l,u,h,f=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,u=f.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(c=this.items[i].item.offset()[s],l=!1,e[h]-c>this.items[i][a]/2&&(l=!0),Math.abs(e[h]-c)<r&&(r=Math.abs(e[h]-c),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(t){"use strict";var e,n=t.Uint8Array,i=t.HTMLCanvasElement,r=i&&i.prototype,o=/\s*;\s*base64\s*(?:;|$)/i,s="toDataURL",a=function(t){for(var i,r,o,s=t.length,a=new n(s/4*3|0),c=0,l=0,u=[0,0],h=0,f=0;s--;)r=t.charCodeAt(c++),i=e[r-43],255!==i&&i!==o&&(u[1]=u[0],u[0]=r,f=f<<6|i,h++,4===h&&(a[l++]=f>>>16,61!==u[1]&&(a[l++]=f>>>8),61!==u[0]&&(a[l++]=f),h=0));return a};n&&(e=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),i&&!r.toBlob&&(r.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)return void t(this.mozGetAsFile("canvas",e));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e))return void t(this.msToBlob());var i,r=Array.prototype.slice.call(arguments,1),c=this[s].apply(this,r),l=c.indexOf(","),u=c.substring(l+1),h=o.test(c.substring(0,l));Blob.fake?(i=new Blob,i.encoding=h?"base64":"URI",i.data=u,i.size=u.length):n&&(i=h?new Blob([a(u)],{type:e}):new Blob([decodeURIComponent(u)],{type:e})),t(i)},r.toBlobHD=r.toDataURLHD?function(){s="toDataURLHD";var t=this.toBlob();return s="toDataURL",t}:r.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(n){var i=e.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},s=t.webkitRequestFileSystem,a=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",u=0,h=500,f=function(e){var i=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?i():setTimeout(i,h)},d=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){c(o)}}},p=function(e,c){var h,p,g,m=this,v=e.type,b=!1,y=function(){d(m,"writestart progress write writeend".split(" "))},x=function(){if((b||!h)&&(h=n().createObjectURL(e)),p)p.location.href=h;else{var i=t.open(h,"_blank");void 0==i&&"undefined"!=typeof safari&&(t.location.href=h)}m.readyState=m.DONE,y(),f(h)},w=function(t){return function(){return m.readyState!==m.DONE?t.apply(this,arguments):void 0}},_={create:!0,exclusive:!1};return m.readyState=m.INIT,c||(c="download"),r?(h=n().createObjectURL(e),i.href=h,i.download=c,o(i),m.readyState=m.DONE,y(),void f(h)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)&&(e=new Blob(["﻿",e],{type:e.type})),t.chrome&&v&&v!==l&&(g=e.slice||e.webkitSlice,e=g.call(e,0,e.size,l),b=!0),s&&"download"!==c&&(c+=".download"),(v===l||s)&&(p=t),a?(u+=e.size,void a(t.TEMPORARY,u,w(function(t){t.root.getDirectory("saved",_,w(function(t){var n=function(){t.getFile(c,_,w(function(t){t.createWriter(w(function(n){n.onwriteend=function(e){p.location.href=t.toURL(),m.readyState=m.DONE,d(m,"writeend",e),f(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=m["on"+t]}),n.write(e),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),x)}),x)};t.getFile(c,{create:!1},w(function(t){t.remove(),n()}),w(function(t){t.code===t.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},g=p.prototype,m=function(t,e){return new p(t,e)};return g.abort=function(){var t=this;t.readyState=t.DONE,d(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,m}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(t){var e={init:function(n){var i=t.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",cssStyle:"light-theme",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,onPageClick:function(){},onInit:function(){}},n||{}),r=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage?i.currentPage-1:i.invertPageOrder?i.pages-1:0,i.halfDisplayed=i.displayedPages/2,this.each(function(){r.addClass(i.cssStyle+" simple-pagination").data("pagination",i),e._draw.call(r)}),i.onInit(),this},selectPage:function(t){return e._selectPage.call(this,t-1),this},prevPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1):t.currentPage>0&&e._selectPage.call(this,t.currentPage-1),this},nextPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage>0&&e._selectPage.call(this,t.currentPage-1):t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(t){var n=this.data("pagination");return n.currentPage=t-1,this.data("pagination",n),e._draw.call(this),this},redraw:function(){return e._draw.call(this),this},disable:function(){var t=this.data("pagination");return t.disabled=!0,this.data("pagination",t),e._draw.call(this),this},enable:function(){var t=this.data("pagination");return t.disabled=!1,this.data("pagination",t),e._draw.call(this),this},updateItems:function(t){var n=this.data("pagination");n.items=t,n.pages=e._getPages(n),this.data("pagination",n),e._draw.call(this)},updateItemsOnPage:function(t){var n=this.data("pagination");return n.itemsOnPage=t,n.pages=e._getPages(n),this.data("pagination",n),e._selectPage.call(this,0),this},_draw:function(){var n,i,r=this.data("pagination"),o=e._getInterval(r);e.destroy.call(this),i="function"==typeof this.prop?this.prop("tagName"):this.attr("tagName");var s="UL"===i?this:t("<ul></ul>").appendTo(this);if(r.prevText&&e._appendItem.call(this,r.invertPageOrder?r.currentPage+1:r.currentPage-1,{text:r.prevText,classes:"prev"}),r.nextText&&r.nextAtFront&&e._appendItem.call(this,r.invertPageOrder?r.currentPage-1:r.currentPage+1,{text:r.nextText,classes:"next"}),r.invertPageOrder){if(o.end<r.pages&&r.edges>0){var a=Math.max(r.pages-r.edges,o.end);for(n=r.pages-1;n>=a;n--)e._appendItem.call(this,n);r.pages-r.edges>o.end&&r.pages-r.edges-o.end!=1?s.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):r.pages-r.edges-o.end==1&&e._appendItem.call(this,o.end)}}else if(o.start>0&&r.edges>0){var c=Math.min(r.edges,o.start);for(n=0;c>n;n++)e._appendItem.call(this,n);r.edges<o.start&&o.start-r.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):o.start-r.edges==1&&e._appendItem.call(this,r.edges)}if(r.invertPageOrder)for(n=o.end-1;n>=o.start;n--)e._appendItem.call(this,n);else for(n=o.start;n<o.end;n++)e._appendItem.call(this,n);if(r.invertPageOrder){if(o.start>0&&r.edges>0){r.edges<o.start&&o.start-r.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):o.start-r.edges==1&&e._appendItem.call(this,r.edges);var c=Math.min(r.edges,o.start);for(n=c-1;n>=0;n--)e._appendItem.call(this,n)}}else if(o.end<r.pages&&r.edges>0){r.pages-r.edges>o.end&&r.pages-r.edges-o.end!=1?s.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):r.pages-r.edges-o.end==1&&e._appendItem.call(this,o.end);var a=Math.max(r.pages-r.edges,o.end);for(n=a;n<r.pages;n++)e._appendItem.call(this,n)}r.nextText&&!r.nextAtFront&&e._appendItem.call(this,r.invertPageOrder?r.currentPage-1:r.currentPage+1,{text:r.nextText,classes:"next"})},_getPages:function(t){var e=Math.ceil(t.items/t.itemsOnPage);return e||1},_getInterval:function(t){return{start:Math.ceil(t.currentPage>t.halfDisplayed?Math.max(Math.min(t.currentPage-t.halfDisplayed,t.pages-t.displayedPages),0):0),end:Math.ceil(t.currentPage>t.halfDisplayed?Math.min(t.currentPage+t.halfDisplayed,t.pages):Math.min(t.displayedPages,t.pages))}},_appendItem:function(n,i){var r,o,s=this,a=s.data("pagination"),c=t("<li></li>"),l=s.find("ul");n=0>n?0:n<a.pages?n:a.pages-1,r={text:n+1,classes:""},a.labelMap.length&&a.labelMap[n]&&(r.text=a.labelMap[n]),r=t.extend(r,i||{}),n==a.currentPage||a.disabled?(c.addClass(a.disabled?"disabled":"active"),o=t('<span class="current">'+r.text+"</span>")):(o=t('<a href="'+a.hrefTextPrefix+(n+1)+a.hrefTextSuffix+'" class="page-link">'+r.text+"</a>"),o.click(function(t){return e._selectPage.call(s,n,t)})),r.classes&&o.addClass(r.classes),c.append(o),l.length?l.append(c):s.append(c)},_selectPage:function(t,n){var i=this.data("pagination");return i.currentPage=t,i.selectOnClick&&e._draw.call(this),i.onPageClick(t+1,n)}};t.fn.pagination=function(n){return e[n]&&"_"!=n.charAt(0)?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.pagination"):e.init.apply(this,arguments)}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t:t(jQuery)}(function(t,e){"use strict";function n(e,n,i,r){for(var o=[],s=0;s<e.length;s++){var a=e[s];if(a){var c=tinycolor(a),l=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(n,a)?" sp-thumb-active":"";var u=c.toString(r.preferredFormat||"rgb"),h=g?"background-color:"+c.toRgbString():"filter:"+c.toFilter();o.push('<span title="'+u+'" data-color="'+c.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var f="sp-clear-display";o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+f+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+o.join("")+"</div>"}function i(){for(var t=0;t<d.length;t++)d[t]&&d[t].hide()}function r(e,n){var i=t.extend({},f,e);return i.callbacks={move:l(i.move,n),change:l(i.change,n),show:l(i.show,n),hide:l(i.hide,n),beforeShow:l(i.beforeShow,n)},i}function o(o,a){function l(){if(Y.showPaletteOnly&&(Y.showPalette=!0),Ne.text(Y.showPaletteOnly?Y.togglePaletteMoreText:Y.togglePaletteLessText),Y.palette){he=Y.palette.slice(0),fe=t.isArray(he[0])?he:[he],de={};for(var e=0;e<fe.length;e++)for(var n=0;n<fe[e].length;n++){var i=tinycolor(fe[e][n]).toRgbString();de[i]=!0}}we.toggleClass("sp-flat",U),we.toggleClass("sp-input-disabled",!Y.showInput),we.toggleClass("sp-alpha-enabled",Y.showAlpha),we.toggleClass("sp-clear-enabled",Ge),we.toggleClass("sp-buttons-disabled",!Y.showButtons),we.toggleClass("sp-palette-buttons-disabled",!Y.togglePaletteOnly),we.toggleClass("sp-palette-disabled",!Y.showPalette),we.toggleClass("sp-palette-only",Y.showPaletteOnly),we.toggleClass("sp-initial-disabled",!Y.showInitial),we.addClass(Y.className).addClass(Y.containerClassName),R()}function f(){function e(e){return e.data&&e.data.ignore?(P(t(e.target).closest(".sp-thumb-el").data("color")),I()):(P(t(e.target).closest(".sp-thumb-el").data("color")),I(),H(!0),Y.hideAfterPaletteSelect&&M()),!1}if(p&&we.find("*:not(input)").attr("unselectable","on"),l(),Re&&ye.after(Fe).hide(),Ge||je.hide(),U)ye.after(we).hide();else{var n="parent"===Y.appendTo?ye.parent():t(Y.appendTo);1!==n.length&&(n=t("body")),n.append(we)}y(),Be.bind("click.spectrum touchstart.spectrum",function(e){xe||T(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(ye.is(":disabled")||Y.disabled===!0)&&z(),we.click(c),Me.change(E),Me.bind("paste",function(){setTimeout(E,1)}),Me.keydown(function(t){13==t.keyCode&&E()}),De.text(Y.cancelText),De.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),O(),M()}),je.attr("title",Y.clearText),je.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),qe=!0,I(),U&&H(!0)}),Ie.text(Y.chooseText),Ie.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),j()&&(H(!0),M())}),Ne.text(Y.showPaletteOnly?Y.togglePaletteMoreText:Y.togglePaletteLessText),Ne.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Y.showPaletteOnly=!Y.showPaletteOnly,Y.showPaletteOnly||U||we.css("left","-="+(_e.outerWidth(!0)+5)),l()}),u(ke,function(t,e,n){ue=t/re,qe=!1,n.shiftKey&&(ue=Math.round(10*ue)/10),I()},$,S),u(Se,function(t,e){ae=parseFloat(e/ne),qe=!1,Y.showAlpha||(ue=1),I()},$,S),u(Ce,function(t,e,n){if(n.shiftKey){if(!ve){var i=ce*Q,r=te-le*te,o=Math.abs(t-i)>Math.abs(e-r);ve=o?"x":"y"}}else ve=null;var s=!ve||"x"===ve,a=!ve||"y"===ve;s&&(ce=parseFloat(t/Q)),a&&(le=parseFloat((te-e)/te)),qe=!1,Y.showAlpha||(ue=1),I()},$,S),ze?(P(ze),N(),Ue=Ye||tinycolor(ze).format,x(ze)):N(),U&&k();var i=p?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Oe.delegate(".sp-thumb-el",i,e),Pe.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}function y(){if(q&&window.localStorage){try{var e=window.localStorage[q].split(",#");e.length>1&&(delete window.localStorage[q],t.each(e,function(t,e){x(e)}))}catch(n){}try{pe=window.localStorage[q].split(";")}catch(n){}}}function x(e){if(V){var n=tinycolor(e).toRgbString();if(!de[n]&&-1===t.inArray(n,pe))for(pe.push(n);pe.length>ge;)pe.shift();if(q&&window.localStorage)try{window.localStorage[q]=pe.join(";")}catch(i){}}}function w(){var t=[];if(Y.showPalette)for(var e=0;e<pe.length;e++){var n=tinycolor(pe[e]).toRgbString();de[n]||t.push(pe[e])}return t.reverse().slice(0,Y.maxSelectionSize)}function _(){var e=D(),i=t.map(fe,function(t,i){return n(t,e,"sp-palette-row sp-palette-row-"+i,Y)});y(),pe&&i.push(n(w(),e,"sp-palette-row sp-palette-row-selection",Y)),Oe.html(i.join(""))}function C(){if(Y.showInitial){var t=Xe,e=D();Pe.html(n([t,e],e,"sp-palette-row-initial",Y))}}function $(){(0>=te||0>=Q||0>=ne)&&R(),we.addClass(me),ve=null,ye.trigger("dragstart.spectrum",[D()])}function S(){we.removeClass(me),ye.trigger("dragstop.spectrum",[D()])}function E(){var t=Me.val();if(null!==t&&""!==t||!Ge){var e=tinycolor(t);e.isValid()?(P(e),H(!0)):Me.addClass("sp-validation-error")}else P(null),H(!0)}function T(){Z?M():k()}function k(){var e=t.Event("beforeShow.spectrum");return Z?void R():(ye.trigger(e,[D()]),void(K.beforeShow(D())===!1||e.isDefaultPrevented()||(i(),Z=!0,t(be).bind("click.spectrum",A),t(window).bind("resize.spectrum",J),Fe.addClass("sp-active"),we.removeClass("sp-hidden"),R(),N(),Xe=D(),C(),K.show(Xe),ye.trigger("show.spectrum",[Xe]))))}function A(t){2!=t.button&&(Ve?H(!0):O(),M())}function M(){Z&&!U&&(Z=!1,t(be).unbind("click.spectrum",A),t(window).unbind("resize.spectrum",J),Fe.removeClass("sp-active"),we.addClass("sp-hidden"),K.hide(D()),ye.trigger("hide.spectrum",[D()]))}function O(){P(Xe,!0)}function P(t,e){if(tinycolor.equals(t,D()))return void N();var n,i;!t&&Ge?qe=!0:(qe=!1,n=tinycolor(t),i=n.toHsv(),ae=i.h%360/360,ce=i.s,le=i.v,ue=i.a),N(),n&&n.isValid()&&!e&&(Ue=Ye||n.getFormat())}function D(t){return t=t||{},Ge&&qe?null:tinycolor.fromRatio({h:ae,s:ce,v:le,a:Math.round(100*ue)/100},{format:t.format||Ue})}function j(){return!Me.hasClass("sp-validation-error")}function I(){N(),K.move(D()),ye.trigger("move.spectrum",[D()])}function N(){Me.removeClass("sp-validation-error"),L();var t=tinycolor.fromRatio({h:ae,s:1,v:1});Ce.css("background-color",t.toHexString());var e=Ue;1>ue&&(0!==ue||"name"!==e)&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var n=D({format:e}),i="";if(We.removeClass("sp-clear-display"),We.css("background-color","transparent"),!n&&Ge)We.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(g||1===n.alpha?We.css("background-color",o):(We.css("background-color","transparent"),We.css("filter",n.toFilter())),Y.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),c="linear-gradient(left, "+a+", "+r+")";p?Te.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(Te.css("background","-webkit-"+c),Te.css("background","-moz-"+c),Te.css("background","-ms-"+c),Te.css("background","linear-gradient(to right, "+a+", "+r+")"))
}i=n.toString(e)}Y.showInput&&Me.val(i),Y.showPalette&&_(),C()}function L(){var t=ce,e=le;if(Ge&&qe)Ae.hide(),Ee.hide(),$e.hide();else{Ae.show(),Ee.show(),$e.show();var n=t*Q,i=te-e*te;n=Math.max(-ee,Math.min(Q-ee,n-ee)),i=Math.max(-ee,Math.min(te-ee,i-ee)),$e.css({top:i+"px",left:n+"px"});var r=ue*re;Ae.css({left:r-oe/2+"px"});var o=ae*ne;Ee.css({top:o-se+"px"})}}function H(t){var e=D(),n="",i=!tinycolor.equals(e,Xe);e&&(n=e.toString(Ue),x(e)),Le&&ye.val(n),t&&i&&(K.change(e),ye.trigger("change",[e]))}function R(){Q=Ce.width(),te=Ce.height(),ee=$e.height(),ie=Se.width(),ne=Se.height(),se=Ee.height(),re=ke.width(),oe=Ae.width(),U||(we.css("position","absolute"),we.offset(Y.offset?Y.offset:s(we,Be))),L(),Y.showPalette&&_(),ye.trigger("reflow.spectrum")}function F(){ye.show(),Be.unbind("click.spectrum touchstart.spectrum"),we.remove(),Fe.remove(),d[Ke.id]=null}function B(n,i){return n===e?t.extend({},Y):i===e?Y[n]:(Y[n]=i,void l())}function W(){xe=!1,ye.attr("disabled",!1),Be.removeClass("sp-disabled")}function z(){M(),xe=!0,ye.attr("disabled",!0),Be.addClass("sp-disabled")}function X(t){Y.offset=t,R()}var Y=r(a,o),U=Y.flat,V=Y.showSelectionPalette,q=Y.localStorageKey,G=Y.theme,K=Y.callbacks,J=h(R,10),Z=!1,Q=0,te=0,ee=0,ne=0,ie=0,re=0,oe=0,se=0,ae=0,ce=0,le=0,ue=1,he=[],fe=[],de={},pe=Y.selectionPalette.slice(0),ge=Y.maxSelectionSize,me="sp-dragging",ve=null,be=o.ownerDocument,ye=(be.body,t(o)),xe=!1,we=t(b,be).addClass(G),_e=we.find(".sp-picker-container"),Ce=we.find(".sp-color"),$e=we.find(".sp-dragger"),Se=we.find(".sp-hue"),Ee=we.find(".sp-slider"),Te=we.find(".sp-alpha-inner"),ke=we.find(".sp-alpha"),Ae=we.find(".sp-alpha-handle"),Me=we.find(".sp-input"),Oe=we.find(".sp-palette"),Pe=we.find(".sp-initial"),De=we.find(".sp-cancel"),je=we.find(".sp-clear"),Ie=we.find(".sp-choose"),Ne=we.find(".sp-palette-toggle"),Le=ye.is("input"),He=Le&&m&&"color"===ye.attr("type"),Re=Le&&!U,Fe=Re?t(v).addClass(G).addClass(Y.className).addClass(Y.replacerClassName):t([]),Be=Re?Fe:ye,We=Fe.find(".sp-preview-inner"),ze=Y.color||Le&&ye.val(),Xe=!1,Ye=Y.preferredFormat,Ue=Ye,Ve=!Y.showButtons||Y.clickoutFiresChange,qe=!ze,Ge=Y.allowEmpty&&!He;f();var Ke={show:k,hide:M,toggle:T,reflow:R,option:B,enable:W,disable:z,offset:X,set:function(t){P(t),H()},get:D,destroy:F,container:we};return Ke.id=d.push(Ke)-1,Ke}function s(e,n){var i=0,r=e.outerWidth(),o=e.outerHeight(),s=n.outerHeight(),a=e[0].ownerDocument,c=a.documentElement,l=c.clientWidth+t(a).scrollLeft(),u=c.clientHeight+t(a).scrollTop(),h=n.offset();return h.top+=s,h.left-=Math.min(h.left,h.left+r>l&&l>r?Math.abs(h.left+r-l):0),h.top-=Math.min(h.top,h.top+o>u&&u>o?Math.abs(o+s-i):i),h}function a(){}function c(t){t.stopPropagation()}function l(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function u(e,n,i,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(u){if(p&&l.documentMode<9&&!t.button)return c();var i=t.originalEvent&&t.originalEvent.touches,r=i?i[0].pageX:t.pageX,s=i?i[0].pageY:t.pageY,a=Math.max(0,Math.min(r-h.left,d)),m=Math.max(0,Math.min(s-h.top,f));g&&o(t),n.apply(e,[a,m,t])}}function a(n){var r=n.which?3==n.which:2==n.button;r||u||i.apply(e,arguments)!==!1&&(u=!0,f=t(e).height(),d=t(e).width(),h=t(e).offset(),t(l).bind(m),t(l.body).addClass("sp-dragging"),g||s(n),o(n))}function c(){u&&(t(l).unbind(m),t(l.body).removeClass("sp-dragging"),r.apply(e,arguments)),u=!1}n=n||function(){},i=i||function(){},r=r||function(){};var l=document,u=!1,h={},f=0,d=0,g="ontouchstart"in window,m={};m.selectstart=o,m.dragstart=o,m["touchmove mousemove"]=s,m["touchend mouseup"]=c,t(e).bind("touchstart mousedown",a)}function h(t,e,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,t.apply(r,o)};n&&clearTimeout(i),(n||!i)&&(i=setTimeout(s,e))}}var f={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},d=[],p=!!/msie/i.exec(window.navigator.userAgent),g=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),m=function(){var e=t("<input type='color' value='!' />")[0];return"color"===e.type&&"!"!==e.value}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var t="";if(p)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var n=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=d[t(this).data(y)];if(r){var o=r[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=r.get():"container"==e?n=r.container:"option"==e?n=r.option.apply(r,i):"destroy"==e?(r.destroy(),t(this).removeData(y)):o.apply(r,i)}}),n}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),i=o(this,n);t(this).data(y,i.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=u,t.fn.spectrum.defaults=f,t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){m||t("input[type=color]").spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},r=1,s=!1,a=!1;return"string"==typeof t&&(t=P(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=A(t.s),t.v=A(t.v),n=o(t.h,t.s,t.v),s=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=A(t.s),t.l=A(t.l),n=i(t.h,t.s,t.l),s=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=_(r),{ok:s,format:t.format||a,r:H(255,R(n.r,0)),g:H(255,R(n.g,0)),b:H(255,R(n.b,0)),a:r}}function e(t,e,n){return{r:255*C(t,255),g:255*C(e,255),b:255*C(n,255)}}function n(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var i,r,o=R(t,e,n),s=H(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var c=o-s;switch(r=a>.5?c/(2-o-s):c/(o+s),o){case t:i=(e-n)/c+(n>e?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:a}}function i(t,e,n){function i(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var r,o,s;if(t=C(t,360),e=C(e,100),n=C(n,100),0===e)r=o=s=n;else{var a=.5>n?n*(1+e):n+e-n*e,c=2*n-a;r=i(c,a,t+1/3),o=i(c,a,t),s=i(c,a,t-1/3)}return{r:255*r,g:255*o,b:255*s}}function r(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var i,r,o=R(t,e,n),s=H(t,e,n),a=o,c=o-s;if(r=0===o?0:c/o,o==s)i=0;else{switch(o){case t:i=(e-n)/c+(n>e?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:a}}function o(t,e,n){t=6*C(t,360),e=C(e,100),n=C(n,100);var i=N.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),c=i%6,l=[n,s,o,o,a,n][c],u=[a,n,n,s,o,o][c],h=[o,o,a,n,n,s][c];return{r:255*l,g:255*u,b:255*h}}function s(t,e,n,i){var r=[k(L(t).toString(16)),k(L(e).toString(16)),k(L(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,n,i){var r=[k(M(i)),k(L(t).toString(16)),k(L(e).toString(16)),k(L(n).toString(16))];return r.join("")}function c(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s-=e/100,n.s=$(n.s),B(n)}function l(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s+=e/100,n.s=$(n.s),B(n)}function u(t){return B(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l+=e/100,n.l=$(n.l),B(n)}function f(t,e){e=0===e?0:e||10;var n=B(t).toRgb();return n.r=R(0,H(255,n.r-L(255*-(e/100)))),n.g=R(0,H(255,n.g-L(255*-(e/100)))),n.b=R(0,H(255,n.b-L(255*-(e/100)))),B(n)}function d(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l-=e/100,n.l=$(n.l),B(n)}function p(t,e){var n=B(t).toHsl(),i=(L(n.h)+e)%360;return n.h=0>i?360+i:i,B(n)}function g(t){var e=B(t).toHsl();return e.h=(e.h+180)%360,B(e)}function m(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+120)%360,s:e.s,l:e.l}),B({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+90)%360,s:e.s,l:e.l}),B({h:(n+180)%360,s:e.s,l:e.l}),B({h:(n+270)%360,s:e.s,l:e.l})]}function b(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+72)%360,s:e.s,l:e.l}),B({h:(n+216)%360,s:e.s,l:e.l})]}function y(t,e,n){e=e||6,n=n||30;var i=B(t).toHsl(),r=360/n,o=[B(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(B(i));return o}function x(t,e){e=e||6;for(var n=B(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(B({h:i,s:r,v:o})),o=(o+a)%1;return s}function w(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function _(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function C(t,e){E(t)&&(t="100%");var n=T(t);return t=H(e,R(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),N.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function $(t){return H(1,R(0,t))}function S(t){return parseInt(t,16)}function E(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function T(t){return"string"==typeof t&&-1!=t.indexOf("%")}function k(t){return 1==t.length?"0"+t:""+t}function A(t){return 1>=t&&(t=100*t+"%"),t}function M(t){return Math.round(255*parseFloat(t)).toString(16)}function O(t){return S(t)/255}function P(t){t=t.replace(D,"").replace(j,"").toLowerCase();var e=!1;if(W[t])t=W[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=X.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=X.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=X.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=X.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=X.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=X.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=X.hex8.exec(t))?{a:O(n[1]),r:S(n[2]),g:S(n[3]),b:S(n[4]),format:e?"name":"hex8"}:(n=X.hex6.exec(t))?{r:S(n[1]),g:S(n[2]),b:S(n[3]),format:e?"name":"hex"}:(n=X.hex3.exec(t))?{r:S(n[1]+""+n[1]),g:S(n[2]+""+n[2]),b:S(n[3]+""+n[3]),format:e?"name":"hex"}:!1}var D=/^[\s,#]+/,j=/\s+$/,I=0,N=Math,L=N.round,H=N.min,R=N.max,F=N.random,B=function Y(e,n){if(e=e?e:"",n=n||{},e instanceof Y)return e;if(!(this instanceof Y))return new Y(e,n);var i=t(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=L(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=i.ok,this._tc_id=I++};B.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=_(t),this._roundA=L(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=L(360*t.h),n=L(100*t.s),i=L(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=L(360*t.h),i=L(100*t.s),r=L(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*C(this._r,255))+"%",g:L(100*C(this._g,255))+"%",b:L(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*C(this._r,255))+"%, "+L(100*C(this._g,255))+"%, "+L(100*C(this._b,255))+"%)":"rgba("+L(100*C(this._r,255))+"%, "+L(100*C(this._g,255))+"%, "+L(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:z[s(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=B(t);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(d,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(m,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},B.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:A(t[i]));t=n}return B(t,e)},B.equals=function(t,e){return t&&e?B(t).toRgbString()==B(e).toRgbString():!1},B.random=function(){return B.fromRatio({r:F(),g:F(),b:F()})},B.mix=function(t,e,n){n=0===n?0:n||50;var i,r=B(t).toRgb(),o=B(e).toRgb(),s=n/100,a=2*s-1,c=o.a-r.a;i=a*c==-1?a:(a+c)/(1+a*c),i=(i+1)/2;var l=1-i,u={r:o.r*i+r.r*l,g:o.g*i+r.g*l,b:o.b*i+r.b*l,a:o.a*s+r.a*(1-s)};return B(u)},B.readability=function(t,e){var n=B(t),i=B(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),c=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:c}},B.isReadable=function(t,e){var n=B.readability(t,e);return n.brightness>125&&n.color>500},B.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=B.readability(t,e[o]),a=s.brightness>125&&s.color>500,c=3*(s.brightness/125)+s.color/500;(a&&!r||a&&r&&c>i||!a&&!r&&c>i)&&(r=a,i=c,n=B(e[o]))}return n};var W=B.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=B.hexNames=w(W),X=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=B}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),!function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(u(t,n),e)}function o(t,e,n){return Array.isArray(t)?(s(t,n[e],n),!0):!1}function s(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function c(t,e){return a(t,e,!0)}function l(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&a(i,n)}function u(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ue?t.apply(e?e[0]||i:i,e):t}function f(t,e){return t===i?e:t}function d(t,e,n){s(v(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(v(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];b(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function w(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<ce.length;){if(n=ce[s],r=n?n+o:e,r in t)return r;s++}return i}function _(){return pe++}function C(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function $(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e,n=t.options.inputClass;return new(e=n?n:ve?R:be?W:me?X:H)(t,E)}function E(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&$e&&i-r===0,s=e&(Ee|Te)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,T(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=M(e)),r>1&&!n.firstMultiple?n.firstMultiple=M(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,c=e.center=O(i);e.timeStamp=de(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=I(a,c),e.distance=j(a,c),k(n,e),e.offsetDirection=D(e.deltaX,e.deltaY),e.scale=s?L(s.pointers,i):1,e.rotation=s?N(s.pointers,i):0,A(n,e);var l=t.element;g(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function k(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};(e.eventType===$e||o.eventType===Ee)&&(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function A(t,e){var n,r,o,s,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(e.eventType!=Te&&(c>Ce||a.velocity===i)){var l=a.deltaX-e.deltaX,u=a.deltaY-e.deltaY,h=P(c,l,u);r=h.x,o=h.y,n=fe(h.x)>fe(h.y)?h.x:h.y,s=D(l,u),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function M(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:he(t.pointers[n].clientX),clientY:he(t.pointers[n].clientY)},n++;return{timeStamp:de(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:he(n/e),y:he(i/e)}}function P(t,e,n){return{x:e/t||0,y:n/t||0}}function D(t,e){return t===e?ke:fe(t)>=fe(e)?t>0?Ae:Me:e>0?Oe:Pe}function j(t,e,n){n||(n=Ne);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function I(t,e,n){n||(n=Ne);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function N(t,e){return I(e[1],e[0],Le)-I(t[1],t[0],Le)}function L(t,e){return j(e[0],e[1],Le)/j(t[0],t[1],Le)}function H(){this.evEl=Re,this.evWin=Fe,this.allow=!0,this.pressed=!1,$.apply(this,arguments)}function R(){this.evEl=ze,this.evWin=Xe,$.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Ue,this.evWin=Ve,this.started=!1,$.apply(this,arguments)}function B(t,e){var n=y(t.touches),i=y(t.changedTouches);return e&(Ee|Te)&&(n=x(n.concat(i),"identifier",!0)),[n,i]}function W(){this.evTarget=Ge,this.targetIds={},$.apply(this,arguments)}function z(t,e){var n=y(t.touches),i=this.targetIds;if(e&($e|Se)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=y(t.changedTouches),a=[],c=this.target;if(o=n.filter(function(t){return g(t.target,c)}),e===$e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(Ee|Te)&&delete i[s[r].identifier],r++;return a.length?[x(o.concat(a),"identifier",!0),a]:void 0}function X(){$.apply(this,arguments);var t=u(this.handler,this);this.touch=new W(this.manager,t),this.mouse=new H(this.manager,t)}function Y(t,e){this.manager=t,this.set(e)}function U(t){if(m(t,en))return en;var e=m(t,nn),n=m(t,rn);return e&&n?nn+" "+rn:e||n?e?nn:rn:m(t,tn)?tn:Qe}function V(t){this.id=_(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=on,this.simultaneous={},this.requireFail=[]}function q(t){return t&un?"cancel":t&cn?"end":t&an?"move":t&sn?"start":""}function G(t){return t==Pe?"down":t==Oe?"up":t==Ae?"left":t==Me?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function J(){V.apply(this,arguments)}function Z(){J.apply(this,arguments),this.pX=null,this.pY=null}function Q(){J.apply(this,arguments)}function te(){V.apply(this,arguments),this._timer=null,this._input=null}function ee(){J.apply(this,arguments)}function ne(){J.apply(this,arguments)}function ie(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(t,e){return e=e||{},e.recognizers=f(e.recognizers,re.defaults.preset),new oe(t,e)}function oe(t,e){e=e||{},this.options=c(e,re.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new Y(this,this.options.touchAction),se(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function se(t,e){var n=t.element;s(t.options.cssProps,function(t,i){n.style[w(n.style,i)]=e?t:""})}function ae(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ce=["","webkit","moz","MS","ms","o"],le=e.createElement("div"),ue="function",he=Math.round,fe=Math.abs,de=Date.now,pe=1,ge=/mobile|tablet|ip(ad|hone|od)|android/i,me="ontouchstart"in t,ve=w(t,"PointerEvent")!==i,be=me&&ge.test(navigator.userAgent),ye="touch",xe="pen",we="mouse",_e="kinect",Ce=25,$e=1,Se=2,Ee=4,Te=8,ke=1,Ae=2,Me=4,Oe=8,Pe=16,De=Ae|Me,je=Oe|Pe,Ie=De|je,Ne=["x","y"],Le=["clientX","clientY"];$.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)}};var He={mousedown:$e,mousemove:Se,mouseup:Ee},Re="mousedown",Fe="mousemove mouseup";l(H,$,{handler:function(t){var e=He[t.type];e&$e&&0===t.button&&(this.pressed=!0),e&Se&&1!==t.which&&(e=Ee),this.pressed&&this.allow&&(e&Ee&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:we,srcEvent:t}))}});var Be={pointerdown:$e,pointermove:Se,pointerup:Ee,pointercancel:Te,pointerout:Te},We={2:ye,3:xe,4:we,5:_e},ze="pointerdown",Xe="pointermove pointerup pointercancel";t.MSPointerEvent&&(ze="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),l(R,$,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Be[i],o=We[t.pointerType]||t.pointerType,s=o==ye,a=b(e,t.pointerId,"pointerId");r&$e&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):r&(Ee|Te)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Ye={touchstart:$e,touchmove:Se,touchend:Ee,touchcancel:Te},Ue="touchstart",Ve="touchstart touchmove touchend touchcancel";l(F,$,{handler:function(t){var e=Ye[t.type];if(e===$e&&(this.started=!0),this.started){var n=B.call(this,t,e);e&(Ee|Te)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ye,srcEvent:t})}}});var qe={touchstart:$e,touchmove:Se,touchend:Ee,touchcancel:Te},Ge="touchstart touchmove touchend touchcancel";l(W,$,{handler:function(t){var e=qe[t.type],n=z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ye,srcEvent:t})}}),l(X,$,{handler:function(t,e,n){var i=n.pointerType==ye,r=n.pointerType==we;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Ee|Te)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=w(le.style,"touchAction"),Je=Ke!==i,Ze="compute",Qe="auto",tn="manipulation",en="none",nn="pan-x",rn="pan-y";Y.prototype={set:function(t){t==Ze&&(t=this.compute()),Je&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),U(t.join(" "))},preventDefaults:function(t){if(!Je){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=m(i,en),o=m(i,rn),s=m(i,nn);return r||o&&n&De||s&&n&je?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var on=1,sn=2,an=4,cn=8,ln=cn,un=16,hn=32;V.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=K(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?q(i):""),t)}var n=this,i=this.state;cn>i&&e(!0),e(),i>=cn&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=hn)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(hn|on)))return!1;
t++}return!0},recognize:function(t){var e=a({},t);return h(this.options.enable,[this,e])?(this.state&(ln|un|hn)&&(this.state=on),this.state=this.process(e),void(this.state&(sn|an|cn|un)&&this.tryEmit(e))):(this.reset(),void(this.state=hn))},process:function(){},getTouchAction:function(){},reset:function(){}},l(J,V,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(sn|an),r=this.attrTest(t);return i&&(n&Te||!r)?e|un:i||r?n&Ee?e|cn:e&sn?e|an:sn:hn}}),l(Z,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ie},getTouchAction:function(){var t=this.options.direction,e=[];return t&De&&e.push(rn),t&je&&e.push(nn),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&De?(r=0===o?ke:0>o?Ae:Me,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?ke:0>s?Oe:Pe,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&sn||!(this.state&sn)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(Q,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&sn)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(te,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Qe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Ee|Te)&&!o)this.reset();else if(t.eventType&$e)this.reset(),this._timer=r(function(){this.state=ln,this.tryEmit()},e.time,this);else if(t.eventType&Ee)return ln;return hn},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ln&&(t&&t.eventType&Ee?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=de(),this.manager.emit(this.options.event,this._input)))}}),l(ee,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&sn)}}),l(ne,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:De|je,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(De|je)?e=t.velocity:n&De?e=t.velocityX:n&je&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&fe(e)>this.options.velocity&&t.eventType&Ee},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(ie,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[tn]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&$e&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=Ee)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||j(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var c=this.count%e.taps;if(0===c)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ln,this.tryEmit()},e.interval,this),sn):ln}return hn},failTimeout:function(){return this._timer=r(function(){this.state=hn},this.options.interval,this),hn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ln&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.4",re.defaults={domEvents:!1,touchAction:Ze,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[Q,{enable:!1},["rotate"]],[ne,{direction:De}],[Z,{direction:De},["swipe"]],[ie],[ie,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fn=1,dn=2;oe.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?dn:fn},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ln)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===dn||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(sn|an|cn)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof V)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return s(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return s(v(t),function(t){e?n[t].splice(b(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ae(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&se(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(re,{INPUT_START:$e,INPUT_MOVE:Se,INPUT_END:Ee,INPUT_CANCEL:Te,STATE_POSSIBLE:on,STATE_BEGAN:sn,STATE_CHANGED:an,STATE_ENDED:cn,STATE_RECOGNIZED:ln,STATE_CANCELLED:un,STATE_FAILED:hn,DIRECTION_NONE:ke,DIRECTION_LEFT:Ae,DIRECTION_RIGHT:Me,DIRECTION_UP:Oe,DIRECTION_DOWN:Pe,DIRECTION_HORIZONTAL:De,DIRECTION_VERTICAL:je,DIRECTION_ALL:Ie,Manager:oe,Input:$,TouchAction:Y,TouchInput:W,MouseInput:H,PointerEventInput:R,TouchMouseInput:X,SingleTouchInput:F,Recognizer:V,AttrRecognizer:J,Tap:ie,Pan:Z,Swipe:ne,Pinch:Q,Rotate:ee,Press:te,on:d,off:p,each:s,merge:c,extend:a,inherit:l,bindFn:u,prefixed:w}),typeof define==ue&&define.amd?define(function(){return re}):"undefined"!=typeof module&&module.exports?module.exports=re:t[n]=re}(window,document,"Hammer"),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var s=e||window.event,a=c.call(arguments,1),l=0,h=0,f=0,d=0,p=0,g=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(f=-1*s.detail),"wheelDelta"in s&&(f=s.wheelDelta),"wheelDeltaY"in s&&(f=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*f,f=0),l=0===f?h:f,"deltaY"in s&&(f=-1*s.deltaY,l=f),"deltaX"in s&&(h=s.deltaX,0===f&&(l=-1*h)),0!==f||0!==h){if(1===s.deltaMode){var m=t.data(this,"mousewheel-line-height");l*=m,f*=m,h*=m}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");l*=v,f*=v,h*=v}if(d=Math.max(Math.abs(f),Math.abs(h)),(!o||o>d)&&(o=d,i(s,d)&&(o/=40)),i(s,d)&&(l/=40,h/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/o),h=Math[h>=1?"floor":"ceil"](h/o),f=Math[f>=1?"floor":"ceil"](f/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=e.clientX-b.left,g=e.clientY-b.top}return e.deltaX=h,e.deltaY=f,e.deltaFactor=o,e.offsetX=p,e.offsetY=g,e.deltaMode=0,a.unshift(e,l,h,f),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){o=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var r,o,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(t.event.fixHooks)for(var l=s.length;l;)t.event.fixHooks[s[--l]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),!function(t,e,n){!function(e){var i="function"==typeof define&&define.amd,r="https:"==n.location.protocol?"https:":"http:",o="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";i||t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+r+"//"+o+"%3E%3C/script%3E")),e()}(function(){var i,r="mCustomScrollbar",o="mCS",s=".mCustomScrollbar",a={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},c=0,l={},u=e.attachEvent&&!e.addEventListener?1:0,h=!1,f=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(e){var e=t.extend(!0,{},a,e),n=p.call(this);if(e.live){var i=e.liveSelector||this.selector||s,r=t(i);if("off"===e.live)return void m(i);l[i]=setTimeout(function(){r.mCustomScrollbar(e),"once"===e.live&&r.length&&m(i)},500)}else m(i);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":v(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=b(e.scrollButtons.scrollType),g(e),t(n).each(function(){var n=t(this);if(!n.data(o)){n.data(o,{idx:++c,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null});var i=n.data(o),r=i.opt,s=n.data("mcs-axis"),a=n.data("mcs-scrollbar-position"),l=n.data("mcs-theme");s&&(r.axis=s),a&&(r.scrollbarPosition=a),l&&(r.theme=l,g(r)),y.call(this),t("#mCSB_"+i.idx+"_container img:not(."+f[2]+")").addClass(f[2]),d.update.call(null,n)}})},update:function(e,n){var i=e||p.call(this);return t(i).each(function(){var e=t(this);if(e.data(o)){var i=e.data(o),r=i.opt,s=t("#mCSB_"+i.idx+"_container"),a=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(!s.length)return;i.tweenRunning&&q(e),e.hasClass(f[3])&&e.removeClass(f[3]),e.hasClass(f[4])&&e.removeClass(f[4]),C.call(this),w.call(this),"y"===r.axis||r.advanced.autoExpandHorizontalScroll||s.css("width",x(s.children())),i.overflowed=T.call(this),O.call(this),r.autoDraggerLength&&$.call(this),S.call(this),A.call(this);var c=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)];"x"!==r.axis&&(i.overflowed[0]?a[0].height()>a[0].parent().height()?k.call(this):(G(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(k.call(this),"y"===r.axis?M.call(this):"yx"===r.axis&&i.overflowed[1]&&G(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(i.overflowed[1]?a[1].width()>a[1].parent().width()?k.call(this):(G(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(k.call(this),"x"===r.axis?M.call(this):"yx"===r.axis&&i.overflowed[0]&&G(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&i&&(2===n&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===n&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this)),U.call(this)}})},scrollTo:function(e,n){if("undefined"!=typeof e&&null!=e){var i=p.call(this);return t(i).each(function(){var i=t(this);if(i.data(o)){var r=i.data(o),s=r.opt,a={trigger:"external",scrollInertia:s.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},c=t.extend(!0,{},a,n),l=X.call(this,e),u=c.scrollInertia>0&&c.scrollInertia<17?17:c.scrollInertia;l[0]=Y.call(this,l[0],"y"),l[1]=Y.call(this,l[1],"x"),c.moveDragger&&(l[0]*=r.scrollRatio.y,l[1]*=r.scrollRatio.x),c.dur=u,setTimeout(function(){null!==l[0]&&"undefined"!=typeof l[0]&&"x"!==s.axis&&r.overflowed[0]&&(c.dir="y",c.overwrite="all",G(i,l[0].toString(),c)),null!==l[1]&&"undefined"!=typeof l[1]&&"y"!==s.axis&&r.overflowed[1]&&(c.dir="x",c.overwrite="none",G(i,l[1].toString(),c))},c.timeout)}})}},stop:function(){var e=p.call(this);return t(e).each(function(){var e=t(this);e.data(o)&&q(e)})},disable:function(e){var n=p.call(this);return t(n).each(function(){var n=t(this);n.data(o)&&(n.data(o),U.call(this,"remove"),M.call(this),e&&k.call(this),O.call(this,!0),n.addClass(f[3]))})},destroy:function(){var e=p.call(this);return t(e).each(function(){var n=t(this);if(n.data(o)){var i=n.data(o),s=i.opt,a=t("#mCSB_"+i.idx),c=t("#mCSB_"+i.idx+"_container"),l=t(".mCSB_"+i.idx+"_scrollbar");s.live&&m(s.liveSelector||t(e).selector),U.call(this,"remove"),M.call(this),k.call(this),n.removeData(o),Q(this,"mcs"),l.remove(),c.find("img."+f[2]).removeClass(f[2]),a.replaceWith(c.contents()),n.removeClass(r+" _"+o+"_"+i.idx+" "+f[6]+" "+f[7]+" "+f[5]+" "+f[3]).addClass(f[4])}})}},p=function(){return"object"!=typeof t(this)||t(this).length<1?s:this},g=function(e){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],i=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],r=["minimal","minimal-dark"],o=["minimal","minimal-dark"],s=["minimal","minimal-dark"];e.autoDraggerLength=t.inArray(e.theme,n)>-1?!1:e.autoDraggerLength,e.autoExpandScrollbar=t.inArray(e.theme,i)>-1?!1:e.autoExpandScrollbar,e.scrollButtons.enable=t.inArray(e.theme,r)>-1?!1:e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,o)>-1?!0:e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,s)>-1?"outside":e.scrollbarPosition},m=function(t){l[t]&&(clearTimeout(l[t]),Q(l,t))},v=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},b=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},y=function(){var e=t(this),n=e.data(o),i=n.opt,s=i.autoExpandScrollbar?" "+f[1]+"_expand":"",a=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+s+"'><div class='"+f[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+s+"'><div class='"+f[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],c="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===i.axis?a[0]+a[1]:"x"===i.axis?a[1]:a[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=i.autoHideScrollbar?" "+f[6]:"",d="x"!==i.axis&&"rtl"===n.langDir?" "+f[7]:"";i.setWidth&&e.css("width",i.setWidth),i.setHeight&&e.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,e.addClass(r+" _"+o+"_"+n.idx+h+d).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+c+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /></div>");var p=t("#mCSB_"+n.idx),g=t("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||g.css("width",x(g.children())),"outside"===i.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),p.addClass("mCSB_outside").after(l)):(p.addClass("mCSB_inside").append(l),g.wrap(u)),_.call(this);var m=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];m[0].css("min-height",m[0].height()),m[1].css("min-width",m[1].width())},x=function(e){return Math.max.apply(Math,e.map(function(){return t(this).outerWidth(!0)}).get())},w=function(){var e=t(this),n=e.data(o),i=n.opt,r=t("#mCSB_"+n.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&r.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),position:"relative"}).unwrap()},_=function(){var e=t(this),n=e.data(o),i=n.opt,r=t(".mCSB_"+n.idx+"_scrollbar:first"),s=ne(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+f[13]+"' oncontextmenu='return false;' "+s+" />","<a href='#' class='"+f[14]+"' oncontextmenu='return false;' "+s+" />","<a href='#' class='"+f[15]+"' oncontextmenu='return false;' "+s+" />","<a href='#' class='"+f[16]+"' oncontextmenu='return false;' "+s+" />"],c=["x"===i.axis?a[2]:a[0],"x"===i.axis?a[3]:a[1],a[2],a[3]];i.scrollButtons.enable&&r.prepend(c[0]).append(c[1]).next(".mCSB_scrollTools").prepend(c[2]).append(c[3])},C=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=e.css("max-height")||"none",s=-1!==r.indexOf("%"),a=e.css("box-sizing");if("none"!==r){var c=s?e.parent().height()*parseInt(r)/100:parseInt(r);"border-box"===a&&(c-=e.innerHeight()-e.height()+(e.outerHeight()-e.innerHeight())),i.css("max-height",Math.round(c))}},$=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],a=[i.height()/r.outerHeight(!1),i.width()/r.outerWidth(!1)],c=[parseInt(s[0].css("min-height")),Math.round(a[0]*s[0].parent().height()),parseInt(s[1].css("min-width")),Math.round(a[1]*s[1].parent().width())],l=u&&c[1]<c[0]?c[0]:c[1],h=u&&c[3]<c[2]?c[2]:c[3];s[0].css({height:l,"max-height":s[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),s[1].css({width:h,"max-width":s[1].parent().width()-10})},S=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],a=[r.outerHeight(!1)-i.height(),r.outerWidth(!1)-i.width()],c=[a[0]/(s[0].parent().height()-s[0].height()),a[1]/(s[1].parent().width()-s[1].width())];n.scrollRatio={y:c[0],x:c[1]}},E=function(t,e,n){var i=n?f[0]+"_expanded":"",r=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(f[0]+" "+i),r.toggleClass(f[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(f[0]),r.removeClass(f[1])):(t.addClass(f[0]),r.addClass(f[1])))},T=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),s=null==n.overflowed?r.height():r.outerHeight(!1),a=null==n.overflowed?r.width():r.outerWidth(!1);return[s>i.height(),a>i.width()]},k=function(){var e=t(this),n=e.data(o),i=n.opt,r=t("#mCSB_"+n.idx),s=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(q(e),("x"!==i.axis&&!n.overflowed[0]||"y"===i.axis&&n.overflowed[0])&&(a[0].add(s).css("top",0),G(e,"_resetY")),"y"!==i.axis&&!n.overflowed[1]||"x"===i.axis&&n.overflowed[1]){var c=dx=0;"rtl"===n.langDir&&(c=r.width()-s.outerWidth(!1),dx=Math.abs(c/n.scrollRatio.x)),s.css("left",c),a[1].css("left",dx),G(e,"_resetX")}},A=function(){function e(){s=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(s),N.call(n[0])):e()},100)}var n=t(this),i=n.data(o),r=i.opt;if(!i.bindEvents){if(D.call(this),r.contentTouchScroll&&j.call(this),I.call(this),r.mouseWheel.enable){var s;e()}H.call(this),F.call(this),r.advanced.autoScrollOnFocus&&R.call(this),r.scrollButtons.enable&&B.call(this),r.keyboard.enable&&W.call(this),i.bindEvents=!0}},M=function(){var e=t(this),i=e.data(o),r=i.opt,s=o+"_"+i.idx,a=".mCSB_"+i.idx+"_scrollbar",c=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+a+" ."+f[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+a+">a"),l=t("#mCSB_"+i.idx+"_container");r.advanced.releaseDraggableSelectors&&c.add(t(r.advanced.releaseDraggableSelectors)),i.bindEvents&&(t(n).unbind("."+s),c.each(function(){t(this).unbind("."+s)}),clearTimeout(e[0]._focusTimeout),Q(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),Q(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Q(l[0],"onCompleteTimeout"),i.bindEvents=!1)},O=function(e){var n=t(this),i=n.data(o),r=i.opt,s=t("#mCSB_"+i.idx+"_container_wrapper"),a=s.length?s:t("#mCSB_"+i.idx+"_container"),c=[t("#mCSB_"+i.idx+"_scrollbar_vertical"),t("#mCSB_"+i.idx+"_scrollbar_horizontal")],l=[c[0].find(".mCSB_dragger"),c[1].find(".mCSB_dragger")];"x"!==r.axis&&(i.overflowed[0]&&!e?(c[0].add(l[0]).add(c[0].children("a")).css("display","block"),a.removeClass(f[8]+" "+f[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&l[0].css("display","none"),a.removeClass(f[10])):(c[0].css("display","none"),a.addClass(f[10])),a.addClass(f[8]))),"y"!==r.axis&&(i.overflowed[1]&&!e?(c[1].add(l[1]).add(c[1].children("a")).css("display","block"),a.removeClass(f[9]+" "+f[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&l[1].css("display","none"),a.removeClass(f[11])):(c[1].css("display","none"),a.addClass(f[11])),a.addClass(f[9]))),i.overflowed[0]||i.overflowed[1]?n.removeClass(f[5]):n.addClass(f[5])},P=function(t){var e=t.type;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return[n.pageY,n.pageX,i>1];default:return[t.pageY,t.pageX,!1]}},D=function(){function e(t){var e=g.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}}function i(t,e,n,i){if(g[0].idleTimer=f.scrollInertia<233?250:0,r.attr("id")===p[1])var o="x",s=(r[0].offsetLeft-e+i)*l.scrollRatio.x;else var o="y",s=(r[0].offsetTop-t+n)*l.scrollRatio.y;G(c,s.toString(),{dir:o,drag:!0})}var r,s,a,c=t(this),l=c.data(o),f=l.opt,d=o+"_"+l.idx,p=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],g=t("#mCSB_"+l.idx+"_container"),m=t("#"+p[0]+",#"+p[1]),v=f.advanced.releaseDraggableSelectors?m.add(t(f.advanced.releaseDraggableSelectors)):m;m.bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(i){if(i.stopImmediatePropagation(),i.preventDefault(),te(i)){h=!0,u&&(n.onselectstart=function(){return!1}),e(!1),q(c),r=t(this);var o=r.offset(),l=P(i)[0]-o.top,d=P(i)[1]-o.left,p=r.height()+o.top,g=r.width()+o.left;p>l&&l>0&&g>d&&d>0&&(s=l,a=d),E(r,"active",f.autoExpandScrollbar)}}).bind("touchmove."+d,function(t){t.stopImmediatePropagation(),t.preventDefault();var e=r.offset(),n=P(t)[0]-e.top,o=P(t)[1]-e.left;i(s,a,n,o)}),t(n).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(t){if(r){var e=r.offset(),n=P(t)[0]-e.top,o=P(t)[1]-e.left;if(s===n)return;i(s,a,n,o)}}).add(v).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(){r&&(E(r,"active",f.autoExpandScrollbar),r=null),h=!1,u&&(n.onselectstart=null),e(!0)})},j=function(){function e(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function n(t,e,n,i,r,o){t&&G(y,t.toString(),{dur:e,scrollEasing:n,dir:i,overwrite:r,drag:o})}var r,s,a,c,l,u,f,d,p,g,m,v,b,y=t(this),x=y.data(o),w=x.opt,_=o+"_"+x.idx,C=t("#mCSB_"+x.idx),$=t("#mCSB_"+x.idx+"_container"),S=[t("#mCSB_"+x.idx+"_dragger_vertical"),t("#mCSB_"+x.idx+"_dragger_horizontal")],E=[],T=[],k=0,A="yx"===w.axis?"none":"all",M=[];$.bind("touchstart."+_+" pointerdown."+_+" MSPointerDown."+_,function(t){if(!ee(t)||h||P(t)[2])return void(i=0);i=1,v=0,b=0;var e=$.offset();r=P(t)[0]-e.top,s=P(t)[1]-e.left,M=[P(t)[0],P(t)[1]]}).bind("touchmove."+_+" pointermove."+_+" MSPointerMove."+_,function(t){if(ee(t)&&!h&&!P(t)[2]&&(t.stopImmediatePropagation(),!b||v)){u=J();var e=C.offset(),i=P(t)[0]-e.top,o=P(t)[1]-e.left,a="mcsLinearOut";if(E.push(i),T.push(o),M[2]=Math.abs(P(t)[0]-M[0]),M[3]=Math.abs(P(t)[1]-M[1]),x.overflowed[0])var c=S[0].parent().height()-S[0].height(),l=r-i>0&&i-r>-(c*x.scrollRatio.y)&&(2*M[3]<M[2]||"yx"===w.axis);if(x.overflowed[1])var f=S[1].parent().width()-S[1].width(),d=s-o>0&&o-s>-(f*x.scrollRatio.x)&&(2*M[2]<M[3]||"yx"===w.axis);l||d?(t.preventDefault(),v=1):b=1,g="yx"===w.axis?[r-i,s-o]:"x"===w.axis?[null,s-o]:[r-i,null],$[0].idleTimer=250,x.overflowed[0]&&n(g[0],k,a,"y","all",!0),x.overflowed[1]&&n(g[1],k,a,"x",A,!0)}}),C.bind("touchstart."+_+" pointerdown."+_+" MSPointerDown."+_,function(t){if(!ee(t)||h||P(t)[2])return void(i=0);i=1,t.stopImmediatePropagation(),q(y),l=J();var e=C.offset();a=P(t)[0]-e.top,c=P(t)[1]-e.left,E=[],T=[]}).bind("touchend."+_+" pointerup."+_+" MSPointerUp."+_,function(t){if(ee(t)&&!h&&!P(t)[2]){t.stopImmediatePropagation(),v=0,b=0,f=J();var i=C.offset(),r=P(t)[0]-i.top,o=P(t)[1]-i.left;if(!(f-u>30)){p=1e3/(f-l);var s="mcsEaseOut",y=2.5>p,_=y?[E[E.length-2],T[T.length-2]]:[0,0];d=y?[r-_[0],o-_[1]]:[r-a,o-c];var S=[Math.abs(d[0]),Math.abs(d[1])];p=y?[Math.abs(d[0]/4),Math.abs(d[1]/4)]:[p,p];var k=[Math.abs($[0].offsetTop)-d[0]*e(S[0]/p[0],p[0]),Math.abs($[0].offsetLeft)-d[1]*e(S[1]/p[1],p[1])];g="yx"===w.axis?[k[0],k[1]]:"x"===w.axis?[null,k[1]]:[k[0],null],m=[4*S[0]+w.scrollInertia,4*S[1]+w.scrollInertia];var M=parseInt(w.contentTouchScroll)||0;g[0]=S[0]>M?g[0]:0,g[1]=S[1]>M?g[1]:0,x.overflowed[0]&&n(g[0],m[0],s,"y",A,!1),x.overflowed[1]&&n(g[1],m[1],s,"x",A,!1)}}})},I=function(){function r(){return e.getSelection?e.getSelection().toString():n.selection&&"Control"!=n.selection.type?n.selection.createRange().text:0}function s(t,e,n){f.type=n&&a?"stepped":"stepless",f.scrollAmount=10,z(c,t,e,"mcsLinearOut",n?60:null)}var a,c=t(this),l=c.data(o),u=l.opt,f=l.sequential,d=o+"_"+l.idx,p=t("#mCSB_"+l.idx+"_container"),g=p.parent();p.bind("mousedown."+d,function(){i||a||(a=1,h=!0)}).add(n).bind("mousemove."+d,function(t){if(!i&&a&&r()){var e=p.offset(),n=P(t)[0]-e.top+p[0].offsetTop,o=P(t)[1]-e.left+p[0].offsetLeft;n>0&&n<g.height()&&o>0&&o<g.width()?f.step&&s("off",null,"stepped"):("x"!==u.axis&&l.overflowed[0]&&(0>n?s("on",38):n>g.height()&&s("on",40)),"y"!==u.axis&&l.overflowed[1]&&(0>o?s("on",37):o>g.width()&&s("on",39)))}}).bind("mouseup."+d,function(){i||(a&&(a=0,s("off",null)),h=!1)})},N=function(){function e(t){var e=null;try{var n=t.contentDocument||t.contentWindow.document;e=n.body.innerHTML}catch(i){}return null!==e}var n=t(this),i=n.data(o);if(i){var r=i.opt,s=o+"_"+i.idx,a=t("#mCSB_"+i.idx),c=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],l=t("#mCSB_"+i.idx+"_container").find("iframe"),h=a;l.length&&l.each(function(){var n=this;e(n)&&(h=h.add(t(n).contents().find("body")))}),h.bind("mousewheel."+s,function(e,o){if(q(n),!L(n,e.target)){var s="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):u&&e.deltaFactor<100?100:e.deltaFactor||100;if("x"===r.axis||"x"===r.mouseWheel.axis)var l="x",h=[Math.round(s*i.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],f="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=a.width()?.9*a.width():h[0],d=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),m=e.deltaX||e.deltaY||o;else var l="y",h=[Math.round(s*i.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],f="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=a.height()?.9*a.height():h[0],d=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),m=e.deltaY||o;"y"===l&&!i.overflowed[0]||"x"===l&&!i.overflowed[1]||(r.mouseWheel.invert&&(m=-m),r.mouseWheel.normalizeDelta&&(m=0>m?-1:1),(m>0&&0!==p||0>m&&p!==g||r.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),G(n,(d-m*f).toString(),{dir:l}))}})}},L=function(e,n){var i=n.nodeName.toLowerCase(),r=e.data(o).opt.mouseWheel.disableOver,s=["select","textarea"];return t.inArray(i,r)>-1&&!(t.inArray(i,s)>-1&&!t(n).is(":focus"))},H=function(){var e=t(this),n=e.data(o),i=o+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container"),s=r.parent(),a=t(".mCSB_"+n.idx+"_scrollbar ."+f[12]);a.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(){h=!0}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){h=!1}).bind("click."+i,function(i){if(t(i.target).hasClass(f[12])||t(i.target).hasClass("mCSB_draggerRail")){q(e);var o=t(this),a=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",l=i.pageX>a.offset().left?-1:1,u=Math.abs(r[0].offsetLeft)-.9*l*s.width()}else{if(!n.overflowed[0])return;var c="y",l=i.pageY>a.offset().top?-1:1,u=Math.abs(r[0].offsetTop)-.9*l*s.height()}G(e,u.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},R=function(){var e=t(this),i=e.data(o),r=i.opt,s=o+"_"+i.idx,a=t("#mCSB_"+i.idx+"_container"),c=a.parent();a.bind("focusin."+s,function(){var i=t(n.activeElement),o=a.find(".mCustomScrollBox").length,s=0;i.is(r.advanced.autoScrollOnFocus)&&(q(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=o?(s+17)*o:0,e[0]._focusTimeout=setTimeout(function(){var t=[ie(i)[0],ie(i)[1]],n=[a[0].offsetTop,a[0].offsetLeft],o=[n[0]+t[0]>=0&&n[0]+t[0]<c.height()-i.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<c.width()-i.outerWidth(!1)],l="yx"!==r.axis||o[0]||o[1]?"all":"none";
"x"===r.axis||o[0]||G(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s}),"y"===r.axis||o[1]||G(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:s})},e[0]._focusTimer))})},F=function(){var e=t(this),n=e.data(o),i=o+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container").parent();r.bind("scroll."+i,function(){(0!==r.scrollTop()||0!==r.scrollLeft())&&t(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},B=function(){var e=t(this),n=e.data(o),i=n.opt,r=n.sequential,s=o+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",c=t(a+">a");c.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s+" mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s+" mouseout."+s+" pointerout."+s+" MSPointerOut."+s+" click."+s,function(o){function s(t,n){r.scrollAmount=i.snapAmount||i.scrollButtons.scrollAmount,z(e,t,n)}if(o.preventDefault(),te(o)){var a=t(this).attr("class");switch(r.type=i.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;h=!0,n.tweenRunning=!1,s("on",a);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;h=!1,r.dir&&s("off",a);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;s("on",a)}}})},W=function(){var e=t(this),i=e.data(o),r=i.opt,s=i.sequential,a=o+"_"+i.idx,c=t("#mCSB_"+i.idx),l=t("#mCSB_"+i.idx+"_container"),u=l.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']";c.attr("tabindex","0").bind("blur."+a+" keydown."+a+" keyup."+a,function(o){function a(t,n){s.type=r.keyboard.scrollType,s.scrollAmount=r.snapAmount||r.keyboard.scrollAmount,"stepped"===s.type&&i.tweenRunning||z(e,t,n)}switch(o.type){case"blur":i.tweenRunning&&s.dir&&a("off",null);break;case"keydown":case"keyup":var c=o.keyCode?o.keyCode:o.which,f="on";if("x"!==r.axis&&(38===c||40===c)||"y"!==r.axis&&(37===c||39===c)){if((38===c||40===c)&&!i.overflowed[0]||(37===c||39===c)&&!i.overflowed[1])return;"keyup"===o.type&&(f="off"),t(n.activeElement).is(h)||(o.preventDefault(),o.stopImmediatePropagation(),a(f,c))}else if(33===c||34===c){if((i.overflowed[0]||i.overflowed[1])&&(o.preventDefault(),o.stopImmediatePropagation()),"keyup"===o.type){q(e);var d=34===c?-1:1;if("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0])var p="x",g=Math.abs(l[0].offsetLeft)-.9*d*u.width();else var p="y",g=Math.abs(l[0].offsetTop)-.9*d*u.height();G(e,g.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===c||36===c)&&!t(n.activeElement).is(h)&&((i.overflowed[0]||i.overflowed[1])&&(o.preventDefault(),o.stopImmediatePropagation()),"keyup"===o.type)){if("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0])var p="x",g=35===c?Math.abs(u.width()-l.outerWidth(!1)):0;else var p="y",g=35===c?Math.abs(u.height()-l.outerHeight(!1)):0;G(e,g.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}})},z=function(e,n,i,r,s){function a(t){var n="stepped"!==h.type,i=s?s:t?n?g/1.5:m:1e3/60,o=t?n?7.5:40:2.5,c=[Math.abs(d[0].offsetTop),Math.abs(d[0].offsetLeft)],u=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],f="x"===h.dir[0]?c[1]+h.dir[1]*u[1]*o:c[0]+h.dir[1]*u[0]*o,p="x"===h.dir[0]?c[1]+h.dir[1]*parseInt(h.scrollAmount):c[0]+h.dir[1]*parseInt(h.scrollAmount),v="auto"!==h.scrollAmount?p:f,b=r?r:t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",y=t?!0:!1;return t&&17>i&&(v="x"===h.dir[0]?c[1]:c[0]),G(e,v.toString(),{dir:h.dir[0],scrollEasing:b,dur:i,onComplete:y}),t?void(h.dir=!1):(clearTimeout(h.step),void(h.step=setTimeout(function(){a()},i)))}function c(){clearTimeout(h.step),Q(h,"step"),q(e)}var l=e.data(o),u=l.opt,h=l.sequential,d=t("#mCSB_"+l.idx+"_container"),p="stepped"===h.type?!0:!1,g=u.scrollInertia<26?26:u.scrollInertia,m=u.scrollInertia<1?17:u.scrollInertia;switch(n){case"on":if(h.dir=[i===f[16]||i===f[15]||39===i||37===i?"x":"y",i===f[13]||i===f[15]||38===i||37===i?-1:1],q(e),ne(i)&&"stepped"===h.type)return;a(p);break;case"off":c(),(p||l.tweenRunning&&h.dir)&&a(!0)}},X=function(e){var n=t(this).data(o).opt,i=[];return"function"==typeof e&&(e=e()),e instanceof Array?i=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(i[0]=e.y?e.y:e.x||"x"===n.axis?null:e,i[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},Y=function(e,n){if(null!=e&&"undefined"!=typeof e){var i=t(this),r=i.data(o),s=r.opt,a=t("#mCSB_"+r.idx+"_container"),c=a.parent(),l=typeof e;n||(n="x"===s.axis?"x":"y");var u="x"===n?a.outerWidth(!1):a.outerHeight(!1),h="x"===n?a[0].offsetLeft:a[0].offsetTop,f="x"===n?"left":"top";switch(l){case"function":return e();case"object":var p=e.jquery?e:t(e);if(!p.length)return;return"x"===n?ie(p)[1]:ie(p)[0];case"string":case"number":if(ne(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(u*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(h-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var g=h+parseInt(e.split("+=")[1]);return g>=0?0:Math.abs(g)}if(-1!==e.indexOf("px")&&ne(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(c.height()-a.outerHeight(!1));if("right"===e)return Math.abs(c.width()-a.outerWidth(!1));if("first"===e||"last"===e){var p=a.find(":"+e);return"x"===n?ie(p)[1]:ie(p)[0]}return t(e).length?"x"===n?ie(t(e))[1]:ie(t(e))[0]:(a.css(f,e),void d.update.call(null,i[0]))}}},U=function(e){function n(){clearTimeout(h[0].autoUpdate),h[0].autoUpdate=setTimeout(function(){return u.advanced.updateOnSelectorChange&&(p=s(),p!==x)?(a(3),void(x=p)):(u.advanced.updateOnContentResize&&(g=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),y()[0],y()[1]],(g[0]!==w[0]||g[1]!==w[1]||g[2]!==w[2]||g[3]!==w[3]||g[4]!==w[4]||g[5]!==w[5])&&(a(g[0]!==w[0]||g[1]!==w[1]),w=g)),u.advanced.updateOnImageLoad&&(m=i(),m!==_&&(h.find("img").each(function(){r(this)}),_=m)),void((u.advanced.updateOnSelectorChange||u.advanced.updateOnContentResize||u.advanced.updateOnImageLoad)&&n()))},60)}function i(){var t=0;return u.advanced.updateOnImageLoad&&(t=h.find("img").length),t}function r(e){function n(t,e){return function(){return e.apply(t,arguments)}}function i(){this.onload=null,t(e).addClass(f[2]),a(2)}if(t(e).hasClass(f[2]))return void a();var r=new Image;r.onload=n(r,i),r.src=e.src}function s(){u.advanced.updateOnSelectorChange===!0&&(u.advanced.updateOnSelectorChange="*");var e=0,n=h.find(u.advanced.updateOnSelectorChange);return u.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){e+=t(this).height()+t(this).width()}),e}function a(t){clearTimeout(h[0].autoUpdate),d.update.call(null,c[0],t)}var c=t(this),l=c.data(o),u=l.opt,h=t("#mCSB_"+l.idx+"_container");if(e)return clearTimeout(h[0].autoUpdate),void Q(h[0],"autoUpdate");var p,g,m,v=h.parent(),b=[t("#mCSB_"+l.idx+"_scrollbar_vertical"),t("#mCSB_"+l.idx+"_scrollbar_horizontal")],y=function(){return[b[0].is(":visible")?b[0].outerHeight(!0):0,b[1].is(":visible")?b[1].outerWidth(!0):0]},x=s(),w=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),y()[0],y()[1]],_=i();n()},V=function(t,e,n){return Math.round(t/e)*e-n},q=function(e){var n=e.data(o),i=t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");i.each(function(){Z.call(this)})},G=function(e,n,i){function r(t){return c&&l.callbacks[t]&&"function"==typeof l.callbacks[t]}function s(){return[l.callbacks.alwaysTriggerOffsets||y>=x[0]+_,l.callbacks.alwaysTriggerOffsets||-C>=y]}function a(){var t=[d[0].offsetTop,d[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],r=[d.outerHeight(!1),d.outerWidth(!1)],o=[f.height(),f.width()];e[0].mcs={content:d,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(r[0])-o[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(r[1])-o[1])),direction:i.dir}}var c=e.data(o),l=c.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=t.extend(u,i),h=[i.dur,i.drag?0:i.dur],f=t("#mCSB_"+c.idx),d=t("#mCSB_"+c.idx+"_container"),p=d.parent(),g=l.callbacks.onTotalScrollOffset?X.call(e,l.callbacks.onTotalScrollOffset):[0,0],m=l.callbacks.onTotalScrollBackOffset?X.call(e,l.callbacks.onTotalScrollBackOffset):[0,0];if(c.trigger=i.trigger,(0!==p.scrollTop()||0!==p.scrollLeft())&&(t(".mCSB_"+c.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==n||c.contentReset.y||(r("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(e[0]),c.contentReset.y=1),"_resetX"!==n||c.contentReset.x||(r("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(e[0]),c.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!c.contentReset.y&&e[0].mcs||!c.overflowed[0]||(r("onOverflowY")&&l.callbacks.onOverflowY.call(e[0]),c.contentReset.x=null),!c.contentReset.x&&e[0].mcs||!c.overflowed[1]||(r("onOverflowX")&&l.callbacks.onOverflowX.call(e[0]),c.contentReset.x=null),l.snapAmount&&(n=V(n,l.snapAmount,l.snapOffset)),i.dir){case"x":var v=t("#mCSB_"+c.idx+"_dragger_horizontal"),b="left",y=d[0].offsetLeft,x=[f.width()-d.outerWidth(!1),v.parent().width()-v.width()],w=[n,0===n?0:n/c.scrollRatio.x],_=g[1],C=m[1],$=_>0?_/c.scrollRatio.x:0,S=C>0?C/c.scrollRatio.x:0;break;case"y":var v=t("#mCSB_"+c.idx+"_dragger_vertical"),b="top",y=d[0].offsetTop,x=[f.height()-d.outerHeight(!1),v.parent().height()-v.height()],w=[n,0===n?0:n/c.scrollRatio.y],_=g[0],C=m[0],$=_>0?_/c.scrollRatio.y:0,S=C>0?C/c.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=x[1]?w=[x[0],x[1]]:w[0]=-w[0],e[0].mcs||(a(),r("onInit")&&l.callbacks.onInit.call(e[0])),clearTimeout(d[0].onCompleteTimeout),(c.tweenRunning||!(0===y&&w[0]>=0||y===x[0]&&w[0]<=x[0]))&&(K(v[0],b,Math.round(w[1]),h[1],i.scrollEasing),K(d[0],b,Math.round(w[0]),h[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!c.tweenRunning&&(r("onScrollStart")&&(a(),l.callbacks.onScrollStart.call(e[0])),c.tweenRunning=!0,E(v),c.cbOffsets=s())},onUpdate:function(){i.callbacks&&i.onUpdate&&r("whileScrolling")&&(a(),l.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===l.axis&&clearTimeout(d[0].onCompleteTimeout);var t=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout(function(){r("onScroll")&&(a(),l.callbacks.onScroll.call(e[0])),r("onTotalScroll")&&w[1]>=x[1]-$&&c.cbOffsets[0]&&(a(),l.callbacks.onTotalScroll.call(e[0])),r("onTotalScrollBack")&&w[1]<=S&&c.cbOffsets[1]&&(a(),l.callbacks.onTotalScrollBack.call(e[0])),c.tweenRunning=!1,d[0].idleTimer=0,E(v,"hide")},t)}}}))}},K=function(t,n,i,r,o,s,a){function c(){_.stop||(y||g.call(),y=J()-b,l(),y>=_.time&&(_.time=y>_.time?y+d-(y-_.time):y+d-1,_.time<y+1&&(_.time=y+1)),_.time<r?_.id=p(c):v.call())}function l(){r>0?(_.currVal=f(_.time,x,C,r,o),w[n]=Math.round(_.currVal)+"px"):w[n]=i+"px",m.call()}function u(){d=1e3/60,_.time=y+d,p=e.requestAnimationFrame?e.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},_.id=p(c)}function h(){null!=_.id&&(e.requestAnimationFrame?e.cancelAnimationFrame(_.id):clearTimeout(_.id),_.id=null)}function f(t,e,n,i,r){switch(r){case"linear":case"mcsLinear":return n*t/i+e;case"mcsLinearOut":return t/=i,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=i/2,1>t?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=i/2,1>t?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(-Math.pow(2,-10*t)+2)+e);case"easeInOut":case"mcsEaseInOut":return t/=i/2,1>t?n/2*t*t*t+e:(t-=2,n/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=i,t--,-n*(t*t*t*t-1)+e;case"easeOutStrong":return n*(-Math.pow(2,-10*t/i)+1)+e;case"easeOut":case"mcsEaseOut":default:var o=(t/=i)*t,s=o*t;return e+n*(.499999999999997*s*o+-2.5*o*o+5.5*s+-6.5*o+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var d,p,a=a||{},g=a.onStart||function(){},m=a.onUpdate||function(){},v=a.onComplete||function(){},b=J(),y=0,x=t.offsetTop,w=t.style,_=t._mTween[n];"left"===n&&(x=t.offsetLeft);var C=i-x;_.stop=0,"none"!==s&&h(),u()},J=function(){return e.performance&&e.performance.now?e.performance.now():e.performance&&e.performance.webkitNow?e.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var n=["top","left"],i=0;i<n.length;i++){var r=n[i];t._mTween[r].id&&(e.requestAnimationFrame?e.cancelAnimationFrame(t._mTween[r].id):clearTimeout(t._mTween[r].id),t._mTween[r].id=null,t._mTween[r].stop=1)}},Q=function(t,e){try{delete t[e]}catch(n){t[e]=null}},te=function(t){return!(t.which&&1!==t.which)},ee=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},ne=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ie=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]};t.fn[r]=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):d.init.apply(this,arguments)},t[r]=function(e){return d[e]?d[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):d.init.apply(this,arguments)},t[r].defaults=a,e[r]=!0,t(e).load(function(){t(s)[r](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,i,r=t(e),o=r.parents(".mCSB_container");return o.length?(n=o.parent(),i=[o[0].offsetTop,o[0].offsetLeft],i[0]+ie(r)[0]>=0&&i[0]+ie(r)[0]<n.height()-r.outerHeight(!1)&&i[1]+ie(r)[1]>=0&&i[1]+ie(r)[1]<n.width()-r.outerWidth(!1)):void 0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data(o);return n?n.overflowed[0]||n.overflowed[1]:void 0}})})})}(jQuery,window,document),function(t,e,n){"use strict";function i(t){return function(){var e,n=arguments[0];for(e="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.3.9/"+(t?t+"/":"")+n,n=1;n<arguments.length;n++){e=e+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,e+=r(i)}return Error(e)}}function r(t){if(null==t||C(t))return!1;var e=t.length;return t.nodeType===Bi&&e?!0:b(t)||ji(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var i,s;if(t)if(w(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(ji(t)||r(t)){var a="object"!=typeof t;for(i=0,s=t.length;s>i;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);return t}function s(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function a(t){return function(e,n){t(n,e)}}function c(){return++Pi}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t){for(var e=t.$$hashKey,n=1,i=arguments.length;i>n;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),s=0,a=o.length;a>s;s++){var c=o[s];t[c]=r[c]}}return l(t,e),t}function h(t){return parseInt(t,10)}function f(){}function d(t){return t}function p(t){return function(){return t}}function g(t){return"undefined"==typeof t}function m(t){return"undefined"!=typeof t}function v(t){return null!==t&&"object"==typeof t}function b(t){return"string"==typeof t}function y(t){return"number"==typeof t}function x(t){return"[object Date]"===Ai.call(t)}function w(t){return"function"==typeof t}function _(t){return"[object RegExp]"===Ai.call(t)}function C(t){return t&&t.window===t}function $(t){return t&&t.$evalAsync&&t.$watch}function S(t){return"boolean"==typeof t}function E(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function T(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function k(t){return Ci(t.nodeName||t[0]&&t[0].nodeName)}function A(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function M(t,e,n,i){if(C(t)||$(t))throw Mi("cpws");if(e){if(t===e)throw Mi("cpi");if(n=n||[],i=i||[],v(t)){var r=n.indexOf(t);if(-1!==r)return i[r];n.push(t),i.push(e)}if(ji(t))for(var s=e.length=0;s<t.length;s++)r=M(t[s],null,n,i),v(t[s])&&(n.push(t[s]),i.push(r)),e.push(r);else{var a=e.$$hashKey;ji(e)?e.length=0:o(e,function(t,n){delete e[n]});for(s in t)t.hasOwnProperty(s)&&(r=M(t[s],null,n,i),v(t[s])&&(n.push(t[s]),i.push(r)),e[s]=r);l(e,a)}}else(e=t)&&(ji(t)?e=M(t,[],n,i):x(t)?e=new Date(t.getTime()):_(t)?(e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex):v(t)&&(r=Object.create(Object.getPrototypeOf(t)),e=M(t,r,n,i)));return e}function O(t,e){if(ji(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(v(t))for(n in e=e||{},t)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(e[n]=t[n]);return e||t}function P(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,r=typeof t;if(r==typeof e&&"object"==r){if(!ji(t)){if(x(t))return x(e)?P(t.getTime(),e.getTime()):!1;if(_(t)&&_(e))return t.toString()==e.toString();if($(t)||$(e)||C(t)||C(e)||ji(e))return!1;r={};for(i in t)if("$"!==i.charAt(0)&&!w(t[i])){if(!P(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!w(e[i]))return!1;return!0}if(!ji(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!P(t[i],e[i]))return!1;return!0}}return!1}function D(t,e,n){return t.concat(Ei.call(e,n))}function j(t,e){var n=2<arguments.length?Ei.call(arguments,2):[];return!w(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,D(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function I(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:C(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":$(i)&&(r="$SCOPE"),r}function N(t,e){return"undefined"==typeof t?n:(y(e)||(e=e?2:null),JSON.stringify(t,I,e))}function L(t){return b(t)?JSON.parse(t):t}function H(t){t=yi(t).clone();try{t.empty()}catch(e){}var n=yi("<div>").append(t).html();try{return t[0].nodeType===Wi?Ci(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Ci(e)})}catch(i){return Ci(n)}}function R(t){try{return decodeURIComponent(t)}catch(e){}}function F(t){var e,n,i={};return o((t||"").split("&"),function(t){t&&(e=t.replace(/\+/g,"%20").split("="),n=R(e[0]),m(n)&&(t=m(e[1])?R(e[1]):!0,$i.call(i,n)?ji(i[n])?i[n].push(t):i[n]=[i[n],t]:i[n]=t))}),i}function B(t){var e=[];return o(t,function(t,n){ji(t)?o(t,function(t){e.push(z(n,!0)+(!0===t?"":"="+z(t,!0)))}):e.push(z(n,!0)+(!0===t?"":"="+z(t,!0)))}),e.length?e.join("&"):""}function W(t){return z(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function z(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function X(t,e){var n,i,r=Hi.length;for(t=yi(t),i=0;r>i;++i)if(n=Hi[i]+e,b(n=t.attr(n)))return n;return null}function Y(t,e){var n,i,r={};o(Hi,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,i=t.getAttribute(e))}),o(Hi,function(e){e+="app";var r;!n&&(r=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(e))}),n&&(r.strictDi=null!==X(n,"strict-di"),e(n,i?[i]:[],r))}function U(n,i,r){v(r)||(r={}),r=u({strictDi:!1},r);var s=function(){if(n=yi(n),n.injector()){var t=n[0]===e?"document":H(n);throw Mi("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng"),t=Pe(i,r.strictDi),t.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},a=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!c.test(t.name)?s():(t.name=t.name.replace(c,""),void(Oi.resumeBootstrap=function(t){o(t,function(t){i.push(t)}),s()}))}function V(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function q(t){if(t=Oi.element(t).injector(),!t)throw Mi("test");return t.get("$$testability")}function G(t,e){return e=e||"_",t.replace(Ri,function(t,n){return(n?e:"")+t.toLowerCase()})}function K(){var e;Fi||((xi=t.jQuery)&&xi.fn.on?(yi=xi,u(xi.fn,{scope:er.scope,isolateScope:er.isolateScope,controller:er.controller,injector:er.injector,inheritedData:er.inheritedData}),e=xi.cleanData,xi.cleanData=function(t){var n;if(Di)Di=!1;else for(var i,r=0;null!=(i=t[r]);r++)(n=xi._data(i,"events"))&&n.$destroy&&xi(i).triggerHandler("$destroy");e(t)}):yi=ce,Oi.element=yi,Fi=!0)}function J(t,e,n){if(!t)throw Mi("areq",e||"?",n||"required");return t}function Z(t,e,n){return n&&ji(t)&&(t=t[t.length-1]),J(w(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Q(t,e){if("hasOwnProperty"===t)throw Mi("badname",e)}function te(t,e,n){if(!e)return t;e=e.split(".");for(var i,r=t,o=e.length,s=0;o>s;s++)i=e[s],t&&(t=(r=t)[i]);return!n&&w(t)?j(r,t):t}function ee(t){var e=t[0];t=t[t.length-1];var n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==t);return yi(n)}function ne(){return Object.create(null)}function ie(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng");return t=e(t,"angular",Object),t.$$minErr=t.$$minErr||i,e(t,"module",function(){var t={};return function(i,o,s){if("hasOwnProperty"===i)throw r("badname","module");return o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),l}}if(!o)throw n("nomod",i);var e=[],r=[],a=[],c=t("$injector","invoke","push",r),l={_invokeQueue:e,_configBlocks:r,_runBlocks:a,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:c,run:function(t){return a.push(t),this}};return s&&c(s),l})}})}function re(e){u(e,{bootstrap:U,copy:M,extend:u,equals:P,element:yi,forEach:o,injector:Pe,noop:f,bind:j,toJson:N,fromJson:L,identity:d,isUndefined:g,isDefined:m,isString:b,isFunction:w,isObject:v,isNumber:y,isElement:E,isArray:ji,version:zi,isDate:x,lowercase:Ci,uppercase:Si,callbacks:{counter:0},getTestability:q,$$minErr:i,$$csp:Li,reloadWithDebugInfo:V}),wi=ie(t);try{wi("ngLocale")}catch(n){wi("ngLocale",[]).provider("$locale",nn)}wi("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Dn}),t.provider("$compile",Re).directive({a:Ur,input:co,textarea:co,form:Kr,script:qo,select:Jo,style:Qo,option:Zo,ngBind:ho,ngBindHtml:po,ngBindTemplate:fo,ngClass:mo,ngClassEven:bo,ngClassOdd:vo,ngCloak:yo,ngController:xo,ngForm:Jr,ngHide:Wo,ngIf:Co,ngInclude:$o,ngInit:Eo,ngNonBindable:Ho,ngPluralize:Ro,ngRepeat:Fo,ngShow:Bo,ngStyle:zo,ngSwitch:Xo,ngSwitchWhen:Yo,ngSwitchDefault:Uo,ngOptions:Ko,ngTransclude:Vo,ngModel:Io,ngList:To,ngChange:go,pattern:es,ngPattern:es,required:ts,ngRequired:ts,minlength:is,ngMinlength:is,maxlength:ns,ngMaxlength:ns,ngValue:uo,ngModelOptions:Lo}).directive({ngInclude:So}).directive(Vr).directive(wo),t.provider({$anchorScroll:De,$animate:hr,$browser:Ne,$cacheFactory:Le,$controller:ze,$document:Xe,$exceptionHandler:Ye,$filter:Yn,$interpolate:tn,$interval:en,$http:Ke,$httpBackend:Ze,$location:mn,$log:vn,$parse:Tn,$rootScope:Pn,$q:kn,$$q:An,$sce:Ln,$sceDelegate:Nn,$sniffer:Hn,$templateCache:He,$templateRequest:Rn,$$testability:Fn,$timeout:Bn,$window:Xn,$$rAF:On,$$asyncCallback:je,$$jqLite:Te})}])}function oe(t){return t.replace(Ui,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Vi,"Moz$1")}function se(t){return t=t.nodeType,t===Bi||!t||9===t}function ae(t,e){var n,i,r=e.createDocumentFragment(),s=[];if(Ji.test(t)){for(n=n||r.appendChild(e.createElement("div")),i=(Zi.exec(t)||["",""])[1].toLowerCase(),i=tr[i]||tr._default,n.innerHTML=i[1]+t.replace(Qi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=D(s,n.childNodes),n=r.firstChild,n.textContent=""}else s.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",o(s,function(t){r.appendChild(t)}),r}function ce(t){if(t instanceof ce)return t;var n;if(b(t)&&(t=Ii(t),n=!0),!(this instanceof ce)){if(n&&"<"!=t.charAt(0))throw Gi("nosel");return new ce(t)}if(n){n=e;var i;t=(i=Ki.exec(t))?[n.createElement(i[1])]:(i=ae(t,n))?i.childNodes:[]}be(this,t)}function le(t){return t.cloneNode(!0)}function ue(t,e){if(e||fe(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)fe(n[i])}function he(t,e,n,i){if(m(i))throw Gi("offargs");var r=(i=de(t))&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(m(n)){var i=r[e];if(A(i||[],n),i&&0<i.length)return}t.removeEventListener(e,s,!1),delete r[e]});else for(e in r)"$destroy"!==e&&t.removeEventListener(e,s,!1),delete r[e]}function fe(t,e){var i=t.ng339,r=i&&Xi[i];r&&(e?delete r.data[e]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),he(t)),delete Xi[i],t.ng339=n))}function de(t,e){var i=t.ng339,i=i&&Xi[i];return e&&!i&&(t.ng339=i=++Yi,i=Xi[i]={events:{},data:{},handle:n}),i}function pe(t,e,n){if(se(t)){var i=m(n),r=!i&&e&&!v(e),o=!e;if(t=(t=de(t,!r))&&t.data,i)t[e]=n;else{if(o)return t;if(r)return t&&t[e];u(t,e)}}}function ge(t,e){return t.getAttribute?-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" "):!1}function me(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Ii((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ii(e)+" "," ")))})}function ve(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Ii(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Ii(n))}}function be(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function ye(t,e){return xe(t,"$"+(e||"ngController")+"Controller")}function xe(t,e,i){for(9==t.nodeType&&(t=t.documentElement),e=ji(e)?e:[e];t;){for(var r=0,o=e.length;o>r;r++)if((i=yi.data(t,e[r]))!==n)return i;t=t.parentNode||11===t.nodeType&&t.host}}function we(t){for(ue(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function _e(t,e){e||ue(t);var n=t.parentNode;n&&n.removeChild(t)}function Ce(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):yi(n).on("load",e)}function $e(t,e){var n=nr[e.toLowerCase()];return n&&ir[k(t)]&&n}function Se(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&rr[e]}function Ee(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(g(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},o>1&&(r=O(r));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||r[a].call(t,n)}};return n.elem=t,n}function Te(){this.$get=function(){return u(ce,{hasClass:function(t,e){return t.attr&&(t=t[0]),ge(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),ve(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),me(t,e)}})}}function ke(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):(n=typeof t,n="function"==n||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||c)():n+":"+t)}function Ae(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Me(t){return(t=t.toString().replace(cr,"").match(or))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Oe(t,e,n){var i;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw b(n)&&n||(n=t.name||Me(t)),lr("strictdi",n);e=t.toString().replace(cr,""),e=e.match(or),o(e[1].split(sr),function(t){t.replace(ar,function(t,e,n){i.push(n)})})}t.$inject=i}}else ji(t)?(e=t.length-1,Z(t[e],"fn"),i=t.slice(0,e)):Z(t,"fn",!0);return i}function Pe(t,e){function i(t){return function(e,n){return v(e)?void o(e,a(t)):t(e,n)}}function r(t,e){if(Q(t,"service"),(w(e)||ji(e))&&(e=x.instantiate(e)),!e.$get)throw lr("pget",t);return y[t+"Provider"]=e}function s(t,e){return function(){var n=C.invoke(e,this);if(g(n))throw lr("undef",t);return n}}function c(t,e,n){return r(t,{$get:!1!==n?s(t,e):e})}function l(t){var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=x.get(i[0]);r[i[1]].apply(r,i[2])}}if(!m.get(t)){m.put(t,!0);try{b(t)?(e=wi(t),n=n.concat(l(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):w(t)?n.push(x.invoke(t)):ji(t)?n.push(x.invoke(t)):Z(t,"module")}catch(r){throw ji(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),lr("modulerr",t,r.stack||r.message||r)}}}),n}function u(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===h)throw lr("cdep",e+" <- "+d.join(" <- "));return t[e]}try{return d.unshift(e),t[e]=h,t[e]=n(e,i)}catch(r){throw t[e]===h&&delete t[e],r}finally{d.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,c,l=[],u=Oe(t,e,o);for(a=0,s=u.length;s>a;a++){if(c=u[a],"string"!=typeof c)throw lr("itkn",c);l.push(r&&r.hasOwnProperty(c)?r[c]:i(c,o))}return ji(t)&&(t=t[s]),t.apply(n,l)}return{invoke:r,instantiate:function(t,e,n){var i=Object.create((ji(t)?t[t.length-1]:t).prototype);return t=r(t,i,e,n),v(t)||w(t)?t:i},get:i,annotate:Oe,has:function(e){return y.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var h={},d=[],m=new Ae([],!0),y={$provide:{provider:i(r),factory:i(c),service:i(function(t,e){return c(t,["$injector",function(t){return t.instantiate(e)}])}),value:i(function(t,e){return c(t,p(e),!1)}),constant:i(function(t,e){Q(t,"constant"),y[t]=e,_[t]=e}),decorator:function(t,e){var n=x.get(t+"Provider"),i=n.$get;n.$get=function(){var t=C.invoke(i,n);return C.invoke(e,null,{$delegate:t})}}}},x=y.$injector=u(y,function(t,e){throw Oi.isString(e)&&d.push(e),lr("unpr",d.join(" <- "))}),_={},C=_.$injector=u(_,function(t,e){var i=x.get(t+"Provider",e);return C.invoke(i.$get,i,n,t)});return o(l(t),function(t){C.invoke(t||f)}),C}function De(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===k(t)?(e=t,!0):void 0}),e}function o(t){if(t){t.scrollIntoView();var n;n=s.yOffset,w(n)?n=n():E(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):y(n)||(n=0),n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function s(){var t,e=n.hash();e?(t=a.getElementById(e))?o(t):(t=r(a.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var a=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Ce(function(){i.$evalAsync(s)})}),s}]}function je(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Ie(t,e,i,r){function s(t){try{t.apply(null,Ei.call(arguments,1))}finally{if(_--,0===_)for(;C.length;)try{C.pop()()}catch(e){i.error(e)}}}function a(t,e){!function n(){o(S,function(t){t()}),$=e(n,t)}()}function c(){l(),u()}function l(){E=t.history.state,E=g(E)?null:E,P(E,j)&&(E=j),j=E}function u(){(k!==d.url()||T!==E)&&(k=d.url(),T=E,o(O,function(t){t(d.url(),E)}))}function h(t){try{return decodeURIComponent(t)}catch(e){return t}}var d=this,p=e[0],m=t.location,v=t.history,y=t.setTimeout,x=t.clearTimeout,w={};d.isMock=!1;var _=0,C=[];d.$$completeOutstandingRequest=s,d.$$incOutstandingRequestCount=function(){_++
},d.notifyWhenNoOutstandingRequests=function(t){o(S,function(t){t()}),0===_?t():C.push(t)};var $,S=[];d.addPollFn=function(t){return g($)&&a(100,y),S.push(t),t};var E,T,k=m.href,A=e.find("base"),M=null;l(),T=E,d.url=function(e,n,i){if(g(i)&&(i=null),m!==t.location&&(m=t.location),v!==t.history&&(v=t.history),e){var o=T===i;if(k===e&&(!r.history||o))return d;var s=k&&cn(k)===cn(e);return k=e,T=i,!r.history||s&&o?(s||(M=e),n?m.replace(e):s?(n=m,i=e.indexOf("#"),e=-1===i?"":e.substr(i+1),n.hash=e):m.href=e):(v[n?"replaceState":"pushState"](i,"",e),l(),T=E),d}return M||m.href.replace(/%27/g,"'")},d.state=function(){return E};var O=[],D=!1,j=null;d.onUrlChange=function(e){return D||(r.history&&yi(t).on("popstate",c),yi(t).on("hashchange",c),D=!0),O.push(e),e},d.$$checkUrlChange=u,d.baseHref=function(){var t=A.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var I={},N="",L=d.baseHref();d.cookies=function(t,e){var r,o,s,a;if(!t){if(p.cookie!==N)for(N=p.cookie,r=N.split("; "),I={},s=0;s<r.length;s++)o=r[s],a=o.indexOf("="),a>0&&(t=h(o.substring(0,a)),I[t]===n&&(I[t]=h(o.substring(a+1))));return I}e===n?p.cookie=encodeURIComponent(t)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT":b(e)&&(r=(p.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+L).length+1,r>4096&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},d.defer=function(t,e){var n;return _++,n=y(function(){delete w[n],s(t)},e||0),w[n]=!0,n},d.defer.cancel=function(t){return w[t]?(delete w[t],x(t),s(f),!0):!1}}function Ne(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Ie(t,i,e,n)}]}function Le(){this.$get=function(){function t(t,n){function r(t){t!=f&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,f),f=t,f.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid",t);var s=0,a=u({},n,{id:t}),c={},l=n&&n.capacity||Number.MAX_VALUE,h={},f=null,d=null;return e[t]={put:function(t,e){if(l<Number.MAX_VALUE){var n=h[t]||(h[t]={key:t});r(n)}return g(e)?void 0:(t in c||s++,c[t]=e,s>l&&this.remove(d.key),e)},get:function(t){if(l<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return c[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=h[t];if(!e)return;e==f&&(f=e.p),e==d&&(d=e.n),o(e.n,e.p),delete h[t]}delete c[t],s--},removeAll:function(){c={},s=0,h={},f=d=null},destroy:function(){h=a=c=null,delete e[t]},info:function(){return u({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function He(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Re(t,i){function r(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,r){var o=t.match(n);if(!o)throw fr("iscp",e,r,t);i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}var s={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=T("ngSrc,ngSrcset,src,srcset"),g=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function _(e,n){return Q(e,"directive"),b(e)?(J(n,"directiveFactory"),s.hasOwnProperty(e)||(s[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var i=[];return o(s[e],function(o,s){try{var a=t.invoke(o);w(a)?a={compile:p(a)}:!a.compile&&a.link&&(a.compile=p(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",v(a.scope)&&(a.$$isolateBindings=r(a.scope,a.name)),i.push(a)}catch(c){n(c)}}),i}])),s[e].push(n)):o(e,a(_)),this},this.aHrefSanitizationWhitelist=function(t){return m(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return m(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(t){return m(t)?(x=t,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,r,a,p,m,_,C,S,E,T){function M(t,e){try{t.addClass(e)}catch(n){}}function O(t,e,n,i,r){t instanceof yi||(t=yi(t)),o(t,function(e,n){e.nodeType==Wi&&e.nodeValue.match(/\S+/)&&(t[n]=yi(e).wrap("<span></span>").parent()[0])});var s=D(t,e,t,n,i,r);O.$$addScopeClass(t);var a=null;return function(e,n,i){J(e,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=(i=i&&i[0])&&"foreignobject"!==k(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==a?yi(q(a,yi("<div>").append(t).html())):n?er.clone.call(t):t,o)for(var c in o)i.data("$"+c+"Controller",o[c].instance);return O.$$addScopeInfo(i,e),n&&n(i,e),s&&s(e,i,i,r),i}}function D(t,e,i,r,o,s){function a(t,i,r,o){var s,a,c,l,u,h,p;if(f)for(p=Array(i.length),l=0;l<d.length;l+=3)s=d[l],p[s]=i[s];else p=i;for(l=0,u=d.length;u>l;)a=p[d[l++]],i=d[l++],s=d[l++],i?(i.scope?(c=t.$new(),O.$$addScopeInfo(yi(a),c)):c=t,h=i.transcludeOnThisElement?j(t,i.transclude,o,i.elementTranscludeOnThisElement):!i.templateOnThisElement&&o?o:!o&&e?j(t,e):null,i(s,c,a,r,h)):s&&s(t,a.childNodes,n,o)}for(var c,l,u,h,f,d=[],p=0;p<t.length;p++)c=new ie,l=I(t[p],[],c,0===p?r:n,o),(s=l.length?R(l,t[p],c,e,i,null,[],[],s):null)&&s.scope&&O.$$addScopeClass(c.$$element),c=s&&s.terminal||!(u=t[p].childNodes)||!u.length?null:D(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:e),(s||c)&&(d.push(p,s,c),h=!0,f=f||s),s=null;return h?a:null}function j(t,e,n){return function(i,r,o,s,a){return i||(i=t.$new(!1,a),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function I(t,e,n,i,r){var o,s=n.$attr;switch(t.nodeType){case Bi:B(e,Fe(k(t)),"E",i,r);for(var a,u,h,f=t.attributes,d=0,p=f&&f.length;p>d;d++){var g=!1,m=!1;a=f[d],o=a.name,u=Ii(a.value),a=Fe(o),(h=ae.test(a))&&(o=o.replace(dr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var v=a.replace(/(Start|End)$/,"");W(v)&&a===v+"Start"&&(g=o,m=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),a=Fe(o.toLowerCase()),s[a]=o,(h||!n.hasOwnProperty(a))&&(n[a]=u,$e(t,a)&&(n[a]=!0)),Z(t,e,u,a,h),B(e,a,"A",i,r,g,m)}if(t=t.className,b(t)&&""!==t)for(;o=l.exec(t);)a=Fe(o[2]),B(e,a,"C",i,r)&&(n[a]=Ii(o[3])),t=t.substr(o.index+o[0].length);break;case Wi:V(e,t.nodeValue);break;case 8:try{(o=c.exec(t.nodeValue))&&(a=Fe(o[1]),B(e,a,"M",i,r)&&(n[a]=Ii(o[2])))}catch(y){}}return e.sort(Y),e}function N(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw fr("uterdir",e,n);t.nodeType==Bi&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return yi(i)}function L(t,e,n){return function(i,r,o,s,a){return r=N(r[0],e,n),t(i,r,o,s,a)}}function R(t,s,a,c,l,u,h,f,d){function y(t,e,n,i){t&&(n&&(t=L(t,n,i)),t.require=E.require,t.directiveName=T,(j===E||E.$$isolateScope)&&(t=te(t,{isolateScope:!0})),h.push(t)),e&&(n&&(e=L(e,n,i)),e.require=E.require,e.directiveName=T,(j===E||E.$$isolateScope)&&(e=te(e,{isolateScope:!0})),f.push(e))}function x(t,e,n,i){var r,s,a="data",c=!1,l=n;if(b(e)){if(s=e.match(g),e=e.substring(s[0].length),s[3]&&(s[1]?s[3]=null:s[1]=s[3]),"^"===s[1]?a="inheritedData":"^^"===s[1]&&(a="inheritedData",l=n.parent()),"?"===s[2]&&(c=!0),r=null,i&&"data"===a&&(r=i[e])&&(r=r.instance),r=r||l[a]("$"+e+"Controller"),!r&&!c)throw fr("ctreq",e,t);return r||null}return ji(e)&&(r=[],o(e,function(e){r.push(x(t,e,n,i))})),r}function _(t,e,r,c,l){function u(t,e,i){var r;return $(t)||(i=e,e=t,t=n),V&&(r=y),i||(i=V?_.parent():_),l(t,e,r,i,T)}var d,g,v,b,y,w,_,C;if(s===r?(C=a,_=a.$$element):(_=yi(r),C=new ie(_,a)),j&&(b=e.$new(!0)),l&&(w=u,w.$$boundTransclude=l),D&&(S={},y={},o(D,function(t){var n={$scope:t===j||t.$$isolateScope?b:e,$element:_,$attrs:C,$transclude:w};v=t.controller,"@"==v&&(v=C[t.name]),n=m(v,n,!0,t.controllerAs),y[t.name]=n,V||_.data("$"+t.name+"Controller",n.instance),S[t.name]=n})),j){O.$$addScopeInfo(_,b,!0,!(R&&(R===j||R===j.$$originalDirective))),O.$$addScopeClass(_,!0),c=S&&S[j.name];var E=b;c&&c.identifier&&!0===j.bindToController&&(E=c.instance),o(b.$$isolateBindings=j.$$isolateBindings,function(t,n){var r,o,s,a,c=t.attrName,l=t.optional;switch(t.mode){case"@":C.$observe(c,function(t){E[n]=t}),C.$$observers[c].$$scope=e,C[c]&&(E[n]=i(C[c])(e));break;case"=":if(l&&!C[c])break;o=p(C[c]),a=o.literal?P:function(t,e){return t===e||t!==t&&e!==e},s=o.assign||function(){throw r=E[n]=o(e),fr("nonassign",C[c],j.name)},r=E[n]=o(e),l=function(t){return a(t,E[n])||(a(t,r)?s(e,t=E[n]):E[n]=t),r=t},l.$stateful=!0,l=t.collection?e.$watchCollection(C[c],l):e.$watch(p(C[c],l),null,o.literal),b.$on("$destroy",l);break;case"&":o=p(C[c]),E[n]=function(t){return o(e,t)}}})}for(S&&(o(S,function(t){t()}),S=null),c=0,d=h.length;d>c;c++)g=h[c],ee(g,g.isolateScope?b:e,_,C,g.require&&x(g.directiveName,g.require,_,y),w);var T=e;for(j&&(j.template||null===j.templateUrl)&&(T=b),t&&t(T,r.childNodes,n,l),c=f.length-1;c>=0;c--)g=f[c],ee(g,g.isolateScope?b:e,_,C,g.require&&x(g.directiveName,g.require,_,y),w)}d=d||{};for(var C,S,E,T,k,A,M=-Number.MAX_VALUE,D=d.controllerDirectives,j=d.newIsolateScopeDirective,R=d.templateDirective,B=d.nonTlbTranscludeDirective,W=!1,Y=!1,V=d.hasElementTranscludeDirective,G=a.$$element=yi(s),K=c,J=0,Z=t.length;Z>J;J++){E=t[J];var ne=E.$$start,re=E.$$end;if(ne&&(G=N(s,ne,re)),k=n,M>E.priority)break;if((k=E.scope)&&(E.templateUrl||(v(k)?(U("new/isolated scope",j||C,E,G),j=E):U("new/isolated scope",j,E,G)),C=C||E),T=E.name,!E.templateUrl&&E.controller&&(k=E.controller,D=D||{},U("'"+T+"' controller",D[T],E,G),D[T]=E),(k=E.transclude)&&(W=!0,E.$$tlb||(U("transclusion",B,E,G),B=E),"element"==k?(V=!0,M=E.priority,k=G,G=a.$$element=yi(e.createComment(" "+T+": "+a[T]+" ")),s=G[0],Q(l,Ei.call(k,0),s),K=O(k,c,M,u&&u.name,{nonTlbTranscludeDirective:B})):(k=yi(le(s)).contents(),G.empty(),K=O(k,c))),E.template)if(Y=!0,U("template",R,E,G),R=E,k=w(E.template)?E.template(G,a):E.template,k=se(k),E.replace){if(u=E,k=Ji.test(k)?We(q(E.templateNamespace,Ii(k))):[],s=k[0],1!=k.length||s.nodeType!==Bi)throw fr("tplrt",T,"");Q(l,G,s),Z={$attr:{}},k=I(s,[],Z);var oe=t.splice(J+1,t.length-(J+1));j&&F(k),t=t.concat(k).concat(oe),z(a,Z),Z=t.length}else G.html(k);if(E.templateUrl)Y=!0,U("template",R,E,G),R=E,E.replace&&(u=E),_=X(t.splice(J,t.length-J),G,a,l,W&&K,h,f,{controllerDirectives:D,newIsolateScopeDirective:j,templateDirective:R,nonTlbTranscludeDirective:B}),Z=t.length;else if(E.compile)try{A=E.compile(G,a,K),w(A)?y(null,A,ne,re):A&&y(A.pre,A.post,ne,re)}catch(ae){r(ae,H(G))}E.terminal&&(_.terminal=!0,M=Math.max(M,E.priority))}return _.scope=C&&!0===C.scope,_.transcludeOnThisElement=W,_.elementTranscludeOnThisElement=V,_.templateOnThisElement=Y,_.transclude=K,d.hasElementTranscludeDirective=V,_}function F(t){for(var e=0,n=t.length;n>e;e++){var i,r=e;i=u(Object.create(t[e]),{$$isolateScope:!0}),t[r]=i}}function B(e,i,o,a,c,l,h){if(i===c)return null;if(c=null,s.hasOwnProperty(i)){var f;i=t.get(i+"Directive");for(var d=0,p=i.length;p>d;d++)try{if(f=i[d],(a===n||a>f.priority)&&-1!=f.restrict.indexOf(o)){if(l){var g={$$start:l,$$end:h};f=u(Object.create(f),g)}e.push(f),c=f}}catch(m){r(m)}}return c}function W(e){if(s.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;r>i;i++)if(e=n[i],e.multiElement)return!0;return!1}function z(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(M(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function X(t,e,n,i,r,s,c,l){var h,f,d=[],p=e[0],g=t.shift(),m=u({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),b=w(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),a(S.getTrustedResourceUrl(b)).then(function(a){var u,x;if(a=se(a),g.replace){if(a=Ji.test(a)?We(q(y,Ii(a))):[],u=a[0],1!=a.length||u.nodeType!==Bi)throw fr("tplrt",g.name,b);a={$attr:{}},Q(i,e,u);var w=I(u,[],a);v(g.scope)&&F(w),t=w.concat(t),z(n,a)}else u=p,e.html(a);for(t.unshift(m),h=R(t,u,n,r,e,g,s,c,l),o(i,function(t,n){t==u&&(i[n]=e[0])}),f=D(e[0].childNodes,r);d.length;){a=d.shift(),x=d.shift();var _=d.shift(),C=d.shift(),w=e[0];if(!a.$$destroyed){if(x!==p){var $=x.className;l.hasElementTranscludeDirective&&g.replace||(w=le(u)),Q(_,yi(x),w),M(yi(w),$)}x=h.transcludeOnThisElement?j(a,h.transclude,C):C,h(f,a,w,i,x)}}d=null}),function(t,e,n,i,r){t=r,e.$$destroyed||(d?d.push(e,n,i,t):(h.transcludeOnThisElement&&(t=j(e,h.transclude,r)),h(f,e,n,i,t)))}}function Y(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function U(t,e,n,i){if(e)throw fr("multidir",e.name,n.name,t,H(i))}function V(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;return e&&O.$$addBindingClass(t),function(t,i){var r=i.parent();e||O.$$addBindingClass(r),O.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){i[0].nodeValue=t})}}})}function q(t,n){switch(t=Ci(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function K(t,e){if("srcdoc"==e)return S.HTML;var n=k(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function Z(t,e,n,r,o){var s=K(t,r);o=h[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===k(t))throw fr("selmulti",H(t));e.push({priority:100,compile:function(){return{pre:function(t,e,c){if(e=c.$$observers||(c.$$observers={}),y.test(r))throw fr("nodomevents");var l=c[r];l!==n&&(a=l&&i(l,!0,s,o),n=l),a&&(c[r]=a(t),(e[r]||(e[r]=[])).$$inter=!0,(c.$$observers&&c.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?c.$updateClass(t,e):c.$set(r,t)}))}}}})}}function Q(t,n,i){var r,o,s=n[0],a=n.length,c=s.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==s){t[r++]=i,o=r+a-1;for(var l=t.length;l>r;r++,o++)l>o?t[r]=t[o]:delete t[r];t.length-=a-1,t.context===s&&(t.context=i);break}for(c&&c.replaceChild(i,s),t=e.createDocumentFragment(),t.appendChild(s),yi(i).data(yi(s).data()),xi?(Di=!0,xi.cleanData([s])):delete yi.cache[s[yi.expando]],s=1,a=n.length;a>s;s++)c=n[s],yi(c).remove(),t.appendChild(c),delete n[s];n[0]=i,n.length=1}function te(t,e){return u(function(){return t.apply(null,arguments)},t,e)}function ee(t,e,n,i,o,s){try{t(e,n,i,o,s)}catch(a){r(a,H(n))}}var ie=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t};ie.prototype={$normalize:Fe,$addClass:function(t){t&&0<t.length&&E.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&E.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Be(t,e);n&&n.length&&E.addClass(this.$$element,n),(n=Be(e,t))&&n.length&&E.removeClass(this.$$element,n)},$set:function(t,e,i,s){var a=this.$$element[0],c=$e(a,t),l=Se(a,t),a=t;if(c?(this.$$element.prop(t,e),s=c):l&&(this[l]=e,a=l),this[t]=e,s?this.$attr[t]=s:(s=this.$attr[t])||(this.$attr[t]=s=G(t,"-")),c=k(this.$$element),"a"===c&&"href"===t||"img"===c&&"src"===t)this[t]=e=T(e,"src"===t);else if("img"===c&&"srcset"===t){for(var c="",l=Ii(e),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(l)?u:/(,)/,l=l.split(u),u=Math.floor(l.length/2),h=0;u>h;h++)var f=2*h,c=c+T(Ii(l[f]),!0),c=c+(" "+Ii(l[f+1]));l=Ii(l[2*h]).split(/\s/),c+=T(Ii(l[0]),!0),2===l.length&&(c+=" "+Ii(l[1])),this[t]=e=c}!1!==i&&(null===e||e===n?this.$$element.removeAttr(s):this.$$element.attr(s,e)),(t=this.$$observers)&&o(t[a],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=ne()),r=i[t]||(i[t]=[]);return r.push(e),_.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){A(r,e)}}};var re=i.startSymbol(),oe=i.endSymbol(),se="{{"==re||"}}"==oe?d:function(t){return t.replace(/\{\{/g,re).replace(/}}/g,oe)},ae=/^ngAttr[A-Z]/;return O.$$addBindingInfo=x?function(t,e){var n=t.data("$binding")||[];ji(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,O.$$addBindingClass=x?function(t){M(t,"ng-binding")}:f,O.$$addScopeInfo=x?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:f,O.$$addScopeClass=x?function(t,e){M(t,e?"ng-isolate-scope":"ng-scope")}:f,O}]}function Fe(t){return oe(t.replace(dr,""))}function Be(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),o=0;t:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(0<n.length?" ":"")+s}return n}function We(t){t=yi(t);var e=t.length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&Ti.call(t,e,1);return t}function ze(){var t={},e=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){Q(e,"controller"),v(e)?u(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,s){function a(t,e,n,r){if(!t||!v(t.$scope))throw i("$controller")("noscp",r,e);t.$scope[e]=n}return function(i,c,l,h){var f,d,p;return l=!0===l,h&&b(h)&&(p=h),b(i)&&(h=i.match(r),d=h[1],p=p||h[3],i=t.hasOwnProperty(d)?t[d]:te(c.$scope,d,!0)||(e?te(s,d,!0):n),Z(i,d,!0)),l?(l=(ji(i)?i[i.length-1]:i).prototype,f=Object.create(l),p&&a(c,p,f,d||i.name),u(function(){return o.invoke(i,f,c,d),f},{instance:f,identifier:p})):(f=o.instantiate(i,c,d),p&&a(c,p,f,d||i.name),f)}}]}function Xe(){this.$get=["$window",function(t){return yi(t.document)}]}function Ye(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function Ue(t,e){if(b(t)){var n=t.replace(br,"").trim();if(n){var i=e("Content-Type");(i=i&&0===i.indexOf(pr))||(i=(i=n.match(mr))&&vr[i[0]].test(n)),i&&(t=L(n))}}return t}function Ve(t){var e,n,i,r=ne();return t?(o(t.split("\n"),function(t){i=t.indexOf(":"),e=Ci(Ii(t.substr(0,i))),n=Ii(t.substr(i+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r):r}function qe(t){var e=v(t)?t:n;return function(n){return e||(e=Ve(t)),n?(n=e[Ci(n)],void 0===n&&(n=null),n):e}}function Ge(t,e,n,i){return w(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Ke(){var t=this.defaults={transformResponse:[Ue],transformRequest:[function(t){return v(t)&&"[object File]"!==Ai.call(t)&&"[object Blob]"!==Ai.call(t)&&"[object FormData]"!==Ai.call(t)?N(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(gr),put:O(gr),patch:O(gr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return m(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,c,l,h,f,d){function p(e){function r(t){var e=u({},t);return e.data=t.data?Ge(t.data,t.headers,t.status,a.transformResponse):t.data,t=t.status,t>=200&&300>t?e:f.reject(e)}function s(t){var e,n={};return o(t,function(t,i){w(t)?(e=t(),null!=e&&(n[i]=e)):n[i]=t}),n}if(!Oi.isObject(e))throw i("$http")("badreq",e);var a=u({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);a.headers=function(e){var n,i,r=t.headers,o=u({},e.headers),r=u({},r.common,r[Ci(e.method)]);t:for(n in r){e=Ci(n);for(i in o)if(Ci(i)===e)continue t;o[n]=r[n]}return s(o)}(e),a.method=Si(a.method);var c=[function(e){var i=e.headers,s=Ge(e.data,qe(i),n,e.transformRequest);return g(s)&&o(i,function(t,e){"content-type"===Ci(e)&&delete i[e]}),g(e.withCredentials)&&!g(t.withCredentials)&&(e.withCredentials=t.withCredentials),y(e,s).then(r,r)},n],l=f.when(a);for(o($,function(t){(t.request||t.requestError)&&c.unshift(t.request,t.requestError),(t.response||t.responseError)&&c.push(t.response,t.responseError)});c.length;){e=c.shift();var h=c.shift(),l=l.then(e,h)}return l.success=function(t){return l.then(function(e){t(e.data,e.status,e.headers,a)}),l},l.error=function(t){return l.then(null,function(e){t(e.data,e.status,e.headers,a)}),l},l}function y(i,r){function o(t,n,i,r){function o(){s(n,t,i,r)}d&&(t>=200&&300>t?d.put(S,[t,n,Ve(i),r]):d.remove(S)),e?h.$applyAsync(o):(o(),h.$$phase||h.$apply())}function s(t,e,n,r){e=Math.max(e,0),(e>=200&&300>e?y.resolve:y.reject)({data:t,status:e,headers:qe(n),config:i,statusText:r})}function l(t){s(t.data,t.status,O(t.headers()),t.statusText)}function u(){var t=p.pendingRequests.indexOf(i);-1!==t&&p.pendingRequests.splice(t,1)}var d,b,y=f.defer(),x=y.promise,$=i.headers,S=_(i.url,i.params);return p.pendingRequests.push(i),x.then(u,u),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(d=v(i.cache)?i.cache:v(t.cache)?t.cache:C),d&&(b=d.get(S),m(b)?b&&w(b.then)?b.then(l,l):ji(b)?s(b[1],b[0],O(b[2]),b[3]):s(b,200,{},"OK"):d.put(S,x)),g(b)&&((b=zn(i.url)?c.cookies()[i.xsrfCookieName||t.xsrfCookieName]:n)&&($[i.xsrfHeaderName||t.xsrfHeaderName]=b),a(i.method,S,r,o,$,i.timeout,i.withCredentials,i.responseType)),x}function _(t,e){if(!e)return t;var n=[];return s(e,function(t,e){null===t||g(t)||(ji(t)||(t=[t]),o(t,function(t){v(t)&&(t=x(t)?t.toISOString():N(t)),n.push(z(e)+"="+z(t))}))}),0<n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var C=l("$http"),$=[];return o(r,function(t){$.unshift(b(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],function(){o(arguments,function(t){p[t]=function(e,n){return p(u(n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(){o(arguments,function(t){p[t]=function(e,n,i){return p(u(i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function Je(){return new t.XMLHttpRequest}function Ze(){this.$get=["$browser","$window","$document",function(t,e,n){return Qe(t,Je,t.defer,e.angular.callbacks,n[0])}]}function Qe(t,e,i,r,s){function a(t,e,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=t,i.async=!0,o=function(t){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),s.body.removeChild(i),i=null;var a=-1,c="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),c=t.type,a="error"===t.type?404:200),n&&n(a,c)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),s.body.appendChild(i),o}return function(s,c,l,u,h,d,p,g){function v(){x&&x(),_&&_.abort()}function b(e,r,o,s,a){$!==n&&i.cancel($),x=_=null,e(r,o,s,a),t.$$completeOutstandingRequest(f)}if(t.$$incOutstandingRequestCount(),c=c||t.url(),"jsonp"==Ci(s)){var y="_"+(r.counter++).toString(36);r[y]=function(t){r[y].data=t,r[y].called=!0};var x=a(c.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){b(u,t,r[y].data,"",e),r[y]=f})}else{var _=e();if(_.open(s,c,!0),o(h,function(t,e){m(t)&&_.setRequestHeader(e,t)}),_.onload=function(){var t=_.statusText||"",e="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=e?200:"file"==Wn(c).protocol?404:0),b(u,n,e,_.getAllResponseHeaders(),t)},s=function(){b(u,-1,null,null,"")},_.onerror=s,_.onabort=s,p&&(_.withCredentials=!0),g)try{_.responseType=g}catch(C){if("json"!==g)throw C}_.send(l||null)}if(d>0)var $=i(v,d);else d&&w(d.then)&&d.then(v)}}function tn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(o,s,f,d){function p(n){return n.replace(l,t).replace(h,e)}function v(t){try{var e=t;t=f?r.getTrusted(f,e):r.valueOf(e);var n;if(d&&!m(t))n=t;else if(null==t)n="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=N(t)}n=t}return n}catch(s){n=yr("interr",o,s.toString()),i(n)}}d=!!d;for(var b,y,x=0,_=[],C=[],$=o.length,S=[],E=[];$>x;){if(-1==(b=o.indexOf(t,x))||-1==(y=o.indexOf(e,b+a))){x!==$&&S.push(p(o.substring(x)));break}x!==b&&S.push(p(o.substring(x,b))),x=o.substring(b+a,y),_.push(x),C.push(n(x,v)),x=y+c,E.push(S.length),S.push("")}if(f&&1<S.length)throw yr("noconcat",o);if(!s||_.length){var T=function(t){for(var e=0,n=_.length;n>e;e++){if(d&&g(t[e]))return;S[E[e]]=t[e]}return S.join("")};return u(function(t){var e=0,n=_.length,r=Array(n);try{for(;n>e;e++)r[e]=C[e](t);return T(r)}catch(s){t=yr("interr",o,s.toString()),i(t)}},{exp:o,expressions:_,$$watchDelegate:function(t,e,n){var i;return t.$watchGroup(C,function(n,r){var o=T(n);w(e)&&e.call(this,o,n!==r?i:o,t),i=o},n)}})}}var a=t.length,c=e.length,l=new RegExp(t.replace(/./g,o),"g"),h=new RegExp(e.replace(/./g,o),"g");return s.startSymbol=function(){return t},s.endSymbol=function(){return e},s}]}function en(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,s,a,c){var l=e.setInterval,u=e.clearInterval,h=0,f=m(c)&&!c,d=(f?i:n).defer(),p=d.promise;return a=m(a)?a:0,p.then(null,null,r),p.$$intervalId=l(function(){d.notify(h++),a>0&&h>=a&&(d.resolve(h),u(p.$$intervalId),delete o[p.$$intervalId]),f||t.$apply()},s),o[p.$$intervalId]=d,p}var o={};return r.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},r}]}function nn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function rn(t){t=t.split("/");for(var e=t.length;e--;)t[e]=W(t[e]);return t.join("/")}function on(t,e){var n=Wn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||wr[n.protocol]||null}function sn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Wn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=F(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function an(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function cn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function ln(t){return t.replace(/(#.+)|#$/,"$1")}function un(t){return t.substr(0,cn(t).lastIndexOf("/")+1)}function hn(t,e){this.$$html5=!0,e=e||"";var i=un(t);on(t,this),this.$$parse=function(t){var e=an(i,t);if(!b(e))throw _r("ipthprfx",t,i);sn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=B(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=rn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a;return(s=an(t,r))!==n?(a=s,a=(s=an(e,s))!==n?i+(an("/",s)||s):t+a):(s=an(i,r))!==n?a=i+s:i==r+"/"&&(a=i),a&&this.$$parse(a),!!a}}function fn(t,e){var n=un(t);on(t,this),this.$$parse=function(i){i=an(t,i)||an(n,i);var r;"#"===i.charAt(0)?(r=an(e,i),g(r)&&(r=i)):r=this.$$html5?i:"",sn(r,this),i=this.$$path;var o=/^\/[A-Z]:(\/.*)/;0===r.indexOf(t)&&(r=r.replace(t,"")),o.exec(r)||(i=(r=o.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var n=B(this.$$search),i=this.$$hash?"#"+W(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return cn(t)==cn(e)?(this.$$parse(e),!0):!1}}function dn(t,e){this.$$html5=!0,fn.apply(this,arguments);var n=un(t);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return t==cn(i)?o=i:(s=an(n,i))?o=t+e+s:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=B(this.$$search),i=this.$$hash?"#"+W(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+e+this.$$url}}function pn(t){return function(){return this[t]}}function gn(t,e){return function(n){return g(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function mn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return m(e)?(t=e,this):t},this.html5Mode=function(t){return S(t)?(e.enabled=t,this):v(t)?(S(t.enabled)&&(e.enabled=t.enabled),S(t.requireBase)&&(e.requireBase=t.requireBase),S(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(s){throw l.url(r),l.$$state=o,s}}function c(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,u;u=i.baseHref();var h,f=i.url();if(e.enabled){if(!u&&e.requireBase)throw _r("nobase");h=f.substring(0,f.indexOf("/",f.indexOf("//")+2))+(u||"/"),u=r.history?hn:dn}else h=cn(f),u=fn;l=new u(h,"#"+t),l.$$parseLinkUrl(f,f),l.$$state=i.state();var d=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var r=yi(t.target);"a"!==k(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),c=r.attr("href")||r.attr("xlink:href");v(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Wn(a.animVal).href),d.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||!l.$$parseLinkUrl(a,c)||(t.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=f&&i.url(l.absUrl(),!0);var p=!0;return i.onUrlChange(function(t,e){n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=o,a(r,!1,o)):(p=!1,c(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=ln(i.url()),e=ln(l.absUrl()),o=i.state(),s=l.$$replace,u=t!==e||l.$$html5&&r.history&&o!==l.$$state;(p||u)&&(p=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=o):(u&&a(e,s,o===l.$$state?null:l.$$state),c(t,o)))})),l.$$replace=!1}),l}]}function vn(){var t=!0,e=this;this.debugEnabled=function(e){return m(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||f;t=!1;try{t=!!r.apply}catch(s){}return t?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function bn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw $r("isecfld",e);return t}function yn(t,e){if(t){if(t.constructor===t)throw $r("isecfn",e);if(t.window===t)throw $r("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw $r("isecdom",e);if(t===Object)throw $r("isecobj",e)}return t}function xn(t){return t.constant}function wn(t,e,n,i,r){yn(t,r),yn(e,r),n=n.split(".");for(var o,s=0;1<n.length;s++){o=bn(n.shift(),r);var a=0===s&&e&&e[o]||t[o];a||(a={},t[o]=a),t=yn(a,r)}return o=bn(n.shift(),r),yn(t[o],r),t[o]=i}function _n(t){return"constructor"==t}function Cn(t,e,i,r,o,s,a){bn(t,s),bn(e,s),bn(i,s),bn(r,s),bn(o,s);var c=function(t){return yn(t,s)},l=a||_n(t)?c:d,u=a||_n(e)?c:d,h=a||_n(i)?c:d,f=a||_n(r)?c:d,p=a||_n(o)?c:d;
return function(s,a){var c=a&&a.hasOwnProperty(t)?a:s;return null==c?c:(c=l(c[t]),e?null==c?n:(c=u(c[e]),i?null==c?n:(c=h(c[i]),r?null==c?n:(c=f(c[r]),o?null==c?n:c=p(c[o]):c):c):c):c)}}function $n(t,e){return function(n,i){return t(n,i,yn,e)}}function Sn(t,e,i){var r=e.expensiveChecks,s=r?jr:Dr,a=s[t];if(a)return a;var c=t.split("."),l=c.length;if(e.csp)a=6>l?Cn(c[0],c[1],c[2],c[3],c[4],i,r):function(t,e){var o,s=0;do o=Cn(c[s++],c[s++],c[s++],c[s++],c[s++],i,r)(t,e),e=n,t=o;while(l>s);return o};else{var u="";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var h=r;o(c,function(t,e){bn(t,i);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(r||_n(t))&&(n="eso("+n+", fe)",h=!0),u+="if(s == null) return undefined;\ns="+n+";\n"}),u+="return s;",e=new Function("s","l","eso","fe",u),e.toString=p(u),h&&(e=$n(e,i)),a=e}return a.sharedGetter=!0,a.assign=function(e,n,i){return wn(e,i,t,n,t)},s[t]=a}function En(t){return w(t.valueOf)?t.valueOf():Ir.call(t)}function Tn(){var t=ne(),e=ne();this.$get=["$filter","$sniffer",function(n,i){function r(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function s(t,e){for(var n=0,i=t.length;i>n;n++){var r=t[n];r.constant||(r.inputs?s(r.inputs,e):-1===e.indexOf(r)&&e.push(r))}return e}function a(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=En(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function c(t,e,n,i){var r,o=i.$$inputs||(i.$$inputs=s(i.inputs,[]));if(1===o.length){var c=a,o=o[0];return t.$watch(function(t){var e=o(t);return a(e,c)||(r=i(t),c=e&&En(e)),r},e,n)}for(var l=[],u=0,h=o.length;h>u;u++)l[u]=a;return t.$watch(function(t){for(var e=!1,n=0,s=o.length;s>n;n++){var c=o[n](t);(e||(e=!a(c,l[n])))&&(l[n]=c&&En(c))}return e&&(r=i(t)),r},e,n)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,w(e)&&e.apply(this,arguments),m(t)&&i.$$postDigest(function(){m(o)&&r()})},n)}function u(t,e,n,i){function r(t){var e=!0;return o(t,function(t){m(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return i(t)},function(t,n,i){a=t,w(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(a)&&s()})},n)}function h(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(){w(e)&&e.apply(this,arguments),r()},n)}function d(t,e){if(!e)return t;var n=t.$$watchDelegate,n=n!==u&&n!==l?function(n,i){var r=t(n,i);return e(r,n,i)}:function(n,i){var r=t(n,i),o=e(r,n,i);return m(r)?o:r};return t.$$watchDelegate&&t.$$watchDelegate!==c?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=c,n.inputs=[t]),n}var p={csp:i.csp,expensiveChecks:!1},g={csp:i.csp,expensiveChecks:!0};return function(i,o,s){var a,m,v;switch(typeof i){case"string":v=i=i.trim();var b=s?e:t;return a=b[v],a||(":"===i.charAt(0)&&":"===i.charAt(1)&&(m=!0,i=i.substring(2)),s=s?g:p,a=new Or(s),a=new Pr(a,n,s).parse(i),a.constant?a.$$watchDelegate=h:m?(a=r(a),a.$$watchDelegate=a.literal?u:l):a.inputs&&(a.$$watchDelegate=c),b[v]=a),d(a,o);case"function":return d(i,o);default:return d(f,o)}}}]}function kn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Mn(function(e){t.$evalAsync(e)},e)}]}function An(){this.$get=["$browser","$exceptionHandler",function(t,e){return Mn(function(e){t.defer(e)},e)}]}function Mn(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function c(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,t(function(){var t,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var s=0,a=o.length;a>s;++s){r=o[s][0],t=o[s][i.status];try{w(t)?r.resolve(t(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(c){r.reject(c),e(c)}}}))}function l(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}var u=i("$q",TypeError);s.prototype={then:function(t,e,n){var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&c(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return f(e,!0,t)},function(e){return f(e,!1,t)},e)}},l.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(u("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(v(t)||w(t))&&(n=t&&t.then),w(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;s>o;o++){r=i[o][0],t=i[o][3];try{r.notify(w(t)?t(n):n)}catch(a){e(a)}}})}};var h=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},f=function(t,e,n){var i=null;try{w(n)&&(i=n())}catch(r){return h(r,!1)}return i&&w(i.then)?i.then(function(){return h(t,e)},function(t){return h(t,!1)}):h(t,e)},d=function(t,e,n,i){var r=new l;return r.resolve(t),r.promise.then(e,n,i)},p=function g(t){if(!w(t))throw u("norslvr",t);if(!(this instanceof g))return new g(t);var e=new l;return t(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise};return p.defer=function(){return new l},p.reject=function(t){var e=new l;return e.reject(t),e.promise},p.when=d,p.all=function(t){var e=new l,n=0,i=ji(t)?[]:{};return o(t,function(t,r){n++,d(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise},p}function On(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function Pn(){var t=10,e=i("$rootScope"),n=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,a,c,l){function u(){this.$id=++Pi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(t){if(y.$$phase)throw e("inprog",y.$$phase);y.$$phase=t}function d(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function p(){}function m(){for(;C.length;)try{C.shift()()}catch(t){a(t)}s=null}function b(){null===s&&(s=l.defer(function(){y.$apply(m)}))}u.prototype={constructor:u,$new:function(t,e){function n(){i.$$destroyed=!0}var i;return e=e||this,t?(i=new u,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++Pi,this.$$ChildScope=null},this.$$ChildScope.prototype=this),i=new this.$$ChildScope),i.$parent=e,i.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=i,e.$$childTail=i):e.$$childHead=e.$$childTail=i,(t||e!=this)&&i.$on("$destroy",n),i},$watch:function(t,e,i){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,i,r);var o=this.$$watchers,s={fn:e,last:p,get:r,exp:t,eq:!!i};return n=null,w(e)||(s.fn=f),o||(o=this.$$watchers=[]),o.unshift(s),function(){A(o,s),n=null}},$watchGroup:function(t,e){function n(){c=!1,l?(l=!1,e(r,r,a)):e(r,i,a)}var i=Array(t.length),r=Array(t.length),s=[],a=this,c=!1,l=!0;if(!t.length){var u=!0;return a.$evalAsync(function(){u&&e(r,r,a)}),function(){u=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){r[e]=t,i[e]=o,c||(c=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){i=t;var e,n,s,a;if(!g(i)){if(v(i))if(r(i))for(o!==f&&(o=f,m=o.length=0,u++),t=i.length,m!==t&&(u++,o.length=m=t),e=0;t>e;e++)a=o[e],s=i[e],n=a!==a&&s!==s,n||a===s||(u++,o[e]=s);else{o!==d&&(o=d={},m=0,u++),t=0;for(e in i)i.hasOwnProperty(e)&&(t++,s=i[e],a=o[e],e in o?(n=a!==a&&s!==s,n||a===s||(u++,o[e]=s)):(m++,o[e]=s,u++));if(m>t)for(e in u++,o)i.hasOwnProperty(e)||(m--,delete o[e])}else o!==i&&(o=i,u++);return u}}n.$stateful=!0;var i,o,s,a=this,l=1<e.length,u=0,h=c(t,n),f=[],d={},p=!0,m=0;return this.$watch(h,function(){if(p?(p=!1,e(i,i,a)):e(i,s,a),l)if(v(i))if(r(i)){s=Array(i.length);for(var t=0;t<i.length;t++)s[t]=i[t]}else for(t in s={},i)$i.call(i,t)&&(s[t]=i[t]);else s=i})},$digest:function(){var i,r,o,c,u,f,d,g,v,b=t,C=[];h("$digest"),l.$$checkUrlChange(),this===y&&null!==s&&(l.defer.cancel(s),m()),n=null;do{for(f=!1,d=this;x.length;){try{v=x.shift(),v.scope.$eval(v.expression,v.locals)}catch($){a($)}n=null}t:do{if(c=d.$$watchers)for(u=c.length;u--;)try{if(i=c[u])if((r=i.get(d))===(o=i.last)||(i.eq?P(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){f=!1;break t}}else f=!0,n=i,i.last=i.eq?M(r,null):r,i.fn(r,o===p?r:o,d),5>b&&(g=4-b,C[g]||(C[g]=[]),C[g].push({msg:w(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:r,oldVal:o}))}catch(S){a(S)}if(!(c=d.$$childHead||d!==this&&d.$$nextSibling))for(;d!==this&&!(c=d.$$nextSibling);)d=d.$parent}while(d=c);if((f||x.length)&&!b--)throw y.$$phase=null,e("infdig",t,C)}while(f||x.length);for(y.$$phase=null;_.length;)try{_.shift()()}catch(E){a(E)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var e in this.$$listenerCount)d(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){y.$$phase||x.length||l.defer(function(){x.length&&y.$digest()}),x.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){_.push(t)},$apply:function(t){try{return h("$apply"),this.$eval(t)}catch(e){a(e)}finally{y.$$phase=null;try{y.$digest()}catch(n){throw a(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&C.push(e),b()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,d(r,1,t))}},$emit:function(t){var e,n,i,r=[],o=this,s=!1,c={name:t,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=D([c],arguments,1);do{for(e=o.$$listeners[t]||r,c.currentScope=o,n=0,i=e.length;i>n;n++)if(e[n])try{e[n].apply(null,l)}catch(u){a(u)}else e.splice(n,1),n--,i--;if(s)return c.currentScope=null,c;o=o.$parent}while(o);return c.currentScope=null,c},$broadcast:function(t){var e=this,n=this,i={name:t,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return i;for(var r,o,s=D([i],arguments,1);e=n;){for(i.currentScope=e,n=e.$$listeners[t]||[],r=0,o=n.length;o>r;r++)if(n[r])try{n[r].apply(null,s)}catch(c){a(c)}else n.splice(r,1),r--,o--;if(!(n=e.$$listenerCount[t]&&e.$$childHead||e!==this&&e.$$nextSibling))for(;e!==this&&!(n=e.$$nextSibling);)e=e.$parent}return i.currentScope=null,i}};var y=new u,x=y.$$asyncQueue=[],_=y.$$postDigestQueue=[],C=y.$$applyAsyncQueue=[];return y}]}function Dn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return m(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return m(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Wn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function jn(t){if("self"===t)return t;if(b(t)){if(-1<t.indexOf("***"))throw Nr("iwcard",t);return t=Ni(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(_(t))return new RegExp("^"+t.source+"$");throw Nr("imatcher")}function In(t){var e=[];return m(t)&&o(t,function(t){e.push(jn(t))}),e}function Nn(){this.SCE_CONTEXTS=Lr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=In(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=In(t)),e},this.$get=["$injector",function(i){function r(t,e){return"self"===t?zn(e):!!t.exec(e.href)}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var s=function(){throw Nr("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var a=o(),c={};return c[Lr.HTML]=o(a),c[Lr.CSS]=o(a),c[Lr.URL]=o(a),c[Lr.JS]=o(a),c[Lr.RESOURCE_URL]=o(c[Lr.URL]),{trustAs:function(t,e){var i=c.hasOwnProperty(t)?c[t]:null;if(!i)throw Nr("icontext",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw Nr("itype",t);return new i(e)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var a=c.hasOwnProperty(i)?c[i]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(i===Lr.RESOURCE_URL){var l,u,a=Wn(o.toString()),h=!1;for(l=0,u=t.length;u>l;l++)if(r(t[l],a)){h=!0;break}if(h)for(l=0,u=e.length;u>l;l++)if(r(e[l],a)){h=!1;break}if(h)return o;throw Nr("insecurl",o.toString())}if(i===Lr.HTML)return s(o);throw Nr("unsafe")},valueOf:function(t){return t instanceof a?t.$$unwrapTrustedValue():t}}}]}function Ln(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>bi)throw Nr("iequirks");var i=O(Lr);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=d),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(Lr,function(t,e){var n=Ci(e);i[oe("parse_as_"+n)]=function(e){return r(t,e)},i[oe("get_trusted_"+n)]=function(e){return s(t,e)},i[oe("trust_as_"+n)]=function(e){return a(t,e)}}),i}]}function Hn(){this.$get=["$window","$document",function(t,e){var n,i={},r=h((/android (\d+)/.exec(Ci((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,u=!1;if(c){for(var f in c)if(l=a.exec(f)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),u=!!("animation"in c||n+"Animation"in c),!r||l&&u||(l=b(s.body.style.webkitTransition),u=b(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>r||o),hasEvent:function(t){if("input"===t&&11>=bi)return!1;if(g(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:Li(),vendorPrefix:n,transitions:l,animations:u,android:r}}]}function Rn(){this.$get=["$templateCache","$http","$q",function(t,e,n){function i(r,o){i.totalPendingRequests++;var s=e.defaults&&e.defaults.transformResponse;return ji(s)?s=s.filter(function(t){return t!==Ue}):s===Ue&&(s=null),e.get(r,{cache:t,transformResponse:s}).then(function(t){return i.totalPendingRequests--,t.data},function(t){if(i.totalPendingRequests--,!o)throw fr("tpload",r);return n.reject(t)})}return i.totalPendingRequests=0,i}]}function Fn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var i=[];return o(t,function(t){var r=Oi.element(t).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+Ni(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!=r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function Bn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,c){var l=m(c)&&!c,u=(l?i:n).defer(),h=u.promise;return a=e.defer(function(){try{u.resolve(o())}catch(e){u.reject(e),r(e)}finally{delete s[h.$$timeoutId]}l||t.$apply()},a),h.$$timeoutId=a,s[a]=u,h}var s={};return o.cancel=function(t){return t&&t.$$timeoutId in s?(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Wn(t){return bi&&(Hr.setAttribute("href",t),t=Hr.href),Hr.setAttribute("href",t),{href:Hr.href,protocol:Hr.protocol?Hr.protocol.replace(/:$/,""):"",host:Hr.host,search:Hr.search?Hr.search.replace(/^\?/,""):"",hash:Hr.hash?Hr.hash.replace(/^#/,""):"",hostname:Hr.hostname,port:Hr.port,pathname:"/"===Hr.pathname.charAt(0)?Hr.pathname:"/"+Hr.pathname}}function zn(t){return t=b(t)?Wn(t):t,t.protocol===Rr.protocol&&t.host===Rr.host}function Xn(){this.$get=p(t)}function Yn(t){function e(n,i){if(v(n)){var r={};return o(n,function(t,n){r[n]=e(n,t)}),r}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",Gn),e("date",ii),e("filter",Un),e("json",ri),e("limitTo",oi),e("lowercase",Xr),e("number",Kn),e("orderBy",si),e("uppercase",Yr)}function Un(){return function(t,e,n){if(!ji(t))return t;var i;switch(typeof e){case"function":break;case"boolean":case"number":case"string":i=!0;case"object":e=Vn(e,n,i);break;default:return t}return t.filter(e)}}function Vn(t,e,n){var i=v(t)&&"$"in t;return!0===e?e=P:w(e)||(e=function(t,e){return v(t)||v(e)?!1:(t=Ci(""+t),e=Ci(""+e),-1!==t.indexOf(e))}),function(r){return i&&!v(r)?qn(r,t.$,e,!1):qn(r,t,e,n)}}function qn(t,e,n,i,r){var o=typeof t,s=typeof e;if("string"===s&&"!"===e.charAt(0))return!qn(t,e.substring(1),n,i);if(ji(t))return t.some(function(t){return qn(t,e,n,i)});switch(o){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&qn(t[a],e,n,!0))return!0;return r?!1:qn(t,e,n,!1)}if("object"===s){for(a in e)if(r=e[a],!w(r)&&(o="$"===a,!qn(o?t:t[a],r,n,o,o)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Gn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return g(n)&&(n=e.CURRENCY_SYM),g(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Jn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Kn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Jn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Jn(t,e,n,i,r){if(!isFinite(t)||v(t))return"";var o=0>t;t=Math.abs(t);var s=t+"",a="",c=[],l=!1;if(-1!==s.indexOf("e")){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?t=0:(a=s,l=!0)}if(l)r>0&&1>t&&(a=t.toFixed(r),t=parseFloat(a));else{s=(s.split(Fr)[1]||"").length,g(r)&&(r=Math.min(Math.max(e.minFrac,s),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var s=(""+t).split(Fr),l=s[0],s=s[1]||"",h=0,f=e.lgSize,d=e.gSize;if(l.length>=f+d)for(h=l.length-f,u=0;h>u;u++)0===(h-u)%d&&0!==u&&(a+=n),a+=l.charAt(u);for(u=h;u<l.length;u++)0===(l.length-u)%f&&0!==u&&(a+=n),a+=l.charAt(u);for(;s.length<r;)s+="0";r&&"0"!==r&&(a+=i+s.substr(0,r))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,a,o?e.negSuf:e.posSuf),c.join("")}function Zn(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Qn(t,e,n,i){return n=n||0,function(r){return r=r["get"+t](),(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),Zn(r,e,i)}}function ti(t,e){return function(n,i){var r=n["get"+t](),o=Si(e?"SHORT"+t:t);return i[o][r]}}function ei(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function ni(t){return function(e){var n=ei(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,e=1+Math.round(e/6048e5),Zn(e,t)}}function ii(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var i=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=h(e[9]+e[10]),r=h(e[9]+e[11])),o.call(t,h(e[1]),h(e[2])-1,h(e[3])),i=h(e[4]||0)-i,r=h(e[5]||0)-r,o=h(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),s.call(t,i,r,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,c="",l=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,b(n)&&(n=zr.test(n)?h(n):e(n)),y(n)&&(n=new Date(n)),!x(n))return n;for(;i;)(a=Wr.exec(i))?(l=D(l,a,1),i=l.pop()):(l.push(i),i=null);return r&&"UTC"===r&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(l,function(e){s=Br[e],c+=s?s(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function ri(){return function(t,e){return g(e)&&(e=2),N(t,e)}}function oi(){return function(t,e){return y(t)&&(t=t.toString()),ji(t)||b(t)?(e=1/0===Math.abs(Number(e))?Number(e):h(e))?e>0?t.slice(0,e):t.slice(e):b(t)?"":[]:t}}function si(t){return function(e,n,i){function o(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function a(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))||"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function c(t,e){var n=typeof t,i=typeof e;return n===i&&"object"===n&&(t=a(t),e=a(e)),n===i?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):i>n?-1:1}return r(e)?(n=ji(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,i=e||d;if(b(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return o(c,n);if(i=t(e),i.constant){var r=i();return o(function(t,e){return c(t[r],e[r])},n)}}return o(function(t,e){return c(i(t),i(e))},n)}),Ei.call(e).sort(o(function(t,e){for(var i=0;i<n.length;i++){var r=n[i](t,e);if(0!==r)return r}return 0},i))):e}}function ai(t){return w(t)&&(t={link:t}),t.restrict=t.restrict||"AC",p(t)}function ci(t,e,i,r,s){var a=this,c=[],l=a.$$parentForm=t.parent().controller("form")||qr;a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,l.$addControl(a),a.$rollbackViewValue=function(){o(c,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(c,function(t){t.$commitViewValue()})},a.$addControl=function(t){Q(t.$name,"input"),c.push(t),t.$name&&(a[t.$name]=t)},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),A(c,t)},mi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(A(i,n),0===i.length&&delete t[e])},parentForm:l,$animate:r}),a.$setDirty=function(){r.removeClass(t,Mo),r.addClass(t,Oo),a.$dirty=!0,a.$pristine=!1,l.$setDirty()},a.$setPristine=function(){r.setClass(t,Mo,Oo+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(c,function(t){t.$setPristine()})},a.$setUntouched=function(){o(c,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,"ng-submitted"),a.$submitted=!0,l.$setSubmitted()}}function li(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ui(t,e,n,i,r,o){var s=Ci(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(){a=!0}),e.on("compositionend",function(){a=!1,c()})}var c=function(t){if(l&&(o.defer.cancel(l),l=null),!a){var r=e.val();t=t&&t.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=Ii(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,t)}};if(r.hasEvent("input"))e.on("input",c);else{var l,u=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||u(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",u)}e.on("change",c),i.$render=function(){e.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function hi(t,e){return function(n,i){var r,s;if(x(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Zr.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return 0/0}}function fi(t,e,i,r){return function(o,s,a,c,l,u,h){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return m(t)?x(t)?t:i(t):n}di(o,s,a,c),ui(o,s,a,c,l,u);var p,v=c&&c.$options&&c.$options.timezone;if(c.$$parserName=t,c.$parsers.push(function(t){return c.$isEmpty(t)?null:e.test(t)?(t=i(t,p),"UTC"===v&&t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t):n}),c.$formatters.push(function(t){if(t&&!x(t))throw Do("datefmt",t);if(f(t)){if((p=t)&&"UTC"===v){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return h("date")(t,r,v)}return p=null,""}),m(a.min)||a.ngMin){var b;c.$validators.min=function(t){return!f(t)||g(b)||i(t)>=b},a.$observe("min",function(t){b=d(t),c.$validate()})}if(m(a.max)||a.ngMax){var y;c.$validators.max=function(t){return!f(t)||g(y)||i(t)<=y},a.$observe("max",function(t){y=d(t),c.$validate()})}}}function di(t,e,i,r){(r.$$hasNativeValidators=v(e[0].validity))&&r.$parsers.push(function(t){var i=e.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:t})}function pi(t,e,n,r,o){if(m(r)){if(t=t(r),!t.constant)throw i("ngModel")("constexpr",n,r);return t(e)}return o}function gi(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){if(!ji(t)){if(b(t))return t.split(" ");if(v(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}}return t}return{restrict:"AC",link:function(s,a,c){function l(t,e){var n=a.data("$classCounts")||{},i=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),a.data("$classCounts",n),i.join(" ")}function u(t){if(!0===e||s.$index%2===e){var o=r(t||[]);if(h){if(!P(t,h)){var u=r(h),f=i(o,u),o=i(u,o),f=l(f,1),o=l(o,-1);f&&f.length&&n.addClass(a,f),o&&o.length&&n.removeClass(a,o)}}else{var f=l(o,1);c.$addClass(f)}}h=O(t)}var h;s.$watch(c[t],u,!0),c.$observe("class",function(){u(s.$eval(c[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(c[t]));o===e?(o=l(a,1),c.$addClass(o)):(o=l(a,-1),c.$removeClass(o))}})}}}]}function mi(t){function e(t,e){e&&!s[t]?(u.addClass(o,t),s[t]=!0):!e&&s[t]&&(u.removeClass(o,t),s[t]=!1)}function i(t,n){t=t?"-"+G(t,"-"):"",e(ko+t,!0===n),e(Ao+t,!1===n)}var r=t.ctrl,o=t.$element,s={},a=t.set,c=t.unset,l=t.parentForm,u=t.$animate;s[Ao]=!(s[ko]=o.hasClass(ko)),r.$setValidity=function(t,o,s){o===n?(r.$pending||(r.$pending={}),a(r.$pending,t,s)):(r.$pending&&c(r.$pending,t,s),vi(r.$pending)&&(r.$pending=n)),S(o)?o?(c(r.$error,t,s),a(r.$$success,t,s)):(a(r.$error,t,s),c(r.$$success,t,s)):(c(r.$error,t,s),c(r.$$success,t,s)),r.$pending?(e(Po,!0),r.$valid=r.$invalid=n,i("",null)):(e(Po,!1),r.$valid=vi(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[t]?n:r.$error[t]?!1:r.$$success[t]?!0:null,i(t,o),l.$setValidity(t,o,r)}}function vi(t){if(t)for(var e in t)return!1;return!0}var bi,yi,xi,wi,_i=/^\/(.+)\/([a-z]*)$/,Ci=function(t){return b(t)?t.toLowerCase():t},$i=Object.prototype.hasOwnProperty,Si=function(t){return b(t)?t.toUpperCase():t},Ei=[].slice,Ti=[].splice,ki=[].push,Ai=Object.prototype.toString,Mi=i("ng"),Oi=t.angular||(t.angular={}),Pi=0;bi=e.documentMode,f.$inject=[],d.$inject=[];var Di,ji=Array.isArray,Ii=function(t){return b(t)?t.trim():t},Ni=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Li=function(){if(m(Li.isActive_))return Li.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return Li.isActive_=t},Hi=["ng-","data-ng-","ng:","x-ng-"],Ri=/[A-Z]/g,Fi=!1,Bi=1,Wi=3,zi={full:"1.3.9",major:1,minor:3,dot:9,codeName:"multidimensional-awareness"};ce.expando="ng339";var Xi=ce.cache={},Yi=1;ce._data=function(t){return this.cache[t[this.expando]]||{}};var Ui=/([\:\-\_]+(.))/g,Vi=/^moz([A-Z])/,qi={mouseleave:"mouseout",mouseenter:"mouseover"},Gi=i("jqLite"),Ki=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ji=/<|&#?\w+;/,Zi=/<([\w:]+)/,Qi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tr.optgroup=tr.option,tr.tbody=tr.tfoot=tr.colgroup=tr.caption=tr.thead,tr.th=tr.td;var er=ce.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ce(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return yi(t>=0?this[t]:this[this.length+t])},length:0,push:ki,sort:[].sort,splice:[].splice},nr={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){nr[Ci(t)]=t});var ir={};o("input select option textarea button form details".split(" "),function(t){ir[t]=!0});var rr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:pe,removeData:fe},function(t,e){ce[e]=t}),o({data:pe,inheritedData:xe,scope:function(t){return yi.data(t,"$scope")||xe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return yi.data(t,"$isolateScope")||yi.data(t,"$isolateScopeNoTemplate")},controller:ye,injector:function(t){return xe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:ge,css:function(t,e,n){return e=oe(e),m(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=Ci(e);if(nr[r]){if(!m(i))return t[e]||(t.attributes.getNamedItem(e)||f).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(m(i))t.setAttribute(e,i);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){return m(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(g(e)){var n=t.nodeType;return n===Bi||n===Wi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(g(e)){if(t.multiple&&"select"===k(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return g(e)?t.innerHTML:(ue(t,!0),void(t.innerHTML=e))},empty:we},function(t,e){ce.prototype[e]=function(e,i){var r,o,s=this.length;
if(t!==we&&(2==t.length&&t!==ge&&t!==ye?e:i)===n){if(v(e)){for(r=0;s>r;r++)if(t===pe)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}for(r=t.$dv,s=r===n?Math.min(s,1):s,o=0;s>o;o++){var a=t(this[o],e,i);r=r?r+a:a}return r}for(r=0;s>r;r++)t(this[r],e,i);return this}}),o({removeData:fe,on:function rs(t,e,n,i){if(m(i))throw Gi("onargs");if(se(t)){var r=de(t,!0);i=r.events;var o=r.handle;o||(o=r.handle=Ee(t,i));for(var r=0<=e.indexOf(" ")?e.split(" "):[e],s=r.length;s--;){e=r[s];var a=i[e];a||(i[e]=[],"mouseenter"===e||"mouseleave"===e?rs(t,qi[e],function(t){var n=t.relatedTarget;n&&(n===this||this.contains(n))||o(t,e)}):"$destroy"!==e&&t.addEventListener(e,o,!1),a=i[e]),a.push(n)}}},off:he,one:function(t,e,n){t=yi(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;ue(t),o(new ce(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Bi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Bi||11===n){e=new ce(e);for(var n=0,i=e.length;i>n;n++)t.appendChild(e[n])}},prepend:function(t,e){if(t.nodeType===Bi){var n=t.firstChild;o(new ce(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=yi(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:_e,detach:function(t){_e(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new ce(e);for(var r=0,o=e.length;o>r;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:ve,removeClass:me,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;g(i)&&(i=!ge(t,e)),(i?ve:me)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:le,triggerHandler:function(t,e,n){var i,r,s=e.type||e,a=de(t);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:s,target:t},e.type&&(i=u(i,e)),e=O(a),r=n?[i].concat(n):[i],o(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){ce.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;s>o;o++)g(r)?(r=t(this[o],e,n,i),m(r)&&(r=yi(r))):be(r,t(this[o],e,n,i));return m(r)?r:this},ce.prototype.bind=ce.prototype.on,ce.prototype.unbind=ce.prototype.off}),Ae.prototype={put:function(t,e){this[ke(t,this.nextUid)]=e},get:function(t){return this[ke(t,this.nextUid)]},remove:function(t){var e=this[t=ke(t,this.nextUid)];return delete this[t],e}};var or=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,sr=/,/,ar=/^\s*(_?)(\S+?)\1\s*$/,cr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,lr=i("$injector");Pe.$$annotate=Oe;var ur=i("$animate"),hr=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var i=e+"-animation";if(e&&"."!=e.charAt(0))throw ur("notcsel",e);this.$$selectors[e.substr(1)]=i,t.factory(i,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function i(e){var i,r=t.defer();return r.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=e(function(){r.resolve()})}),r.promise}function r(t,e){var n=[],i=[],r=ne();return o((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0}),o(e,function(t,e){var o=r[e];!1===t&&o?i.push(e):!0!==t||o||n.push(e)}),0<n.length+i.length&&[n.length?n:null,i.length?i:null]}function s(t,e,n){for(var i=0,r=e.length;r>i;++i)t[e[i]]=n}function a(){return l||(l=t.defer(),e(function(){l.resolve(),l=null})),l.promise}function c(t,e){if(Oi.isObject(e)){var n=u(e.from||{},e.to||{});t.css(n)}}var l;return{animate:function(t,e,n){return c(t,{from:e,to:n}),a()},enter:function(t,e,n,i){return c(t,i),n?n.after(t):e.prepend(t),a()},leave:function(t){return t.remove(),a()},move:function(t,e,n,i){return this.enter(t,e,n,i)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=yi(t),e=b(e)?e:ji(e)?e.join(" "):"",o(t,function(t){ve(t,e)}),c(t,n),a()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=yi(t),e=b(e)?e:ji(e)?e.join(" "):"",o(t,function(t){me(t,e)}),c(t,n),a()},setClass:function(t,e,n,o){var a=this,c=!1;t=yi(t);var l=t.data("$$animateClasses");return l?o&&l.options&&(l.options=Oi.extend(l.options||{},o)):(l={classes:{},options:o},c=!0),o=l.classes,e=ji(e)?e:e.split(" "),n=ji(n)?n:n.split(" "),s(o,e,!0),s(o,n,!1),c&&(l.promise=i(function(e){var n=t.data("$$animateClasses");if(t.removeData("$$animateClasses"),n){var i=r(t,n.classes);i&&a.$$setClassImmediately(t,i[0],i[1],n.options)}e()}),t.data("$$animateClasses",l)),l.promise},$$setClassImmediately:function(t,e,n,i){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),c(t,i),a()},enabled:f,cancel:f}}]}],fr=i("$compile");Re.$inject=["$provide","$$sanitizeUriProvider"];var dr=/^((?:x|data)[\:\-_])/i,pr="application/json",gr={"Content-Type":pr+";charset=utf-8"},mr=/^\[|^\{(?!\{)/,vr={"[":/]$/,"{":/}$/},br=/^\)\]\}',?\n/,yr=i("$interpolate"),xr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,wr={http:80,https:443,ftp:21},_r=i("$location"),Cr={$$html5:!1,$$replace:!1,absUrl:pn("$$absUrl"),url:function(t){if(g(t))return this.$$url;var e=xr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:pn("$$protocol"),host:pn("$$host"),port:pn("$$port"),path:gn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(b(t)||y(t))t=t.toString(),this.$$search=F(t);else{if(!v(t))throw _r("isrcharg");t=M(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:g(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:gn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([dn,fn,hn],function(t){t.prototype=Object.create(Cr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==hn||!this.$$html5)throw _r("nostate");return this.$$state=g(e)?null:e,this}});var $r=i("$parse"),Sr=Function.prototype.call,Er=Function.prototype.apply,Tr=Function.prototype.bind,kr=ne();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,kr[e]=t}),kr["this"]=function(t){return t},kr["this"].sharedGetter=!0;var Ar=u(ne(),{"+":function(t,e,i,r){return i=i(t,e),r=r(t,e),m(i)?m(r)?i+r:i:m(r)?r:n},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(m(n)?n:0)-(m(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),Mr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Or=function(t){this.options=t};Or.prototype={constructor:Or,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=Ar[e],r=Ar[n];Ar[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=m(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,$r("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Ci(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Mr[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Pr=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};Pr.ZERO=u(function(){return 0},{sharedGetter:!0,constant:!0}),Pr.prototype={constructor:Pr,parse:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in kr?t=kr[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw $r("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw $r("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){t=this.tokens[t];var o=t.text;if(o===e||o===n||o===i||o===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return(t=this.peek(t,e,n,i))?(this.tokens.shift(),t):!1},consume:function(t){if(0===this.tokens.length)throw $r("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=Ar[t];return u(function(t,i){return n(t,i,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,i){var r=Ar[e];return u(function(e,i){return r(e,i,t,n)},{constant:t.constant&&n.constant,inputs:!i&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return Sn(t,this.options,this.text)},constant:function(){var t=this.consume().value;return u(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var i,r=0,o=t.length;o>r;r++)i=t[r](e,n);return i}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},filter:function(t){var e,i,r=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],i=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return u(function(o,s){var a=t(o,s);if(i){for(i[0]=a,a=e.length;a--;)i[a+1]=e[a](o,s);return r.apply(n,i)}return r(a)},{constant:!r.$stateful&&o.every(xn),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),u(function(e,i){return n.assign(e,t(e,i),i)},{inputs:[n,t]})):n},ternary:function(){var t,e=this.logicalOR();if(this.expect("?")&&(t=this.assignment(),this.consume(":"))){var n=this.assignment();return u(function(i,r){return e(i,r)?t(i,r):n(i,r)},{constant:e.constant&&t.constant&&n.constant})}return e},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(Pr.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return u(function(i,r,o){return i=o||t(i,r),null==i?n:e(i)},{assign:function(n,i,r){var o=t(n,r);return o||t.assign(n,o={},r),e.assign(o,i)}})},objectIndex:function(t){var e=this.text,i=this.expression();return this.consume("]"),u(function(r,o){var s=t(r,o),a=i(r,o);return bn(a,e),s?yn(s[a],e):n},{assign:function(n,r,o){var s=bn(i(n,o),e),a=yn(t(n,o),e);return a||t.assign(n,a={},o),a[s]=r}})},functionCall:function(t,e){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=i.length?[]:null;return function(s,a){var c=e?e(s,a):m(e)?n:s,l=t(s,a,c)||f;if(o)for(var u=i.length;u--;)o[u]=yn(i[u](s,a),r);if(yn(c,r),l){if(l.constructor===l)throw $r("isecfn",r);if(l===Sr||l===Er||l===Tr)throw $r("isecff",r)}return c=l.apply?l.apply(c,o):l(o[0],o[1],o[2],o[3],o[4]),yn(c,r)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),u(function(e,n){for(var i=[],r=0,o=t.length;o>r;r++)i.push(t[r](e,n));return i},{literal:!0,constant:t.every(xn),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),u(function(n,i){for(var r={},o=0,s=e.length;s>o;o++)r[t[o]]=e[o](n,i);return r},{literal:!0,constant:e.every(xn),inputs:e})}};var Dr=ne(),jr=ne(),Ir=Object.prototype.valueOf,Nr=i("$sce"),Lr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},fr=i("$compile"),Hr=e.createElement("a"),Rr=Wn(t.location.href);Yn.$inject=["$provide"],Gn.$inject=["$locale"],Kn.$inject=["$locale"];var Fr=".",Br={yyyy:Qn("FullYear",4),yy:Qn("FullYear",2,0,!0),y:Qn("FullYear",1),MMMM:ti("Month"),MMM:ti("Month",!0),MM:Qn("Month",2,1),M:Qn("Month",1,1),dd:Qn("Date",2),d:Qn("Date",1),HH:Qn("Hours",2),H:Qn("Hours",1),hh:Qn("Hours",2,-12),h:Qn("Hours",1,-12),mm:Qn("Minutes",2),m:Qn("Minutes",1),ss:Qn("Seconds",2),s:Qn("Seconds",1),sss:Qn("Milliseconds",3),EEEE:ti("Day"),EEE:ti("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){return t=-1*t.getTimezoneOffset(),t=(t>=0?"+":"")+(Zn(Math[t>0?"floor":"ceil"](t/60),2)+Zn(Math.abs(t%60),2))},ww:ni(2),w:ni(1)},Wr=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,zr=/^\-?\d+$/;ii.$inject=["$locale"];var Xr=p(Ci),Yr=p(Si);si.$inject=["$parse"];var Ur=p({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){var n="[object SVGAnimatedString]"===Ai.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}),Vr={};o(nr,function(t,e){if("multiple"!=t){var n=Fe("ng-"+e);Vr[n]=function(){return{restrict:"A",priority:100,link:function(t,i,r){t.$watch(r[n],function(t){r.$set(e,!!t)})}}}}}),o(rr,function(t,e){Vr[e]=function(){return{priority:100,link:function(t,n,i){return"ngPattern"===e&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(_i))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Fe("ng-"+t);Vr[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Ai.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){e?(r.$set(s,e),bi&&o&&i.prop(o,r[s])):"href"===t&&r.$set(s,null)})}}}});var qr={$addControl:f,$$renameControl:function(t,e){t.$name=e},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};ci.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Gr=function(t){return["$timeout",function(e){return{name:"form",restrict:t?"EAC":"E",controller:ci,compile:function(t){return t.addClass(Mo).addClass(ko),{pre:function(t,i,r,o){if(!("action"in r)){var s=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault()};i[0].addEventListener("submit",s,!1),i.on("$destroy",function(){e(function(){i[0].removeEventListener("submit",s,!1)},0,!1)})}var a=o.$$parentForm,c=o.$name;c&&(wn(t,null,c,o,c),r.$observe(r.name?"name":"ngForm",function(e){c!==e&&(wn(t,null,c,n,c),c=e,wn(t,null,c,o,c),a.$$renameControl(o,c))})),i.on("$destroy",function(){a.$removeControl(o),c&&wn(t,null,c,n,c),u(o,qr)})}}}}}]},Kr=Gr(),Jr=Gr(!0),Zr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Qr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,to=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,eo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,no=/^(\d{4})-(\d{2})-(\d{2})$/,io=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ro=/^(\d{4})-W(\d\d)$/,oo=/^(\d{4})-(\d\d)$/,so=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ao={text:function(t,e,n,i,r,o){ui(t,e,n,i,r,o),li(i)},date:fi("date",no,hi(no,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":fi("datetimelocal",io,hi(io,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:fi("time",so,hi(so,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:fi("week",ro,function(t,e){if(x(t))return t;if(b(t)){ro.lastIndex=0;var n=ro.exec(t);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,c=ei(i),r=7*(r-1);return e&&(n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),a=e.getMilliseconds()),new Date(i,0,c.getDate()+r,n,o,s,a)}}return 0/0},"yyyy-Www"),month:fi("month",oo,hi(oo,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,r,o,s){if(di(t,e,i,r),ui(t,e,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:eo.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!y(t))throw Do("numfmt",t);t=t.toString()}return t}),i.min||i.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||g(a)||t>=a},i.$observe("min",function(t){m(t)&&!y(t)&&(t=parseFloat(t,10)),a=y(t)&&!isNaN(t)?t:n,r.$validate()})}if(i.max||i.ngMax){var c;r.$validators.max=function(t){return r.$isEmpty(t)||g(c)||c>=t},i.$observe("max",function(t){m(t)&&!y(t)&&(t=parseFloat(t,10)),c=y(t)&&!isNaN(t)?t:n,r.$validate()})}},url:function(t,e,n,i,r,o){ui(t,e,n,i,r,o),li(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Qr.test(n)}},email:function(t,e,n,i,r,o){ui(t,e,n,i,r,o),li(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||to.test(n)}},radio:function(t,e,n,i){g(n.name)&&e.attr("name",++Pi),e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,r,o,s,a){var c=pi(a,t,"ngTrueValue",n.ngTrueValue,!0),l=pi(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return P(t,c)}),i.$parsers.push(function(t){return t?c:l})},hidden:f,button:f,submit:f,reset:f,file:f},co=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(ao[Ci(s.type)]||ao.text)(r,o,s,a[0],e,t,n,i)}}}}],lo=/^(true|false|\d+)$/,uo=function(){return{restrict:"A",priority:100,compile:function(t,e){return lo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},ho=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,r){t.$$addBindingInfo(i,r.ngBind),i=i[0],e.$watch(r.ngBind,function(t){i.textContent=t===n?"":t})}}}}],fo=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,r,o){i=t(r.attr(o.$attr.ngBindTemplate)),e.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(t){r.textContent=t===n?"":t})}}}}],po=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){i.html(t.getTrustedHtml(o(e))||"")})}}}}],go=p({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),mo=gi("",!0),vo=gi("Odd",0),bo=gi("Even",1),yo=ai({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),xo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],wo={},_o={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Fe("ng-"+t);wo[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};_o[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Co=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,c,l;n.$watch(r.ngIf,function(n){n?c||s(function(n,o){c=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),a&&(l=ee(a.clone),t.leave(l).then(function(){l=null}),a=null))})}}}],$o=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Oi.noop,compile:function(r,o){var s=o.ngInclude||o.src,a=o.onload||"",c=o.autoscroll;return function(r,o,l,u,h){var f,d,p,g=0,v=function(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).then(function(){d=null}),d=p,p=null)};r.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!m(c)||c&&!r.$eval(c)||e()},l=++g;i?(t(i,!0).then(function(t){if(l===g){var e=r.$new();u.template=t,t=h(e,function(t){v(),n.enter(t,null,o).then(s)}),f=e,p=t,f.$emit("$includeContentLoaded",i),r.$eval(a)}},function(){l===g&&(v(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(v(),u.template=null)})}}}}],So=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),t(ae(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),t(i.contents())(n))}}}],Eo=ai({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),To=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var s=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,c=a?Ii(s):s;r.$parsers.push(function(t){if(!g(t)){var e=[];return t&&o(t.split(c),function(t){t&&e.push(a?Ii(t):t)}),e}}),r.$formatters.push(function(t){return ji(t)?t.join(s):n}),r.$isEmpty=function(t){return!t||!t.length}}}},ko="ng-valid",Ao="ng-invalid",Mo="ng-pristine",Oo="ng-dirty",Po="ng-pending",Do=new i("ngModel"),jo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,s,a,c,l,u,h){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t);var d=s(i.ngModel),p=d.assign,v=d,b=p,x=null,_=this;this.$$setOptions=function(t){if((_.$options=t)&&t.getterSetter){var e=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");v=function(t){var n=d(t);return w(n)&&(n=e(t)),n},b=function(t){w(d(t))?n(t,{$$$p:_.$modelValue}):p(t,_.$modelValue)}}else if(!d.assign)throw Do("nonassign",i.ngModel,H(r))},this.$render=f,this.$isEmpty=function(t){return g(t)||""===t||null===t||t!==t};var C=r.inheritedData("$formController")||qr,$=0;mi({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:C,$animate:a}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,a.removeClass(r,Oo),a.addClass(r,Mo)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,a.removeClass(r,Mo),a.addClass(r,Oo),C.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,a.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,a.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){c.cancel(x),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!y(_.$modelValue)||!isNaN(_.$modelValue)){var t=_.$$rawModelValue,e=_.$valid,i=_.$modelValue,r=_.$options&&_.$options.allowInvalid;_.$$runValidators(_.$error[_.$$parserName||"parse"]?!1:n,t,_.$$lastCommittedViewValue,function(o){r||e===o||(_.$modelValue=o?t:n,_.$modelValue!==i&&_.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i,r){function s(){var t=!0;return o(_.$validators,function(n,r){var o=n(e,i);t=t&&o,c(r,o)}),t?!0:(o(_.$asyncValidators,function(t,e){c(e,null)}),!1)}function a(){var t=[],r=!0;o(_.$asyncValidators,function(o,s){var a=o(e,i);if(!a||!w(a.then))throw Do("$asyncValidators",a);c(s,n),t.push(a.then(function(){c(s,!0)},function(){r=!1,c(s,!1)}))}),t.length?u.all(t).then(function(){l(r)},f):l(!0)}function c(t,e){h===$&&_.$setValidity(t,e)}function l(t){h===$&&r(t)}$++;var h=$;(function(t){var e=_.$$parserName||"parse";if(t===n)c(e,null);else if(c(e,t),!t)return o(_.$validators,function(t,e){c(e,null)}),o(_.$asyncValidators,function(t,e){c(e,null)}),!1;return!0})(t)&&s()?a():l(!1)},this.$commitViewValue=function(){var t=_.$viewValue;c.cancel(x),(_.$$lastCommittedViewValue!==t||""===t&&_.$$hasNativeValidators)&&(_.$$lastCommittedViewValue=t,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=_.$$lastCommittedViewValue,i=g(e)?n:!0;if(i)for(var r=0;r<_.$parsers.length;r++)if(e=_.$parsers[r](e),g(e)){i=!1;break}y(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=v(t));var o=_.$modelValue,s=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=e,s&&(_.$modelValue=e,_.$modelValue!==o&&_.$$writeModelToScope()),_.$$runValidators(i,e,_.$$lastCommittedViewValue,function(t){s||(_.$modelValue=t?e:n,_.$modelValue!==o&&_.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(t,_.$modelValue),o(_.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){_.$viewValue=t,_.$options&&!_.$options.updateOnDefault||_.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n=0,i=_.$options;i&&m(i.debounce)&&(i=i.debounce,y(i)?n=i:y(i[e])?n=i[e]:y(i["default"])&&(n=i["default"])),c.cancel(x),n?x=c(function(){_.$commitViewValue()},n):l.$$phase?_.$commitViewValue():t.$apply(function(){_.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==_.$modelValue){_.$modelValue=_.$$rawModelValue=e;for(var i=_.$formatters,r=i.length,o=e;r--;)o=i[r](o);_.$viewValue!==o&&(_.$viewValue=_.$$lastCommittedViewValue=o,_.$render(),_.$$runValidators(n,e,o,f))}return e})}],Io=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:jo,priority:1,compile:function(e){return e.addClass(Mo).addClass("ng-untouched").addClass(ko),{pre:function(t,e,n,i){var r=i[0],o=i[1]||qr;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],No=/(\s+|^)default(\s+|$)/,Lo=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var i=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ii(this.$options.updateOn.replace(No,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ho=ai({terminal:!0,priority:1e3}),Ro=["$locale","$interpolate",function(t,e){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,s,a){function c(t){s.text(t||"")}var l,u=a.count,h=a.$attr.when&&s.attr(a.$attr.when),f=a.offset||0,d=r.$eval(h)||{},p={},h=e.startSymbol(),g=e.endSymbol(),m=h+u+"-"+f+g,v=Oi.noop;o(a,function(t,e){var n=i.exec(e);n&&(n=(n[1]?"-":"")+Ci(n[2]),d[n]=s.attr(a.$attr[e]))}),o(d,function(t,i){p[i]=e(t.replace(n,m))}),r.$watch(u,function(e){e=parseFloat(e);var n=isNaN(e);n||e in d||(e=t.pluralCat(e-f)),e===l||n&&isNaN(l)||(v(),v=r.$watch(p[e],c),l=e)})}}}],Fo=["$parse","$animate",function(t,s){var a=i("ngRepeat"),c=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))
};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,l){var u=l.ngRepeat,h=e.createComment(" end ngRepeat: "+u+" "),f=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp",u);var d=f[1],p=f[2],g=f[3],m=f[4],f=d.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!f)throw a("iidexp",d);var v=f[3]||f[1],b=f[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(g)))throw a("badident",g);var y,x,w,_,C={$id:ke};return m?y=t(m):(w=function(t,e){return ke(e)},_=function(t){return t}),function(t,e,i,l,f){y&&(x=function(e,n,i){return b&&(C[b]=e),C[v]=n,C.$index=i,y(t,C)});var d=ne();t.$watchCollection(p,function(i){var l,p,m,y,C,$,S,E,T,k,A=e[0],M=ne();if(g&&(t[g]=i),r(i))E=i,p=x||w;else{p=x||_,E=[];for(k in i)i.hasOwnProperty(k)&&"$"!=k.charAt(0)&&E.push(k);E.sort()}for(y=E.length,k=Array(y),l=0;y>l;l++)if(C=i===E?l:E[l],$=i[C],S=p(C,$,l),d[S])T=d[S],delete d[S],M[S]=T,k[l]=T;else{if(M[S])throw o(k,function(t){t&&t.scope&&(d[t.id]=t)}),a("dupes",u,S,$);k[l]={id:S,scope:n,clone:n},M[S]=!0}for(m in d){if(T=d[m],S=ee(T.clone),s.leave(S),S[0].parentNode)for(l=0,p=S.length;p>l;l++)S[l].$$NG_REMOVED=!0;T.scope.$destroy()}for(l=0;y>l;l++)if(C=i===E?l:E[l],$=i[C],T=k[l],T.scope){m=A;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);T.clone[0]!=m&&s.move(ee(T.clone),null,yi(A)),A=T.clone[T.clone.length-1],c(T.scope,l,v,$,b,C,y)}else f(function(t,e){T.scope=e;var n=h.cloneNode(!1);t[t.length++]=n,s.enter(t,null,yi(A)),A=n,T.clone=t,M[T.id]=T,c(T.scope,l,v,$,b,C,y)});d=M})}}}}],Bo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Wo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],zo=ai(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)})}),Xo=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=[],c=[],l=[],u=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=l.length;r>i;++i)t.cancel(l[i]);for(i=l.length=0,r=u.length;r>i;++i){var f=ee(c[i].clone);u[i].$destroy(),(l[i]=t.leave(f)).then(h(l,i))}c.length=0,u.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: "),c.push({clone:i}),t.enter(i,o.parent(),o)})})})}}}],Yo=ai({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Uo=ai({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Vo=ai({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan",H(e));o(function(t){e.empty(),e.append(t)})}}),qo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Go=i("ngOptions"),Ko=p({restrict:"A",terminal:!0}),Jo=["$compile","$parse",function(t,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var i,r=this,o={},a=s;r.databound=n.ngModel,r.init=function(t,e,n){a=t,i=n},r.addOption=function(e,n){Q(e,'"option value"'),o[e]=!0,a.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},r.removeOption=function(t){this.hasOption(t)&&(delete o[t],a.$viewValue===t&&this.renderUnknownOption(t))},r.renderUnknownOption=function(e){e="? "+ke(e)+" ?",i.val(e),t.prepend(i),t.val(e),i.prop("selected",!0)},r.hasOption=function(t){return o.hasOwnProperty(t)},e.$on("$destroy",function(){r.renderUnknownOption=f})}],link:function(s,a,c,l){function u(t,e,n,i){n.$render=function(){var t=n.$viewValue;i.hasOption(t)?(C.parent()&&C.remove(),e.val(t),""===t&&p.prop("selected",!0)):g(t)&&p?e.val(""):i.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var i;n.$render=function(){var t=new Ae(n.$viewValue);o(e.find("option"),function(e){e.selected=m(t.get(e.value))})},t.$watch(function(){P(i,n.$viewValue)||(i=O(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function f(e,s,a){function c(t,n,i){return D[C]=i,E&&(D[E]=n),t(e,D)}function l(t){var e;if(v)if(M&&ji(t)){e=new Ae([]);for(var n=0;n<t.length;n++)e.put(c(M,null,t[n]),!0)}else e=new Ae(t);else M&&(t=c(M,null,t));return function(n,i){var r;return r=M?M:S?S:k,v?m(e.remove(c(r,n,i))):t===c(r,n,i)}}function u(){x||(e.$$postDigest(f),x=!0)}function h(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function f(){x=!1;var t,n,i,r,u,f={"":[]},p=[""];i=a.$viewValue,r=A(e)||[];var b,C,$,S,k=E?Object.keys(r).sort():r,j={};u=l(i);var I,N,L=!1;for(O={},S=0;$=k.length,$>S;S++)b=S,E&&(b=k[S],"$"===b.charAt(0))||(C=r[b],t=c(T,b,C)||"",(n=f[t])||(n=f[t]=[],p.push(t)),t=u(b,C),L=L||t,C=c(g,b,C),C=m(C)?C:"",N=M?M(e,D):E?k[S]:S,M&&(O[N]=b),n.push({id:N,label:C,selected:t}));for(v||(y||null===i?f[""].unshift({id:"",label:"",selected:!L}):L||f[""].unshift({id:"?",label:"",selected:!0})),b=0,k=p.length;k>b;b++){for(t=p[b],n=f[t],P.length<=b?(i={element:_.clone().attr("label",t),label:n.label},r=[i],P.push(r),s.append(i.element)):(r=P[b],i=r[0],i.label!=t&&i.element.attr("label",i.label=t)),L=null,S=0,$=n.length;$>S;S++)t=n[S],(u=r[S+1])?(L=u.element,u.label!==t.label&&(h(j,u.label,!1),h(j,t.label,!0),L.text(u.label=t.label),L.prop("label",u.label)),u.id!==t.id&&L.val(u.id=t.id),L[0].selected!==t.selected&&(L.prop("selected",u.selected=t.selected),bi&&L.prop("selected",u.selected))):(""===t.id&&y?I=y:(I=w.clone()).val(t.id).prop("selected",t.selected).attr("selected",t.selected).prop("label",t.label).text(t.label),r.push(u={element:I,label:t.label,id:t.id,selected:t.selected}),h(j,t.label,!0),L?L.after(I):i.element.append(I),L=I);for(S++;r.length>S;)t=r.pop(),h(j,t.label,!1),t.element.remove()}for(;P.length>b;){for(n=P.pop(),S=1;S<n.length;++S)h(j,n[S].label,!1);n[0].element.remove()}o(j,function(t,e){t>0?d.addOption(e):0>t&&d.removeOption(e)})}var p;if(!(p=b.match(r)))throw Go("iexp",b,H(s));var g=i(p[2]||p[1]),C=p[4]||p[6],$=/ as /.test(p[0])&&p[1],S=$?i($):null,E=p[5],T=i(p[3]||""),k=i(p[2]?p[1]:C),A=i(p[7]),M=p[8]?i(p[8]):null,O={},P=[[{element:s,label:""}]],D={};y&&(t(y)(e),y.removeClass("ng-scope"),y.remove()),s.empty(),s.on("change",function(){e.$apply(function(){var t,i=A(e)||[];if(v)t=[],o(s.val(),function(e){e=M?O[e]:e,t.push("?"===e?n:""===e?null:c(S?S:k,e,i[e]))});else{var r=M?O[s.val()]:s.val();t="?"===r?n:""===r?null:c(S?S:k,r,i[r])}a.$setViewValue(t),f()})}),a.$render=f,e.$watchCollection(A,u),e.$watchCollection(function(){var t,n=A(e);if(n&&ji(n)){t=Array(n.length);for(var i=0,r=n.length;r>i;i++)t[i]=c(g,i,n[i])}else if(n)for(i in t={},n)n.hasOwnProperty(i)&&(t[i]=c(g,i,n[i]));return t},u),v&&e.$watchCollection(function(){return a.$modelValue},u)}if(l[1]){var d=l[0];l=l[1];var p,v=c.multiple,b=c.ngOptions,y=!1,x=!1,w=yi(e.createElement("option")),_=yi(e.createElement("optgroup")),C=w.clone();c=0;for(var $=a.children(),S=$.length;S>c;c++)if(""===$[c].value){p=y=$.eq(c);break}d.init(l,y,C),v&&(l.$isEmpty=function(t){return!t||0===t.length}),b?f(s,a,l):v?h(s,a,l):u(s,a,l,d)}}}}],Zo=["$interpolate",function(t){var e={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(n,i){if(g(i.value)){var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){var o=n.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.databound||(s=e),r?t.$watch(r,function(t,e){i.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(i.value,n),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],Qo=p({restrict:"E",terminal:!1}),ts=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},es=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(b(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp",a,t,H(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||g(s)||s.test(t)}}}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=h(t),r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(t)||e.length<=r}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(K(),re(Oi),yi(e).ready(function(){Y(e,U)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(t,e,n){"use strict";e.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var t="$$ngAnimateChildren";return function(n,i,r){var o=r.ngAnimateChildren;e.isString(o)&&0===o.length?i.data(t,!0):n.$watch(o,function(e){i.data(t,!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(t,e){var n=e[0].body;return function(e){return t(function(){n.offsetWidth+1;e()})}}]).config(["$provide","$animateProvider",function(i,r){function o(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==m)return n}}function s(t){return t&&e.element(t)}function a(t){return e.element(o(t))}function c(t,e){return o(t)==o(e)}var l,u=e.noop,h=e.forEach,f=r.$$selectors,d=e.isArray,p=e.isString,g=e.isObject,m=1,v="$$ngAnimateState",b="$$ngAnimateChildren",y="ng-animate",x={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(t,n,i,m,w,_,C,$,S,E){function T(t,e){var n=t.data(v)||{};return e&&(n.running=!0,n.structural=!0,t.data(v,n)),n.disabled||n.running&&n.structural}function k(t){var e,i=n.defer();return i.promise.$$cancelFn=function(){e&&e()},C.$$postDigest(function(){e=t(function(){i.resolve()})}),i.promise}function A(t){return g(t)?(t.tempClasses&&p(t.tempClasses)&&(t.tempClasses=t.tempClasses.split(/\s+/)),t):void 0}function M(t,e,n){n=n||{};var i={};h(n,function(t,e){h(e.split(" "),function(e){i[e]=t})});var r=Object.create(null);h((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0});var o=[],s=[];return h(e&&e.classes||[],function(t,e){var n=r[e],a=i[e]||{};t===!1?(n||"addClass"==a.event)&&s.push(e):t===!0&&(n&&"removeClass"!=a.event||o.push(e))}),o.length+s.length>0&&[o.join(" "),s.join(" ")]}function O(t){if(t){var e=[],n={},r=t.substr(1).split(".");(m.transitions||m.animations)&&e.push(i.get(f[""]));for(var o=0;o<r.length;o++){var s=r[o],a=f[s];a&&!n[s]&&(e.push(i.get(a)),n[s]=!0)}return e}}function P(t,n,i,r){function o(t,e){var n=t[e],i=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];return n||i?("leave"==e&&(i=n,n=null),_.push({event:e,fn:n}),y.push({event:e,fn:i}),!0):void 0}function s(e,n,o){function s(t){if(n){if((n[t]||u)(),++f<a.length)return;n=null}o()}var a=[];h(e,function(t){t.fn&&a.push(t)});var f=0;h(a,function(e,o){var a=function(){s(o)};switch(e.event){case"setClass":n.push(e.fn(t,c,l,a,r));break;case"animate":n.push(e.fn(t,i,r.from,r.to,a));break;case"addClass":n.push(e.fn(t,c||i,a,r));break;case"removeClass":n.push(e.fn(t,l||i,a,r));break;default:n.push(e.fn(t,a,r))}}),n&&0===n.length&&o()}var a=t[0];if(a){r&&(r.to=r.to||{},r.from=r.from||{});var c,l;d(i)&&(c=i[0],l=i[1],c?l?i=c+" "+l:(i=c,n="addClass"):(i=l,n="removeClass"));var f="setClass"==n,p=f||"addClass"==n||"removeClass"==n||"animate"==n,g=t.attr("class"),m=g+" "+i;if(F(m)){var v=u,b=[],y=[],x=u,w=[],_=[],C=(" "+m).replace(/\s+/g,".");return h(O(C),function(t){var e=o(t,n);!e&&f&&(o(t,"addClass"),o(t,"removeClass"))}),{node:a,event:n,className:i,isClassBased:p,isSetClassOperation:f,applyStyles:function(){r&&t.css(e.extend(r.from||{},r.to||{}))},before:function(t){v=t,s(y,b,function(){v=u,t()})},after:function(t){x=t,s(_,w,function(){x=u,t()})},cancel:function(){b&&(h(b,function(t){(t||u)(!0)}),v(!0)),w&&(h(w,function(t){(t||u)(!0)}),x(!0))}}}}}function D(t,n,i,r,o,s,a,c){function f(e){var r="$animate:"+e;C&&C[r]&&C[r].length>0&&_(function(){i.triggerHandler(r,{event:t,className:n})})}function d(){f("before")}function p(){f("after")}function g(){f("close"),c()}function m(){m.hasBeenRun||(m.hasBeenRun=!0,s())}function b(){if(!b.hasBeenRun){w&&w.applyStyles(),b.hasBeenRun=!0,a&&a.tempClasses&&h(a.tempClasses,function(t){l.removeClass(i,t)});var e=i.data(v);e&&(w&&w.isClassBased?I(i,n):(_(function(){var e=i.data(v)||{};D==e.index&&I(i,n,t)}),i.data(v,e))),g()}}var x=u,w=P(i,t,n,a);if(!w)return m(),d(),p(),b(),x;t=w.event,n=w.className;var C=e.element._data(w.node);if(C=C&&C.events,r||(r=o?o.parent():i.parent()),N(i,r))return m(),d(),p(),b(),x;var $=i.data(v)||{},S=$.active||{},E=$.totalActive||0,T=$.last,k=!1;if(E>0){var A=[];if(w.isClassBased){if("setClass"==T.event)A.push(T),I(i,n);else if(S[n]){var M=S[n];M.event==t?k=!0:(A.push(M),I(i,n))}}else if("leave"==t&&S["ng-leave"])k=!0;else{for(var O in S)A.push(S[O]);$={},I(i,!0)}A.length>0&&h(A,function(t){t.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==t||k||(k="addClass"==t==i.hasClass(n)),k)return m(),d(),p(),g(),x;S=$.active||{},E=$.totalActive||0,"leave"==t&&i.one("$destroy",function(){var t=e.element(this),n=t.data(v);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),I(t,"ng-leave"))}}),l.addClass(i,y),a&&a.tempClasses&&h(a.tempClasses,function(t){l.addClass(i,t)});var D=H++;return E++,S[n]=w,i.data(v,{last:w,active:S,index:D,totalActive:E}),d(),w.before(function(e){var r=i.data(v);e=e||!r||!r.active[n]||w.isClassBased&&r.active[n].event!=t,m(),e===!0?b():(p(),w.after(b))}),w.cancel}function j(t){var n=o(t);if(n){var i=e.isFunction(n.getElementsByClassName)?n.getElementsByClassName(y):n.querySelectorAll("."+y);h(i,function(t){t=e.element(t);var n=t.data(v);n&&n.active&&h(n.active,function(t){t.cancel()})})}}function I(t,e){if(c(t,w))x.disabled||(x.running=!1,x.structural=!1);else if(e){var n=t.data(v)||{},i=e===!0;!i&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),(i||!n.totalActive)&&(l.removeClass(t,y),t.removeData(v))}}function N(t,n){if(x.disabled)return!0;if(c(t,w))return x.running;var i,r,o;do{if(0===n.length)break;var s=c(n,w),a=s?x:n.data(v)||{};if(a.disabled)return!0;if(s&&(o=!0),i!==!1){var l=n.data(b);e.isDefined(l)&&(i=l)}r=r||a.running||a.last&&!a.last.isClassBased}while(n=n.parent());return!o||!i&&r}l=E,w.data(v,x);var L=C.$watch(function(){return S.totalPendingRequests},function(t){0===t&&(L(),C.$$postDigest(function(){C.$$postDigest(function(){x.running=!1})}))}),H=0,R=r.classNameFilter(),F=R?function(t){return R.test(t)}:function(){return!0};return{animate:function(t,e,n,i,r){return i=i||"ng-inline-animate",r=A(r)||{},r.from=n?e:null,r.to=n?n:e,k(function(e){return D("animate",i,a(t),null,null,u,r,e)})},enter:function(n,i,r,o){return o=A(o),n=e.element(n),i=s(i),r=s(r),T(n,!0),t.enter(n,i,r),k(function(t){return D("enter","ng-enter",a(n),i,r,u,o,t)})},leave:function(n,i){return i=A(i),n=e.element(n),j(n),T(n,!0),k(function(e){return D("leave","ng-leave",a(n),null,null,function(){t.leave(n)},i,e)})},move:function(n,i,r,o){return o=A(o),n=e.element(n),i=s(i),r=s(r),j(n),T(n,!0),t.move(n,i,r),k(function(t){return D("move","ng-move",a(n),i,r,u,o,t)})},addClass:function(t,e,n){return this.setClass(t,e,[],n)},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},setClass:function(n,i,r,s){s=A(s);var c="$$animateClasses";if(n=e.element(n),n=a(n),T(n))return t.$$setClassImmediately(n,i,r,s);var l,u=n.data(c),f=!!u;return u||(u={},u.classes={}),l=u.classes,i=d(i)?i:i.split(" "),h(i,function(t){t&&t.length&&(l[t]=!0)}),r=d(r)?r:r.split(" "),h(r,function(t){t&&t.length&&(l[t]=!1)}),f?(s&&u.options&&(u.options=e.extend(u.options||{},s)),u.promise):(n.data(c,u={classes:l,options:s}),u.promise=k(function(e){var i=n.parent(),r=o(n),s=r.parentNode;if(!s||s.$$NG_REMOVED||r.$$NG_REMOVED)return void e();var a=n.data(c);n.removeData(c);var l=n.data(v)||{},u=M(n,a,l.active);return u?D("setClass",u,n,i,null,function(){u[0]&&t.$$addClassImmediately(n,u[0]),u[1]&&t.$$removeClassImmediately(n,u[1])},a.options,e):e()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)I(e);else{var n=e.data(v)||{};n.disabled=!0,e.data(v,n)}break;case 1:x.disabled=!t;break;default:t=!x.disabled}return!!t}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,s,a){function c(){I||(I=a(function(){q=[],I=null,U={}}))}function f(t,e){I&&I(),q.push(e),I=a(function(){h(q,function(t){t()}),q=[],I=null,U={}})}function g(t,n){var i=o(t);t=e.element(i),J.push(t);var r=Date.now()+n;K>=r||(s.cancel(G),K=r,G=s(function(){v(J),J=[]},n,!1))}function v(t){h(t,function(t){var e=t.data(W);e&&h(e.closeAnimationFns,function(t){t()})})}function b(t,e){var n=e?U[e]:null;if(!n){var r=0,o=0,s=0,a=0;h(t,function(t){if(t.nodeType==m){var e=i.getComputedStyle(t)||{},n=e[M+N];r=Math.max(y(n),r);var c=e[M+H];o=Math.max(y(c),o);{e[P+H]}a=Math.max(y(e[P+H]),a);var l=y(e[P+N]);l>0&&(l*=parseInt(e[P+R],10)||1),s=Math.max(l,s)}}),n={total:0,transitionDelay:o,transitionDuration:r,animationDelay:a,animationDuration:s},e&&(U[e]=n)}return n}function y(t){var e=0,n=p(t)?t.split(/\s*,\s*/):[];return h(n,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function x(t){var e=t.parent(),n=e.data(B);return n||(e.data(B,++V),n=V),n+"-"+o(t).getAttribute("class")}function w(t,e,n,i){var r=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,s=x(e),a=s+" "+n,c=U[a]?++U[a].total:0,u={};if(c>0){var h=n+"-stagger",f=s+" "+h,d=!U[f];d&&l.addClass(e,h),u=b(e,f),d&&l.removeClass(e,h)}l.addClass(e,n);var p=e.data(W)||{},g=b(e,a),m=g.transitionDuration,v=g.animationDuration;if(r&&0===m&&0===v)return l.removeClass(e,n),!1;var y=i||r&&m>0,w=v>0&&u.animationDelay>0&&0===u.animationDuration,_=p.closeAnimationFns||[];e.data(W,{stagger:u,cacheKey:a,running:p.running||0,itemIndex:c,blockTransition:y,closeAnimationFns:_});var S=o(e);return y&&(C(S,!0),i&&e.css(i)),w&&$(S,!0),!0}function _(t,e,n,i,r){function a(){e.off(H,c),l.removeClass(e,d),l.removeClass(e,p),N&&s.cancel(N),k(e,n);var t=o(e);for(var i in v)t.style.removeProperty(v[i])}function c(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(z));Math.max(n-L,0)>=P&&r>=A&&i()}var u=o(e),f=e.data(W);if(-1==u.getAttribute("class").indexOf(n)||!f)return void i();var d="",p="";h(n.split(" "),function(t,e){var n=(e>0?" ":"")+t;d+=n+"-active",p+=n+"-pending"});var m="",v=[],y=f.itemIndex,x=f.stagger,w=0;if(y>0){var _=0;x.transitionDelay>0&&0===x.transitionDuration&&(_=x.transitionDelay*y);var S=0;x.animationDelay>0&&0===x.animationDuration&&(S=x.animationDelay*y,v.push(j+"animation-play-state")),w=Math.round(100*Math.max(_,S))/100}w||(l.addClass(e,d),f.blockTransition&&C(u,!1));var E=f.cacheKey+" "+d,T=b(e,E),A=Math.max(T.transitionDuration,T.animationDuration);if(0===A)return l.removeClass(e,d),k(e,n),void i();!w&&r&&Object.keys(r).length>0&&(T.transitionDuration||(e.css("transition",T.animationDuration+"s linear all"),v.push("transition")),e.css(r));var M=Math.max(T.transitionDelay,T.animationDelay),P=M*Y;if(v.length>0){var I=u.getAttribute("style")||"";";"!==I.charAt(I.length-1)&&(I+=";"),u.setAttribute("style",I+" "+m)}var N,L=Date.now(),H=D+" "+O,R=(M+A)*X,F=(w+R)*Y;return w>0&&(l.addClass(e,p),N=s(function(){N=null,T.transitionDuration>0&&C(u,!1),T.animationDuration>0&&$(u,!1),l.addClass(e,d),l.removeClass(e,p),r&&(0===T.transitionDuration&&e.css("transition",T.animationDuration+"s linear all"),e.css(r),v.push("transition"))},w*Y,!1)),e.on(H,c),f.closeAnimationFns.push(function(){a(),i()}),f.running++,g(e,F),a}function C(t,e){t.style[M+L]=e?"none":""}function $(t,e){t.style[P+F]=e?"paused":""}function S(t,e,n,i){return w(t,e,n,i)?function(t){t&&k(e,n)}:void 0}function E(t,e,n,i,r){return e.data(W)?_(t,e,n,i,r):(k(e,n),void i())}function T(t,e,n,i,r){var o=S(t,e,n,r.from);if(!o)return c(),void i();var s=o;return f(e,function(){s=E(t,e,n,i,r.to)}),function(t){(s||u)(t)}}function k(t,e){l.removeClass(t,e);var n=t.data(W);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(W))}function A(t,e){var n="";return t=d(t)?t:t.split(/\s+/),h(t,function(t,i){t&&t.length>0&&(n+=(i>0?" ":"")+t+e)}),n}var M,O,P,D,j="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(j="-webkit-",M="WebkitTransition",O="webkitTransitionEnd transitionend"):(M="transition",O="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(j="-webkit-",P="WebkitAnimation",D="webkitAnimationEnd animationend"):(P="animation",D="animationend");var I,N="Duration",L="Property",H="Delay",R="IterationCount",F="PlayState",B="$$ngAnimateKey",W="$$ngAnimateCSS3Data",z=3,X=1.5,Y=1e3,U={},V=0,q=[],G=null,K=0,J=[];return{animate:function(t,e,n,i,r,o){return o=o||{},o.from=n,o.to=i,T("animate",t,e,r,o)},enter:function(t,e,n){return n=n||{},T("enter",t,"ng-enter",e,n)},leave:function(t,e,n){return n=n||{},T("leave",t,"ng-leave",e,n)},move:function(t,e,n){return n=n||{},T("move",t,"ng-move",e,n)},beforeSetClass:function(t,e,n,i,r){r=r||{};var o=A(n,"-remove")+" "+A(e,"-add"),s=S("setClass",t,o,r.from);return s?(f(t,i),s):(c(),void i())},beforeAddClass:function(t,e,n,i){i=i||{};var r=S("addClass",t,A(e,"-add"),i.from);return r?(f(t,n),r):(c(),void n())},beforeRemoveClass:function(t,e,n,i){i=i||{};var r=S("removeClass",t,A(e,"-remove"),i.from);return r?(f(t,n),r):(c(),void n())},setClass:function(t,e,n,i,r){r=r||{},n=A(n,"-remove"),e=A(e,"-add");var o=n+" "+e;return E("setClass",t,o,i,r.to)},addClass:function(t,e,n,i){return i=i||{},E("addClass",t,A(e,"-add"),n,i.to)},removeClass:function(t,e,n,i){return i=i||{},E("removeClass",t,A(e,"-remove"),n,i.to)}}}])}])}(window,window.angular),function(t,e){"use strict";function n(){function t(t,e,i){return function(r,o,s){var a=s.$normalize(e);n[a]&&!s[a]&&r.$watch(s[t],function(t){i&&(t=!t),o.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}var i=e.module("ngAria",["ng"]).provider("$aria",n);i.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,i){return t.config(n)&&!i.attr(e)}function n(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":"textbox"===(n||i)||"TEXTAREA"===e[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",link:function(i,r,o,s){function a(){return s.$modelValue}function c(){return h?(h=!1,function(t){var e=t===o.value;r.attr("aria-checked",e),r.attr("tabindex",0-!e)}):function(t){r.attr("aria-checked",t===o.value)}}function l(t){r.attr("aria-checked",!!t)}var u=n(o,r),h=e("tabindex","tabindex",r);switch(u){case"radio":case"checkbox":e("aria-checked","ariaChecked",r)&&i.$watch(a,"radio"===u?c():l);break;case"range":t.config("ariaValue")&&(o.min&&!r.attr("aria-valuemin")&&r.attr("aria-valuemin",o.min),o.max&&!r.attr("aria-valuemax")&&r.attr("aria-valuemax",o.max),r.attr("aria-valuenow")||i.$watch(a,function(t){r.attr("aria-valuenow",t)}));break;case"multiline":e("aria-multiline","ariaMultiline",r)&&r.attr("aria-multiline",!0)}h&&r.attr("tabindex",0),s.$validators.required&&e("aria-required","ariaRequired",r)&&i.$watch(function(){return s.$error.required},function(t){r.attr("aria-required",!!t)}),e("aria-invalid","ariaInvalid",r)&&i.$watch(function(){return s.$invalid},function(t){r.attr("aria-invalid",!!t)})}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,i){var r=e(i.ngClick,null,!0);return function(e,n,i){t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),t.config("bindKeypress")&&!i.ngKeypress&&n.on("keypress",function(t){function n(){r(e,{$event:t})}(32===t.keyCode||13===t.keyCode)&&e.$apply(n)})}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n){t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0)}}])}(window,window.angular),angular.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.button","material.components.bottomSheet","material.components.card","material.components.checkbox","material.components.content","material.components.dialog","material.components.divider","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.textField","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"]),function(){"use strict";function t(t,n){t.decorator("$$rAF",["$delegate",e]),n.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function e(t){return t.throttle=function(e){var n,i,r,o;return function(){n=arguments,o=this,r=e,i||(i=!0,t(function(){r.apply(o,n),i=!1}))}},t}angular.module("material.core",["material.core.theming"]).config(t),t.$inject=["$provide","$mdThemingProvider"]}(),function(){"use strict";function t(t,e){function n(t){return i?"webkit"+t.charAt(0).toUpperCase()+t.substring(1):t}var i=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9},CSS:{TRANSITIONEND:"transitionend"+(i?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(i?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSFORM_ORIGIN:n("transformOrigin"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}angular.module("material.core").factory("$mdConstant",t),t.$inject=["$$rAF","$sniffer"]}(),function(){function t(t,e){function n(){return[].concat(v)}function i(){return v.length}function r(t){return v.length&&t>-1&&t<v.length}function o(t){return t?r(h(t)+1):!1}function s(t){return t?r(h(t)-1):!1}function a(t){return r(t)?v[t]:null}function c(t,e){return v.filter(function(n){return n[t]===e})}function l(t,e){return t?(angular.isNumber(e)||(e=v.length),v.splice(e,0,t),h(t)):-1}function u(t){f(t)&&v.splice(h(t),1)}function h(t){return v.indexOf(t)}function f(t){return t&&h(t)>-1}function d(){return v.length?v[0]:null}function p(){return v.length?v[v.length-1]:null}function g(t,n,i,o){i=i||m;for(var s=h(n);;){if(!r(s))return null;var a=s+(t?-1:1),c=null;if(r(a)?c=v[a]:e&&(c=t?p():d(),a=h(c)),null===c||a===o)return null;if(i(c))return c;angular.isUndefined(o)&&(o=a),s=a}}var m=function(){return!0};t&&!angular.isArray(t)&&(t=Array.prototype.slice.call(t)),e=!!e;var v=t||[];return{items:n,count:i,inRange:r,contains:f,indexOf:h,itemAt:a,findBy:c,add:l,remove:u,first:d,last:p,next:angular.bind(null,g,!1),previous:angular.bind(null,g,!0),hasPrevious:s,hasNext:o}}angular.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=t,e}])}])}(),angular.module("material.core").factory("$mdMedia",mdMediaFactory),mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"],function(){"use strict";var t=["0","0","0"];angular.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$window","$mdConstant",function(e,n,i,r,o,s){function a(t){return t[0]||t}var c;return c={now:window.performance?angular.bind(window.performance,window.performance.now):Date.now,clientRect:function(t,e,n){var i=a(t);e=a(e||i.offsetParent||document.body);var r=i.getBoundingClientRect(),o=n?e.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left+e.scrollLeft,top:r.top-o.top+e.scrollTop,width:r.width,height:r.height}},offsetRect:function(t,e){return c.clientRect(t,e,!0)},floatingScrollbars:function(){if(void 0===this.floatingScrollbars.cached){var t=angular.element('<div style="z-index: -1; position: absolute; height: 1px; overflow-y: scroll"><div style="height: 2px;"></div></div>');n[0].body.appendChild(t[0]),this.floatingScrollbars.cached=t[0].offsetWidth==t[0].childNodes[0].offsetWidth,t.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var e=t[0]||t;document.addEventListener("click",function i(t){t.target===e&&t.$focus&&(e.focus(),t.stopImmediatePropagation(),t.preventDefault(),e.removeEventListener("click",i))},!0);var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!1,!0,window,{},0,0,0,0,!1,!1,!1,!1,0,null),n.$material=!0,n.$focus=!0,e.dispatchEvent(n)},transitionEndPromise:function(t){function e(i){i.target===t[0]&&(t.off(s.CSS.TRANSITIONEND,e),n.resolve())}var n=r.defer();return t.on(s.CSS.TRANSITIONEND,e),n.promise},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach(function(t){t()})},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(t,e,n,r){var o;return function(){var s=n,a=Array.prototype.slice.call(arguments);i.cancel(o),o=i(function(){o=void 0,t.apply(s,a)
},e||10,r)}},throttle:function(t,e){var n;return function(){var i=this,r=arguments,o=c.now();(!n||o-n>e)&&(t.apply(i,r),n=o)}},time:function(t){var e=c.now();return t(),c.now()-e},nextUid:function(){for(var e,n=t.length;n;){if(n--,e=t[n].charCodeAt(0),57==e)return t[n]="A",t.join("");if(90!=e)return t[n]=String.fromCharCode(e+1),t.join("");t[n]="0"}return t.unshift("0"),t.join("")},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}},getClosest:function(t,e){e=e.toUpperCase();do if(t.nodeName===e)return t;while(t=t.parentNode);return null}}}]),angular.element.prototype.focus=angular.element.prototype.focus||function(){return this.length&&this[0].focus(),this},angular.element.prototype.blur=angular.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){"use strict";function t(t,e,n){function i(t,n,i){var r=t[0];r.hasAttribute(n)||a(r,n)||(i=angular.isString(i)?i.trim():"",i.length?t.attr(n,i):e.warn('ARIA: Attribute "',n,'", required for accessibility, is missing on node:',r))}function r(e,n,r){t(function(){i(e,n,r())})}function o(t,e){r(t,e,function(){return s(t)})}function s(t){return t.text().trim()}function a(t,e){function i(t){var e=t.currentStyle?t.currentStyle:n.getComputedStyle(t);return"none"===e.display}var r=t.hasChildNodes(),o=!1;if(r)for(var s=t.childNodes,a=0;a<s.length;a++){var c=s[a];1===c.nodeType&&c.hasAttribute(e)&&(i(c)||(o=!0))}return o}return{expect:i,expectAsync:r,expectWithText:o}}angular.module("material.core").service("$mdAria",t),t.$inject=["$$rAF","$log","$window"]}(),function(){"use strict";function t(t,e,n,i,r,o){this.compile=function(s){var a=s.templateUrl,c=s.template||"",l=s.controller,u=s.controllerAs,h=s.resolve||{},f=s.locals||{},d=s.transformTemplate||angular.identity,p=s.bindToController;return angular.forEach(h,function(t,e){h[e]=angular.isString(t)?n.get(t):n.invoke(t)}),angular.extend(h,f),h.$template=a?e.get(a,{cache:o}).then(function(t){return t.data}):t.when(c),t.all(h).then(function(t){var e=d(t.$template),n=s.element||angular.element("<div>").html(e.trim()).contents(),o=i(n);return{locals:t,element:n,link:function(e){if(t.$scope=e,l){var i=r(l,t);p&&angular.extend(i,t),n.data("$ngControllerController",i),n.children().data("$ngControllerController",i),u&&(e[u]=i)}return o(e)}}})}}angular.module("material.core").service("$mdCompiler",t),t.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){"use strict";function t(t,e){var n;for(var i in c)n=c[i],"start"===t&&n.cancel(),n[t](e,m)}function e(e){if(!m){var n=+Date.now();v&&!r(e,v)&&n-v.endTime<1500||(m=a(e),t("start",e))}}function n(e){m&&r(e,m)&&(s(e,m),t("move",e))}function i(e){m&&r(e,m)&&(s(e,m),m.endTime=+Date.now(),t("end",e),v=m,m=null)}function r(t,e){return t&&e&&t.type.charAt(0)===e.type}function o(t){return t=t.originalEvent||t,t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t}function s(t,e){var n=o(t),i=e.x=n.pageX,r=e.y=n.pageY;e.distanceX=i-e.startX,e.distanceY=r-e.startY,e.distance=Math.sqrt(e.distanceX*e.distanceX+e.distanceY*e.distanceY),e.directionX=e.distanceX>0?"right":e.distanceX<0?"left":"",e.directionY=e.distanceY>0?"up":e.distanceY<0?"down":"",e.duration=+Date.now()-e.startTime,e.velocityX=e.distanceX/e.duration,e.velocityY=e.distanceY/e.duration}function a(t){var e=o(t),n={startTime:+Date.now(),target:t.target,type:t.type.charAt(0)};return n.startX=n.x=e.pageX,n.startY=n.y=e.pageY,n}var c,l="mousedown touchstart pointerdown",u="mousemove touchmove pointermove",h="mouseup mouseleave touchend touchcancel pointerup pointercancel";document.contains||(document.contains=function(t){return document.body.contains(t)});var f=navigator.userAgent||navigator.vendor||window.opera,d=f.match(/iPad/i)||f.match(/iPhone/i)||f.match(/iPod/i),p=f.match(/Android/i),g=d||p;g&&document.addEventListener("click",function(t){var e=0===t.clientX&&0===t.clientY;e||t.$material||(t.preventDefault(),t.stopPropagation())},!0),angular.element(document).on(l,e).on(u,n).on(h,i).on("$$mdGestureReset",function(){v=m=null});var m,v;angular.module("material.core").run(["$mdGesture",function(){}]).factory("$mdGesture",["$$MdGestureHandler","$$rAF","$timeout",function(t,e,n){function i(e,n){var i=new t(e);return angular.extend(i,n),c[e]=i,o}function r(t,e,n){var i=c[e.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+e+". Available handlers: "+Object.keys(c).join(", "));return i.registerElement(t,n)}c={},g&&i("click",{options:{maxDistance:6},onEnd:function(t,e){e.distance<this.state.options.maxDistance&&this.dispatchEvent(t,"click")}}),i("press",{onStart:function(t){this.dispatchEvent(t,"$md.pressdown")},onEnd:function(t){this.dispatchEvent(t,"$md.pressup")}}),i("hold",{options:{maxDistance:6,delay:500},onCancel:function(){n.cancel(this.state.timeout)},onStart:function(t,e){return this.state.registeredParent?(this.state.pos={x:e.x,y:e.y},void(this.state.timeout=n(angular.bind(this,function(){this.dispatchEvent(t,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(t,e){t.preventDefault();var n=this.state.pos.x-e.x,i=this.state.pos.y-e.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}),i("drag",{options:{minDistance:6,horizontal:!0},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(t,e){var n,i;t.preventDefault(),this.state.dragPointer?this.dispatchDragMove(t):(this.state.options.horizontal?(n=Math.abs(e.distanceX)>this.state.options.minDistance,i=Math.abs(e.distanceY)>1.5*this.state.options.minDistance):(n=Math.abs(e.distanceY)>this.state.options.minDistance,i=Math.abs(e.distanceX)>1.5*this.state.options.minDistance),n?(this.state.dragPointer=a(t),s(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:e.throttle(function(t){this.state.isRunning&&(s(t,this.state.dragPointer),this.dispatchEvent(t,"$md.drag",this.state.dragPointer))}),onEnd:function(t){this.state.dragPointer&&(s(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragend",this.state.dragPointer))}}),i("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(t,e){if(Math.abs(e.velocityX)>this.state.options.minVelocity&&Math.abs(e.distanceX)>this.state.options.minDistance){var n="left"==e.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(t,n)}}});var o;return o={handler:i,register:r}}]).factory("$$MdGestureHandler",["$$rAF",function(){function t(t){this.name=t,this.state={}}function e(t,e,n){n=n||m;var i=new angular.element.Event(e);i.$material=!0,i.pointer=n,i.srcEvent=t,angular.extend(i,{clientX:n.x,clientY:n.y,screenX:n.x,screenY:n.y,pageX:n.x,pageY:n.y,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey}),angular.element(n.target).trigger(i)}function n(t,e,n){n=n||m;var i;"click"===e?(i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,window,t.detail,n.x,n.y,n.x,n.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,{})),i.$material=!0,i.pointer=n,i.srcEvent=t,n.target.dispatchEvent(i)}return t.prototype={onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,options:{},dispatchEvent:"undefined"!=typeof window.jQuery&&angular.element===window.jQuery?e:n,start:function(t,e){if(!this.state.isRunning){var n=this.getNearestParent(t.target),i=n&&n.$mdGesture[this.name]||{};this.state={isRunning:!0,options:angular.extend({},this.options,i),registeredParent:n},this.onStart(t,e)}},move:function(t,e){this.state.isRunning&&this.onMove(t,e)},end:function(t,e){this.state.isRunning&&(this.onEnd(t,e),this.state.isRunning=!1)},cancel:function(t,e){this.onCancel(t,e),this.state={}},getNearestParent:function(t){for(var e=t;e;){if((e.$mdGesture||{})[this.name])return e;e=e.parentNode}},registerElement:function(t,e){function n(){delete t[0].$mdGesture[i.name],t.off("$destroy",n)}var i=this;return t[0].$mdGesture=t[0].$mdGesture||{},t[0].$mdGesture[this.name]=e||{},t.on("$destroy",n),n}},t}])}(),function(){"use strict";function t(){function t(t){function e(t){return a.optionsFactory=t.options,a.methods=(t.methods||[]).concat(o),c}function n(t,e){return s[t]=e,c}function i(e,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(e))throw new Error("Preset '"+e+"' in "+t+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+t+" is reserved!");return a.presets[e]={methods:n.methods.concat(o),optionsFactory:n.options,argOption:n.argOption},c}function r(e,n,i){function r(t){return t&&t._options&&(t=t._options),u.show(angular.extend({},l,t))}function o(e,n){var r={};return r[t]=h,i.invoke(e||function(){return n},{},r)}var c,l,u=e(),h={hide:u.hide,cancel:u.cancel,show:r};return c=a.methods||[],l=o(a.optionsFactory,{}),angular.forEach(s,function(t,e){h[e]=t}),angular.forEach(a.presets,function(t,e){function n(t){this._options=angular.extend({},i,t)}var i=o(t.optionsFactory,{}),r=(t.methods||[]).concat(c);if(angular.extend(i,{$type:e}),angular.forEach(r,function(t){n.prototype[t]=function(e){return this._options[t]=e,this}}),t.argOption){var s="show"+e.charAt(0).toUpperCase()+e.slice(1);h[s]=function(t){var n=h[e](t);return h.show(n)}}h[e]=function(e){return arguments.length&&t.argOption&&!angular.isObject(e)&&!angular.isArray(e)?(new n)[t.argOption](e):new n(e)}}),h}var o=["onHide","onShow","onRemove"],s={},a={presets:{}},c={setDefaults:e,addPreset:i,addMethod:n,$get:r};return c.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),r.$inject=["$$interimElement","$animate","$injector"],c}function e(t,e,n,i,r,o,s,a,c){function l(t){return t&&angular.isString(t)?t.replace(/\{\{/g,u).replace(/}}/g,h):t}var u=s.startSymbol(),h=s.endSymbol(),f="{{"===u&&"}}"===h,d=f?angular.identity:l;return function(){function s(t){if(p.length)return f.cancel().then(function(){return s(t)});var e=new h(t);return p.push(e),e.show().then(function(){return e.deferred.promise})}function l(t){var e=p.shift();return e&&e.remove().then(function(){e.deferred.resolve(t)})}function u(t){var n=p.shift();return e.when(n&&n.remove().then(function(){n.deferred.reject(t)}))}function h(s){var l,u,h,p,g;return s=s||{},s=angular.extend({preserveScope:!1,scope:s.scope||n.$new(s.isolateScope),onShow:function(t,e,n){return o.enter(e,n.parent)},onRemove:function(t,n){return n&&o.leave(n)||e.when()}},s),s.template&&(s.template=d(s.template)),l={options:s,deferred:e.defer(),show:function(){var n;return n=s.skipCompile?e(function(t){t({locals:{},link:function(){return s.element}})}):a.compile(s),p=n.then(function(n){function o(){s.hideDelay&&(u=i(f.cancel,s.hideDelay))}angular.extend(n.locals,l.options),h=n.link(s.scope),angular.isFunction(s.parent)?s.parent=s.parent(s.scope,h,s):angular.isString(s.parent)&&(s.parent=angular.element(t[0].querySelector(s.parent))),(s.parent||{}).length||(s.parent=r.find("body"),s.parent.length||(s.parent=r)),s.themable&&c(h);var a=s.onShow(s.scope,h,s);return e.when(a).then(function(){(s.onComplete||angular.noop)(s.scope,h,s),o()})},function(t){p=!0,l.deferred.reject(t)})},cancelTimeout:function(){u&&(i.cancel(u),u=void 0)},remove:function(){return l.cancelTimeout(),g=e.when(p).then(function(){var t=h?s.onRemove(s.scope,h,s):!0;return e.when(t).then(function(){s.preserveScope||s.scope.$destroy(),g=!0})})}}}var f,p=[];return f={show:s,hide:l,cancel:u}}}return t.$get=e,e.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"],t}angular.module("material.core").provider("$$interimElement",t)}(),function(){"use strict";function t(t,e){function n(t){return t&&""!==t}var i,r=[],o={};return i={notFoundError:function(e){t.error("No instance found for handle",e)},getInstances:function(){return r},get:function(t){if(!n(t))return null;var e,i,o;for(e=0,i=r.length;i>e;e++)if(o=r[e],o.$$mdHandle===t)return o;return null},register:function(t,e){function n(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}function i(){var n=o[e];n&&(n.resolve(t),delete o[e])}return e?(t.$$mdHandle=e,r.push(t),i(),n):angular.noop},when:function(t){if(n(t)){var r=e.defer(),s=i.get(t);return s?r.resolve(s):o[t]=r,r.promise}return e.reject("Invalid `md-component-id` value.")}}}angular.module("material.core").factory("$mdComponentRegistry",t),t.$inject=["$log","$q"]}(),function(){"use strict";function t(t){return{controller:angular.noop,link:function(e,n,i){i.hasOwnProperty("mdInkRippleCheckbox")?t.attachCheckboxBehavior(e,n):t.attachButtonBehavior(e,n)}}}function e(t,e){function n(t,e,n){return o(t,e,angular.extend({isFAB:e.hasClass("md-fab"),isMenuItem:e.hasClass("md-menu-item"),center:!1,dimBackground:!0},n))}function i(t,e,n){return o(t,e,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},n))}function r(t,e,n){return o(t,e,angular.extend({center:!1,dimBackground:!0,outline:!0},n))}function o(n,i,r){function o(){var t=i.data("$mdRippleContainer");return t?t:(t=angular.element('<div class="md-ripple-container">'),i.append(t),i.data("$mdRippleContainer",t),t)}function s(t){function e(t){var e="#"===t.charAt(0)?t.substr(1):t,n=e.length/3,i=e.substr(0,n),r=e.substr(n,n),o=e.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"}function n(t){return t.replace(")",", 0.1)").replace("(","a(")}return t?0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===t.indexOf("rgb")?n(t):0===t.indexOf("#")?e(t):void 0:void 0}function a(t,n){m.splice(m.indexOf(t),1),0===m.length&&o().css({backgroundColor:""}),e(function(){t.remove()},n,!1)}function c(t){var e=m.indexOf(t),n=v[e]||{},i=m.length>1?!1:y,o=m.length>1?!1:x;i||n.animating||o?t.addClass("md-ripple-visible"):t&&(t.removeClass("md-ripple-visible"),r.outline&&t.css({width:d+"px",height:d+"px",marginLeft:-1*d+"px",marginTop:-1*d+"px"}),a(t,r.outline?450:650))}function l(n,a){function l(t){var e=angular.element('<div class="md-ripple" data-counter="'+g++ +'">');return m.unshift(e),v.unshift({animating:!0}),f.append(e),t&&e.css(t),e}function u(t,e){var n,i,o,s=f.prop("offsetWidth"),a=f.prop("offsetHeight");return r.isMenuItem?i=Math.sqrt(Math.pow(s,2)+Math.pow(a,2)):r.outline?(o=w.getBoundingClientRect(),t-=o.left,e-=o.top,s=Math.max(t,s-t),a=Math.max(e,a-e),i=2*Math.sqrt(Math.pow(s,2)+Math.pow(a,2))):(n=r.isFAB?1.1:.8,i=Math.sqrt(Math.pow(s,2)+Math.pow(a,2))*n,r.fitRipple&&(i=Math.min(a,s,i))),i}function h(t,e,n){function i(t){return t.replace("rgba","rgb").replace(/,[^\)\,]+\)/,")")}var o,s={backgroundColor:i(C),borderColor:i(C),width:t+"px",height:t+"px"};return r.outline?(s.width=0,s.height=0):s.marginLeft=s.marginTop=t*-.5+"px",r.center?s.left=s.top="50%":(o=w.getBoundingClientRect(),s.left=Math.round((e-o.left)/f.prop("offsetWidth")*100)+"%",s.top=Math.round((n-o.top)/f.prop("offsetHeight")*100)+"%"),s}C=s(i.attr("md-ink-ripple"))||s(t.getComputedStyle(r.colorElement[0]).color||"rgb(0, 0, 0)");var f=o(),p=u(n,a),b=h(p,n,a),y=l(b),x=m.indexOf(y),_=v[x]||{};return d=p,_.animating=!0,e(function(){r.dimBackground&&f.css({backgroundColor:C}),y.addClass("md-ripple-placed md-ripple-scaled"),y.css(r.outline?{borderWidth:.5*p+"px",marginLeft:p*-.5+"px",marginTop:p*-.5+"px"}:{left:"50%",top:"50%"}),c(y),e(function(){_.animating=!1,c(y)},r.outline?450:225,!1)},0,!1),y}function u(t){f()&&(l(t.pointer.x,t.pointer.y),x=!0)}function h(){x=!1;var t=m[m.length-1];e(function(){c(t)},0,!1)}function f(){function t(t){return t&&t.hasAttribute&&t.hasAttribute("disabled")}var e=w.parentNode,n=e&&e.parentNode,i=n&&n.parentNode;return!(t(w)||t(e)||t(n)||t(i))}if(i.controller("mdNoInk"))return angular.noop;r=angular.extend({colorElement:i,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,isFAB:!1,isMenuItem:!1,fitRipple:!1},r);var d,p=i.controller("mdInkRipple")||{},g=0,m=[],v=[],b=i.attr("md-highlight"),y=!1,x=!1,w=i[0],_=i.attr("md-ripple-size"),C=s(i.attr("md-ink-ripple"))||s(t.getComputedStyle(r.colorElement[0]).color||"rgb(0, 0, 0)");switch(_){case"full":r.isFAB=!0;break;case"partial":r.isFAB=!1}return r.mousedown&&i.on("$md.pressdown",u).on("$md.pressup",h),p.createRipple=l,b&&n.$watch(b,function(t){y=t,y&&!m.length&&e(function(){l(0,0)},0,!1),angular.forEach(m,c)}),function(){i.off("$md.pressdown",u).off("$md.pressup",h),o().remove()}}return{attachButtonBehavior:n,attachCheckboxBehavior:i,attachTabBehavior:r,attach:o}}function n(){return function(){return{controller:angular.noop}}}angular.module("material.core").factory("$mdInkRipple",e).directive("mdInkRipple",t).directive("mdNoInk",n()).directive("mdNoBar",n()).directive("mdNoStretch",n()),t.$inject=["$mdInkRipple"],e.$inject=["$window","$timeout"]}(),function(){"use strict";angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1e3:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){"use strict";function t(t){function e(t,e){return e=e||{},c[t]=r(t,e),u}function n(t,e){return r(t,angular.extend({},c[t]||{},e))}function r(t,e){var n=C.filter(function(t){return!e[t]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",t));return e}function o(t,e){if(e=e||"default",l[t])return l[t];var n="string"==typeof e?l[e]:e,i=new s(t);return n&&angular.forEach(n.colors,function(t,e){i.colors[e]={name:t.name,hues:angular.extend({},t.hues)}}),l[t]=i,i}function s(t){function e(t){if(t=0===arguments.length?!0:!!t,t!==n.isDark){n.isDark=t,n.foregroundPalette=n.isDark?d:f,n.foregroundShadow=n.isDark?p:g;var e=n.isDark?_:w,i=n.isDark?w:_;return angular.forEach(e,function(t,e){var r=n.colors[e],o=i[e];if(r)for(var s in r.hues)r.hues[s]===o[s]&&(r.hues[s]=t[s])}),n}}var n=this;n.name=t,n.colors={},n.dark=e,e(!1),y.forEach(function(t){var e=(n.isDark?_:w)[t];n[t+"Palette"]=function(i,r){var o=n.colors[t]={name:i,hues:angular.extend({},e,r)};return Object.keys(o.hues).forEach(function(t){if(!e[t])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",t).replace("%2",n.name).replace("%3",i).replace("%4",Object.keys(e).join(", ")))}),Object.keys(o.hues).map(function(t){return o.hues[t]}).forEach(function(e){if(-1==C.indexOf(e))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",n.name).replace("%3",t).replace("%4",i).replace("%5",C.join(", ")))}),n},n[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),n[t+"Palette"].apply(n,e)}})}function h(t,e){function n(t){return void 0===t||""===t?!0:void 0!==l[t]}function i(e,n){void 0===n&&(n=e,e=void 0),void 0===e&&(e=t),i.inherit(n,n)}return i.inherit=function(i,r){function o(t){n(t)||e.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var r=i.data("$mdThemeName");r&&i.removeClass("md-"+r+"-theme"),i.addClass("md-"+t+"-theme"),i.data("$mdThemeName",t)}var s=r.controller("mdTheme"),a=i.attr("md-theme-watch");if((v||angular.isDefined(a))&&"false"!=a){var c=t.$watch(function(){return s&&s.$mdTheme||m},o);i.on("$destroy",c)}else{var l=s&&s.$mdTheme||m;o(l)}},i.registered=n,i.defaultTheme=function(){return m},i}c={},l={};var m="default",v=!1;return angular.extend(c,t),h.$inject=["$rootScope","$log"],u={definePalette:e,extendPalette:n,theme:o,setDefaultTheme:function(t){m=t},alwaysWatchTheme:function(t){v=t},$get:h,_LIGHT_DEFAULT_HUES:w,_DARK_DEFAULT_HUES:_,_PALETTES:c,_THEMES:l,_parseRules:i,_rgba:a}}function e(t,e,n){return{priority:100,link:{pre:function(i,r,o){var s={$setTheme:function(e){t.registered(e)||n.warn("attempted to use unregistered theme '"+e+"'"),s.$mdTheme=e}};r.data("$mdThemeController",s),s.$setTheme(e(o.mdTheme)(i)),o.$observe("mdTheme",s.$setTheme)}}}}function n(t){return t}function i(t,e,n){o(t,e),n=n.replace(/THEME_NAME/g,t.name);var i=[],r=t.colors[e],s=new RegExp(".md-"+t.name+"-theme","g"),l=new RegExp("('|\")?{{\\s*("+e+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),u=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,h=c[r.name];return n=n.replace(u,function(e,n,i,r){return"foreground"===n?"shadow"==i?t.foregroundShadow:t.foregroundPalette[i]||t.foregroundPalette[1]:(0===i.indexOf("hue")&&(i=t.colors[n].hues[i]),a((c[t.colors[n].name][i]||"").value,r))}),angular.forEach(r.hues,function(e,r){var o=n.replace(l,function(t,n,i,r,o){return a(h[e]["color"===r?"value":"contrast"],o)});"default"!==r&&(o=o.replace(s,".md-"+t.name+"-theme.md-"+r)),i.push(o)}),i.join("")}function r(t){function e(t){var e=t.contrastDefaultColor,n=t.contrastLightColors||[],i=t.contrastStrongLightColors||[],r=t.contrastDarkColors||[];"string"==typeof n&&(n=n.split(" ")),"string"==typeof i&&(i=i.split(" ")),"string"==typeof r&&(r=r.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,angular.forEach(t,function(o,a){function c(){return"light"===e?r.indexOf(a)>-1?m:i.indexOf(a)>-1?b:v:n.indexOf(a)>-1?i.indexOf(a)>-1?b:v:m}if(!angular.isObject(o)){var l=s(o);if(!l)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",o).replace("%2",t.name).replace("%3",a));t[a]={value:l,contrast:c()}}})}var n=t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";angular.forEach(c,e);var r=n.split(/\}(?!(\}|'|"|;))/).filter(function(t){return t&&t.length}).map(function(t){return t.trim()+"}"}),o={};y.forEach(function(t){o[t]=""});var a=new RegExp("md-("+y.join("|")+")","g");r.forEach(function(t){for(var e,n=(t.match(a),0);e=y[n];n++)if(t.indexOf(".md-"+e)>-1)return o[e]+=t;for(n=0;e=y[n];n++)if(t.indexOf(e)>-1)return o[e]+=t;return o[x]+=t});var u="";if(angular.forEach(l,function(t){y.forEach(function(e){u+=i(t,e,o[e]+"")}),t.colors.primary.name==t.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec.")}),!h){var f=document.createElement("style");f.innerHTML=u;var d=document.getElementsByTagName("head")[0];d.insertBefore(f,d.firstElementChild),h=!0}}function o(t,e){if(!c[(t.colors[e]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",t.name).replace("%2",e).replace("%3",Object.keys(c).join(", ")))}function s(t){if(angular.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(t,e){return 3==e?parseFloat(t,10):parseInt(t,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var e=t.length/3,n=t.substr(0,e),i=t.substr(e,e),r=t.substr(2*e);return 1===e&&(n+=n,i+=i,r+=r),[parseInt(n,16),parseInt(i,16),parseInt(r,16)]}}function a(t,e){return 4==t.length&&(t=angular.copy(t),e?t.pop():e=t.pop()),e&&("number"==typeof e||"string"==typeof e&&e.length)?"rgba("+t.join(",")+","+e+")":"rgb("+t.join(",")+")"}angular.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",e).directive("mdThemable",n).provider("$mdTheming",t).run(r);var c,l,u,h,f={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},d={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},p="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",g="",m=s("rgba(0,0,0,0.87)"),v=s("rgba(255,255,255,0.87"),b=s("rgb(255,255,255)"),y=["primary","accent","warn","background"],x="primary",w={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"}},_={background:{"default":"500","hue-1":"300","hue-2":"600","hue-3":"800"}};y.forEach(function(t){var e={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};w[t]||(w[t]=e),_[t]||(_[t]=e)});var C=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];t.$inject=["$mdColorPalette"],e.$inject=["$mdTheming","$interpolate","$log"],n.$inject=["$mdTheming"],r.$inject=["$injector"]}(),function(){"use strict";angular.module("material.components.autocomplete",["material.core","material.components.icon"])}(),function(){"use strict";function t(t){return t}angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function t(t,e,n){function i(t){return angular.isDefined(t.href)||angular.isDefined(t.ngHref)}function r(t,e){return i(e)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function o(r,o,s){var a=o[0];e(o),t.attachButtonBehavior(r,o);var c=a.textContent.trim();c||n.expect(o,"aria-label"),i(s)&&angular.isDefined(s.ngDisabled)&&r.$watch(s.ngDisabled,function(t){o.attr("tabindex",t?-1:0)})}return{restrict:"EA",replace:!0,transclude:!0,template:r,link:o}}angular.module("material.components.button",["material.core"]).directive("mdButton",t),t.$inject=["$mdInkRipple","$mdTheming","$mdAria"]}(),function(){"use strict";function t(){return{restrict:"E"}}function e(t){function e(t,e,r,o,s,a,c,l,u,h){function f(n,i,o){g=s('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(n),g.on("click",function(){r(c.cancel)}),a.inherit(g,o.parent),t.enter(g,o.parent,null);var u=new p(i,o.parent);
return o.bottomSheet=u,o.targetEvent&&angular.element(o.targetEvent.target).blur(),a.inherit(u.element,o.parent),o.disableParentScroll&&(o.lastOverflow=o.parent.css("overflow"),o.parent.css("overflow","hidden")),t.enter(u.element,o.parent).then(function(){var t=angular.element(i[0].querySelector("button")||i[0].querySelector("a")||i[0].querySelector("[ng-click]"));t.focus(),o.escapeToClose&&(o.rootElementKeyupCallback=function(t){t.keyCode===e.KEY_CODE.ESCAPE&&r(c.cancel)},l.on("keyup",o.rootElementKeyupCallback))})}function d(e,n,i){var r=i.bottomSheet;return t.leave(g),t.leave(r.element).then(function(){i.disableParentScroll&&(i.parent.css("overflow",i.lastOverflow),delete i.lastOverflow),r.cleanup(),i.targetEvent&&angular.element(i.targetEvent.target).focus()})}function p(t,o){function s(){t.css(e.CSS.TRANSITION_DURATION,"0ms")}function a(n){var r=n.pointer.distanceY;5>r&&(r=Math.max(-i,r/2)),t.css(e.CSS.TRANSFORM,"translate3d(0,"+(i+r)+"px,0)")}function l(i){if(i.pointer.distanceY>0&&(i.pointer.distanceY>20||Math.abs(i.pointer.velocityY)>n)){var o=t.prop("offsetHeight")-i.pointer.distanceY,s=Math.min(o/i.pointer.velocityY*.75,500);t.css(e.CSS.TRANSITION_DURATION,s+"ms"),r(c.cancel)}else t.css(e.CSS.TRANSITION_DURATION,""),t.css(e.CSS.TRANSFORM,"")}var u=h.register(o,"drag",{horizontal:!1});return o.on("$md.dragstart",s).on("$md.drag",a).on("$md.dragend",l),{element:t,cleanup:function(){u(),o.off("$md.dragstart",s).off("$md.drag",a).off("$md.dragend",l)}}}var g;return{themable:!0,targetEvent:null,onShow:f,onRemove:d,escapeToClose:!0,disableParentScroll:!0}}var n=.5,i=80;return e.$inject=["$animate","$mdConstant","$timeout","$$rAF","$compile","$mdTheming","$mdBottomSheet","$rootElement","$rootScope","$mdGesture"],t("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:e})}angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",e),e.$inject=["$$interimElementProvider"]}(),function(){"use strict";function t(t){return{restrict:"E",link:function(e,n){t(n)}}}angular.module("material.components.card",["material.core"]).directive("mdCard",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function t(t,e,n,i,r,o){function s(e,s){return s.type="checkbox",s.tabIndex=0,e.attr("role",s.type),function(e,s,c,l){function u(t){t.which===i.KEY_CODE.SPACE&&(t.preventDefault(),h(t))}function h(t){s[0].hasAttribute("disabled")||e.$apply(function(){d=!d,l.$setViewValue(d,t&&t.type),l.$render()})}function f(){d=l.$viewValue,d?s.addClass(a):s.removeClass(a)}l=l||o.fakeNgModel();var d=!1;r(s),c.ngChecked&&e.$watch(e.$eval.bind(e,c.ngChecked),l.$setViewValue.bind(l)),n.expectWithText(s,"aria-label"),t.link.pre(e,{on:angular.noop,0:{}},c,[l]),s.on("click",h).on("keypress",u),l.$render=f}}t=t[0];var a="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t),t.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil"]}(),function(){"use strict";function t(t){function n(t,e){this.$scope=t,this.$element=e}return{restrict:"E",controller:["$scope","$element",n],link:function(n,i){i[0],t(i),n.$broadcast("$mdContentLoaded",i),e(i[0])}}}function e(t){angular.element(t).on("$md.pressdown",function(e){"t"===e.pointer.type&&(e.$materialScrollFixed||(e.$materialScrollFixed=!0,0===t.scrollTop?t.scrollTop=1:t.scrollHeight===t.scrollTop+t.offsetHeight&&(t.scrollTop-=1)))})}angular.module("material.components.content",["material.core"]).directive("mdContent",t),t.$inject=["$mdTheming"]}(),function(){"use strict";function t(t,e){return{restrict:"E",link:function(n,i){e(i),t(function(){var t=i[0].querySelector("md-content");t&&t.scrollHeight>t.clientHeight&&i.addClass("md-content-overflow")})}}}function e(t){function e(t,e){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">',"<md-content>","<h2>{{ dialog.title }}</h2>","<p>{{ dialog.content }}</p>","</md-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){t.hide(!0)},this.abort=function(){t.cancel()}},controllerAs:"dialog",bindToController:!0,theme:e.defaultTheme()}}function n(t,e,n,i,r,o,s,a,c,l,u,h){function f(n,r,s){function l(){var t=r[0].querySelector(".dialog-close");if(!t){var e=r[0].querySelectorAll(".md-actions button");t=e[e.length-1]}return angular.element(t)}s.parent=angular.element(s.parent),s.popInTarget=angular.element((s.targetEvent||{}).target);var u=l();if(p(r.find("md-dialog")),s.hasBackdrop){var f=s.parent[0]==o[0].body&&o[0].documentElement&&o[0].scrollTop?angular.element(o[0].documentElement):s.parent,d=f.prop("scrollTop");s.backdrop=angular.element('<md-backdrop class="md-dialog-backdrop md-opaque">'),c.inherit(s.backdrop,s.parent),i.enter(s.backdrop,s.parent),r.css("top",d+"px")}return s.disableParentScroll&&(s.lastOverflow=s.parent.css("overflow"),s.parent.css("overflow","hidden")),g(r,s.parent,s.popInTarget&&s.popInTarget.length&&s.popInTarget).then(function(){s.escapeToClose&&(s.rootElementKeyupCallback=function(e){e.keyCode===a.KEY_CODE.ESCAPE&&t(h.cancel)},e.on("keyup",s.rootElementKeyupCallback)),s.clickOutsideToClose&&(s.dialogClickOutsideCallback=function(e){e.target===r[0]&&t(h.cancel)},r.on("click",s.dialogClickOutsideCallback)),u.focus()})}function d(t,n,r){return r.backdrop&&i.leave(r.backdrop),r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),r.escapeToClose&&e.off("keyup",r.rootElementKeyupCallback),r.clickOutsideToClose&&n.off("click",r.dialogClickOutsideCallback),m(n,r.parent,r.popInTarget&&r.popInTarget.length&&r.popInTarget).then(function(){r.scope.$destroy(),n.remove(),r.popInTarget&&r.popInTarget.focus()})}function p(t){t.attr({role:"dialog"});var e=t.find("md-content");0===e.length&&(e=t),r.expectAsync(t,"aria-label",function(){var t=e.text().split(/\s+/);return t.length>3&&(t=t.slice(0,3).concat("...")),t.join(" ")})}function g(t,e,n){var i=t.find("md-dialog");return e.append(t),v(i,n),l(function(){i.addClass("transition-in").css(a.CSS.TRANSFORM,"")}),s.transitionEndPromise(i)}function m(t,e,n){var i=t.find("md-dialog");return i.addClass("transition-out").removeClass("transition-in"),v(i,n),s.transitionEndPromise(i)}function v(t,e){if(e){var n=e[0].getBoundingClientRect(),i=t[0].getBoundingClientRect(),r=Math.min(.5,n.width/i.width),o=Math.min(.5,n.height/i.height);t.css(a.CSS.TRANSFORM,"translate3d("+(-i.left+n.left+n.width/2-i.width/2)+"px,"+(-i.top+n.top+n.height/2-i.height/2)+"px,0) scale("+r+","+o+")")}}return{hasBackdrop:!0,isolateScope:!0,onShow:f,onRemove:d,clickOutsideToClose:!0,escapeToClose:!0,targetEvent:null,disableParentScroll:!0,transformTemplate:function(t){return'<div class="md-dialog-container">'+t+"</div>"}}}return e.$inject=["$mdDialog","$mdTheming"],n.$inject=["$timeout","$rootElement","$compile","$animate","$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$$rAF","$q","$mdDialog"],t("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent"],options:n}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:e}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:e})}angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",e),t.$inject=["$$rAF","$mdTheming"],e.$inject=["$$interimElementProvider"]}(),function(){"use strict";function t(){}function e(e){return{restrict:"E",link:e,controller:[t]}}angular.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){"use strict";function t(t,n,i,r){function o(e,o,s,a){function c(){for(var t in n.MEDIA)r(t),r.getQuery(n.MEDIA[t]).addListener(w);return r.watchResponsiveAttributes(["md-cols","md-row-height"],s,u)}function l(){_();for(var t in n.MEDIA)r.getQuery(n.MEDIA[t]).removeListener(w)}function u(t){null==t?a.invalidateLayout():r(t)&&a.invalidateLayout()}function h(){var t=p(),n=m(),r=y(),s=b(),a=v(),c=i(n,g(),p()).map(function(e,i){return{grid:{element:o,style:d(n,i,a,r,s)},tiles:e.map(function(e,o){return{element:angular.element(t[o]),style:f(e.position,e.spans,n,i,a,r,s)}})}}).reflow().performance();e.mdOnLayout({$event:{performance:c}})}function f(t,e,n,i,r,o,s){var a=1/n*100,c=1===n?0:(n-1)/n,l=C({share:a,gutterShare:c,gutter:r}),u={left:$({unit:l,offset:t.col,gutter:r}),width:S({unit:l,span:e.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=$({unit:s,offset:t.row,gutter:r}),u.height=S({unit:s,span:e.row,gutter:r});break;case"ratio":var h=a*(1/s),f=C({share:h,gutterShare:c,gutter:r});u.paddingTop=S({unit:f,span:e.row,gutter:r}),u.marginTop=$({unit:f,offset:t.row,gutter:r});break;case"fit":var d=1===i?0:(i-1)/i,h=1/i*100,f=C({share:h,gutterShare:d,gutter:r});u.top=$({unit:f,offset:t.row,gutter:r}),u.height=S({unit:f,span:e.row,gutter:r})}return u}function d(t,e,n,i,r){var o={height:"",paddingBottom:""};switch(i){case"fixed":o.height=S({unit:r,span:e,gutter:n});break;case"ratio":var s=1===t?0:(t-1)/t,a=1/t*100,c=a*(1/r),l=C({share:c,gutterShare:s,gutter:n});o.paddingBottom=S({unit:l,span:e,gutter:n});break;case"fit":}return o}function p(){return a.tiles.map(function(t){return t.element})}function g(){return a.tiles.map(function(t){return{row:parseInt(r.getResponsiveAttribute(t.attrs,"md-rowspan"),10)||1,col:parseInt(r.getResponsiveAttribute(t.attrs,"md-colspan"),10)||1}})}function m(){var t=parseInt(r.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(t))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return t}function v(){return x(r.getResponsiveAttribute(s,"md-gutter")||1)}function b(){var t=r.getResponsiveAttribute(s,"md-row-height");switch(y()){case"fixed":return x(t);case"ratio":var e=t.split(":");return parseFloat(e[0])/parseFloat(e[1]);case"fit":return 0}}function y(){var t=r.getResponsiveAttribute(s,"md-row-height");return"fit"==t?"fit":-1!==t.indexOf(":")?"ratio":"fixed"}function x(t){return/\D$/.test(t)?t:t+"px"}o.attr("role","list"),a.layoutDelegate=h;var w=angular.bind(a,a.invalidateLayout),_=c();e.$on("$destroy",l);var C=t("{{ share }}% - ({{ gutter }} * {{ gutterShare }})"),$=t("calc(({{ unit }}) * {{ offset }} + {{ offset }} * {{ gutter }})"),S=t("calc(({{ unit }}) * {{ span }} + ({{ span }} - 1) * {{ gutter }})")}return{restrict:"E",controller:e,scope:{mdOnLayout:"&"},link:o}}function e(t){this.invalidated=!1,this.$timeout_=t,this.tiles=[],this.layoutDelegate=angular.noop}function n(t){function e(e,n){var o,s,a,c,l,u,s;return c=t.time(function(){s=i(e,n)}),o={layoutInfo:function(){return s},map:function(e){return l=t.time(function(){var t=o.layoutInfo();a=e(t.positioning,t.rowCount)}),o},reflow:function(e){return u=t.time(function(){var t=e||r;t(a.grid,a.tiles)}),o},performance:function(){return{tileCount:n.length,layoutTime:c,mapTime:l,reflowTime:u,totalTime:c+l+u}}}}function n(t,e){t.element.css(t.style),e.forEach(function(t){t.element.css(t.style)})}function i(t,e){function n(e,n){if(e.col>t)throw"md-grid-list: Tile at position "+n+" has a colspan ("+e.col+") that exceeds the column count ("+t+")";for(var s=0,u=0;u-s<e.col;)a>=t?i():(s=l.indexOf(0,a),-1!==s&&-1!==(u=o(s+1))?a=u+1:(s=u=0,i()));return r(s,e.col,e.row),a=s+e.col,{col:s,row:c}}function i(){a=0,c++,r(0,t,-1)}function r(t,e,n){for(var i=t;t+e>i;i++)l[i]=Math.max(l[i]+n,0)}function o(t){var e;for(e=t;e<l.length;e++)if(0!==l[e])return e;return e===l.length?e:void 0}function s(){for(var e=[],n=0;t>n;n++)e.push(0);return e}var a=0,c=0,l=s();return{positioning:e.map(function(t,e){return{spans:t,position:n(t,e)}}),rowCount:c+Math.max.apply(Math,l)}}var r=n;return e.animateWith=function(t){r=angular.isFunction(t)?t:n},e}function i(t){function e(e,n,i,r){n.attr("role","listitem");var o=t.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,angular.bind(r,r.invalidateLayout));r.addTile(n,i,e.$parent.$index),e.$on("$destroy",function(){o(),r.removeTile(n,i)})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},link:e}}function r(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}angular.module("material.components.gridList",["material.core"]).directive("mdGridList",t).directive("mdGridTile",i).directive("mdGridTileFooter",r).directive("mdGridTileHeader",r).factory("$mdGridLayout",n),t.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia","$mdUtil"],e.$inject=["$timeout"],e.prototype={addTile:function(t,e,n){var i={element:t,attrs:e};angular.isUndefined(n)?this.tiles.push(i):this.tiles.splice(n,0,i),this.invalidateLayout()},removeTile:function(t,e){var n=this._findTileIndex(e);-1!==n&&(this.tiles.splice(n,1),this.invalidateLayout())},invalidateLayout:function(){this.invalidated||(this.invalidated=!0,this.$timeout_(angular.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate()}finally{this.invalidated=!1}},_findTileIndex:function(t){for(var e=0;e<this.tiles.length;e++)if(this.tiles[e].attrs==t)return e;return-1}},n.$inject=["$mdUtil"],i.$inject=["$mdMedia"]}(),function(){"use strict";function t(t,e,n){function i(t,e){return e.mdFontIcon?'<span class="md-font" ng-class="fontIcon"></span>':""}function r(i,r,o){function s(){var t=r.parent();return t.attr("aria-label")||t.text()?!0:t.parent().attr("aria-label")||t.parent().text()?!0:!1}e(r);var a=o.alt||i.fontIcon||i.svgIcon,c=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");""==o.alt||s()?n.expect(r,"aria-hidden","true"):(n.expect(r,"aria-label",a),n.expect(r,"role","img")),c&&o.$observe(c,function(e){r.empty(),e&&t(e).then(function(t){r.append(t)})})}return{scope:{fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",template:i,link:r}}angular.module("material.components.icon",["material.core"]).directive("mdIcon",t),t.$inject=["$mdIcon","$mdTheming","$mdAria"]}(),function(){"use strict";function t(){}function e(t,e){this.url=t,this.iconSize=e||i.defaultIconSize}function n(t,e,n,i,r){function o(e){return function(n){return g[e]=h(n)?n:new f(n,t[e]),g[e].clone()}}function s(e){var i=t[e];return i?c(i.url).then(function(t){return new f(t,i)}):n.reject(e)}function a(e){function i(t){var i=e.slice(e.lastIndexOf(":")+1),r=t.querySelector("#"+i);return r?new f(r,o):n.reject(e)}var r=e.substring(0,e.lastIndexOf(":"))||"$default",o=t[r];return o?c(o.url).then(i):n.reject(e)}function c(t){return e.get(t,{cache:r}).then(function(t){for(var e=angular.element(t.data),n=0;n<e.length;++n)if("svg"==e[n].nodeName)return e[n]})}function l(t){var e;return angular.isString(t)&&(e="icon "+t+" not found",i.warn(e)),n.reject(e||t)}function u(t){var e=angular.isString(t)?t:t.message||t.data||t.statusText;return i.warn(e),n.reject(e)}function h(t){return angular.isDefined(t.element)&&angular.isDefined(t.config)}function f(t,e){"svg"!=t.tagName&&(t=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(t)[0]),t=angular.element(t),t.attr("xmlns")||t.attr("xmlns","http://www.w3.org/2000/svg"),this.element=t,this.config=e,this.prepare()}function d(){var e=this.config?this.config.iconSize:t.defaultIconSize,n=angular.element(this.element);n.attr({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:n.attr("viewBox")||"0 0 "+e+" "+e}).css({"pointer-events":"none",display:"block"}),this.element=n}function p(){return angular.element(this.element[0].cloneNode(!0))}var g={},m=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;return f.prototype={clone:p,prepare:d},function(t){return t=t||"",g[t]?n.when(g[t].clone()):m.test(t)?c(t).then(o(t)):(-1==t.indexOf(":")&&(t="$default:"+t),s(t).catch(a).catch(l).catch(u).then(o(t)))}}angular.module("material.components.icon").provider("$mdIcon",t);var i={defaultIconSize:24};t.prototype={icon:function(t,n,r){return-1==t.indexOf(":")&&(t="$default:"+t),i[t]=new e(n,r),this},iconSet:function(t,n,r){return i[t]=new e(n,r),this},defaultIconSet:function(t,n){var r="$default";return i[r]||(i[r]=new e(t,n)),i[r].iconSize=n||i.defaultIconSize,this},defaultIconSize:function(t){return i.defaultIconSize=t,this},preloadIcons:function(t){var e=this,n=[{id:"tabs-arrow",url:"tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g id="tabs-arrow"><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"close",url:"close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g id="close"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"cancel",url:"cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g id="cancel"><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'}];n.forEach(function(n){e.icon(n.id,n.url),t.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(t,e,r,o){return this.preloadIcons(o),new n(i,t,e,r,o)}]}}(),function(){function t(t,e){function n(e,n){t(n)}function i(t,n,i){var r=this;r.isErrorGetter=i.mdIsError&&e(i.mdIsError),r.element=n,r.setFocused=function(t){n.toggleClass("md-input-focused",!!t)},r.setHasValue=function(t){n.toggleClass("md-input-has-value",!!t)},r.setInvalid=function(t){n.toggleClass("md-input-invalid",!!t)},t.$watch(function(){return r.label&&r.input},function(t){t&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}return i.$inject=["$scope","$element","$attrs"],{restrict:"E",link:n,controller:i}}function e(){return{restrict:"E",require:"^?mdInputContainer",link:function(t,e,n,i){i&&!n.mdNoFloat&&(i.label=e,t.$on("$destroy",function(){i.label=null}))}}}function n(t,e){function n(n,i,r,o){function s(t){return l.setHasValue(!u.$isEmpty(t)),t}function a(){l.setHasValue(i.val().length>0||(i[0].validity||{}).badInput)}function c(){function r(t){return l(),t}function o(){c.style.height="auto",c.scrollTop=0;var t=s();t&&(c.style.height=t+"px")}function s(){var t=c.scrollHeight-c.offsetHeight;return c.offsetHeight+(t>0?t:0)}function a(){c.scrollTop=0;var t=c.scrollHeight-c.offsetHeight,e=c.offsetHeight+t;c.style.height=e+"px"}var c=i[0],l=t.debounce(o,1);u?(u.$formatters.push(r),u.$viewChangeListeners.push(r)):l(),i.on("keydown input",l),i.on("scroll",a),angular.element(e).on("resize",l),n.$on("$destroy",function(){angular.element(e).off("resize",l)})}var l=o[0],u=o[1]||t.fakeNgModel(),h=angular.isDefined(r.readonly);if(l){if(l.input)throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!");l.input=i,i.addClass("md-input"),i.attr("id")||i.attr("id","input_"+t.nextUid()),"textarea"===i[0].tagName.toLowerCase()&&c();var f=!1,d=l.isErrorGetter||function(){return u.$invalid&&(f||u.$touched)};n.$watch(d,l.setInvalid),u.$parsers.push(s),u.$formatters.push(s),i.on("input",a),h||i.on("focus",function(){f=!0,l.setFocused(!0),n.$evalAsync()}).on("blur",function(){l.setFocused(!1),a()}),n.$on("$destroy",function(){l.setFocused(!1),l.setHasValue(!1),l.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:n}}function i(t){function e(e,n,i,r){function o(t){return l.text((n.val()||t||"").length+"/"+s),t}var s,a=r[0],c=r[1],l=angular.element('<div class="md-char-counter">');i.$set("ngTrim","false"),c.element.append(l),a.$formatters.push(o),a.$viewChangeListeners.push(o),n.on("input keydown",function(){o()}),e.$watch(i.mdMaxlength,function(e){s=e,angular.isNumber(e)&&e>0?(l.parent().length||t.enter(l,c.element,angular.element(c.element[0].lastElementChild)),o()):t.leave(l)}),a.$validators["md-maxlength"]=function(t,e){return!angular.isNumber(s)||0>s?!0:(t||n.val()||e||"").length<=s}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:e}}function r(){function t(t,e,n,i){if(i){var r=n.placeholder;e.removeAttr("placeholder"),i.element.append('<div class="md-placeholder">'+r+"</div>")}}return{restrict:"A",require:"^^?mdInputContainer",link:t}}angular.module("material.components.input",["material.core"]).directive("mdInputContainer",t).directive("label",e).directive("input",n).directive("textarea",n).directive("mdMaxlength",i).directive("placeholder",r),t.$inject=["$mdTheming","$parse"],n.$inject=["$mdUtil","$window"],i.$inject=["$animate"]}(),function(){"use strict";function t(){return{restrict:"E",link:function(t,e){e.attr({role:"list"})}}}function e(){return{restrict:"E",link:function(t,e){e.attr({role:"listitem"})}}}angular.module("material.components.list",["material.core"]).directive("mdList",t).directive("mdItem",e)}(),function(){"use strict";function t(t,e,n){function i(t){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),r}function r(t,i,r){n(i);var c,l,u,h,f=i[0],d=f.querySelectorAll(".md-fill, .md-mask.md-full"),p=f.querySelectorAll(".md-fill.md-fix"),g=r.mdDiameter||48,m=g/48;f.style[e.CSS.TRANSFORM]="scale("+m.toString()+")",r.$observe("value",function(t){for(l=o(t),u=s[l],h=a[l],i.attr("aria-valuenow",l),c=0;c<d.length;c++)d[c].style[e.CSS.TRANSFORM]=u;for(c=0;c<p.length;c++)p[c].style[e.CSS.TRANSFORM]=h})}function o(t){return t>100?100:0>t?0:Math.ceil(t||0)}for(var s=new Array(101),a=new Array(101),c=0;101>c;c++){var l=c/100,u=Math.floor(180*l);s[c]="rotate("+u.toString()+"deg)",a[c]="rotate("+(2*u).toString()+"deg)"}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:i}}angular.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",t),t.$inject=["$$rAF","$mdConstant","$mdTheming"]}(),function(){"use strict";function t(t,n,i){function r(t){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),o}function o(r,o,a){i(o);var c=o[0].querySelector(".md-bar1").style,l=o[0].querySelector(".md-bar2").style,u=angular.element(o[0].querySelector(".md-container"));a.$observe("value",function(t){if("query"!=a.mdMode){var i=s(t);o.attr("aria-valuenow",i),l[n.CSS.TRANSFORM]=e[i]}}),a.$observe("mdBufferValue",function(t){c[n.CSS.TRANSFORM]=e[s(t)]}),t(function(){u.addClass("md-ready")})}function s(t){return t>100?100:0>t?0:Math.ceil(t||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:r}}angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t),t.$inject=["$$rAF","$mdConstant","$mdTheming"];var e=function(){function t(t){var e=t/100,n=(t-100)/2;return"translateX("+n.toString()+"%) scale("+e.toString()+", 1)"}for(var e=new Array(101),n=0;101>n;n++)e[n]=t(n);return e}()}(),function(){"use strict";function t(t,e,n){function i(i,r,o,s){function a(n){switch(n.keyCode){case e.KEY_CODE.LEFT_ARROW:case e.KEY_CODE.UP_ARROW:n.preventDefault(),c.selectPrevious();break;case e.KEY_CODE.RIGHT_ARROW:case e.KEY_CODE.DOWN_ARROW:n.preventDefault(),c.selectNext();break;case e.KEY_CODE.ENTER:var i=angular.element(t.getClosest(r[0],"form"));i.length>0&&i.triggerHandler("submit")}}n(r);var c=s[0],l=s[1]||t.fakeNgModel();c.init(l),r.attr({role:"radiogroup",tabIndex:r.attr("tabindex")||"0"}).on("keydown",a)}function r(t){this._radioButtonRenderFns=[],this.$element=t}function o(){return{init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach(function(t){t()})},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return s(this.$element,1)},selectPrevious:function(){return s(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)}}}function s(e,n){var i=t.iterator(e[0].querySelectorAll("md-radio-button"),!0);if(i.count()){var r=function(t){return!angular.element(t).attr("disabled")},o=e[0].querySelector("md-radio-button.md-checked"),s=i[0>n?"previous":"next"](o,r)||i.first();angular.element(s).triggerHandler("click")}}return r.prototype=o(),{restrict:"E",controller:["$element",r],require:["mdRadioGroup","?ngModel"],link:{pre:i}}}function e(t,e,n){function i(i,o,s,a){function c(t){o[0].hasAttribute("disabled")||i.$apply(function(){a.setViewValue(s.value,t&&t.type)})}function l(){var t=a.getViewValue()==s.value;t!==h&&(h=t,o.attr("aria-checked",t),t?(o.addClass(r),a.setActiveDescendant(o.attr("id"))):o.removeClass(r))}function u(n,i){function r(){return s.id||"radio_"+e.nextUid()}i.ariaId=r(),n.attr({id:i.ariaId,role:"radio","aria-checked":"false"}),t.expectWithText(n,"aria-label")}var h;n(o),u(o,i),a.add(l),s.$observe("value",l),o.on("click",c).on("$destroy",function(){a.remove(l)})}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:i}}angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",e),t.$inject=["$mdUtil","$mdConstant","$mdTheming"],e.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){"use strict";function t(t,e,n,i,r){function o(i,o){var s=i.find("md-select-label").remove();s.length||(s=angular.element("<md-select-label><span></span></md-select-label>")),s.append('<span class="md-select-icon" aria-hidden="true"></span>'),s.addClass("md-select-label"),s.attr("id","select_label_"+e.nextUid()),i.find("md-content").length||i.append(angular.element("<md-content>").append(i.contents())),o.mdOnOpen&&i.find("md-content").prepend(angular.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent());var a=angular.element('<div class="md-select-menu-container"><md-select-menu '+(angular.isDefined(o.multiple)?"multiple":"")+">"+i.html()+"</md-select-menu></div>");return i.empty().append(s),n(i),function(n,i,o,s){function c(){f=angular.element(a.clone());var t=f.find("md-select-menu");t.data("$ngModelController",g),t.data("$mdSelectController",p),d=n.$new(),f=r(f)(d)}function l(t){var e=[32,13,38,40];-1!=e.indexOf(t.keyCode)&&(t.preventDefault(),u(t))}function u(){n.$evalAsync(function(){h=!0,t.show({scope:d,preserveScope:!0,skipCompile:!0,element:f,target:i[0],hasBackdrop:!0,loadingAsync:o.mdOnOpen?n.$eval(o.mdOnOpen):!1}).then(function(){h=!1})})}var h,f,d,p=s[0],g=s[1],m=i.find("md-select-label"),v=0!==m.text().length;c();var b=g.$render;g.$render=function(){if(b(),f){var t=f.find("md-select-menu").controller("mdSelectMenu");p.setLabelText(t.selectedLabels())}},p.setLabelText=function(t){if(!v){p.setIsPlaceholder(!t);var e=t||o.placeholder,n=v?m:m.children().eq(0);n.text(e)}},p.setIsPlaceholder=function(t){t?m.addClass("md-placeholder"):m.removeClass("md-placeholder")},o.$observe("disabled",function(t){void 0!==t?(i.attr("tabindex",-1),i.off("click",u),i.off("keydown",l)):(i.attr("tabindex",0),i.on("click",u),i.on("keydown",l))}),void 0===o.disabled&&(i.on("click",u),i.on("keydown",l)),i.attr({role:"combobox",id:"select_"+e.nextUid(),"aria-haspopup":!0,"aria-expanded":"false","aria-labelledby":m.attr("id")}),n.$on("$destroy",function(){h?t.cancel().then(function(){f.remove()}):f.remove()})}}return i.startSymbol(),i.endSymbol(),{restrict:"E",require:["mdSelect","ngModel"],compile:o,controller:function(){}}}function e(t,e,n){function i(t,i,r,o){function s(){i.attr({id:"select_menu_"+e.nextUid(),role:"listbox","aria-multiselectable":l.isMultiple?"true":"false"})}function a(t){(13==t.keyCode||32==t.keyCode)&&c(t)}function c(n){var i=e.getClosest(n.target,"md-option"),r=i&&angular.element(i).data("$mdOptionController");if(i&&r){var o=l.hashGetter(r.value),s=angular.isDefined(l.selected[o]);t.$apply(function(){l.isMultiple?s?l.deselect(o):l.select(o,r.value):s||(l.deselect(Object.keys(l.selected)[0]),l.select(o,r.value)),l.refreshViewValue()})}}var l=o[0],u=o[1];n(i),i.on("click",c),i.on("keypress",a),u&&l.init(u),s()}function r(e,n,i){function r(){var t=c.ngModel.$modelValue||c.ngModel.$viewValue;if(angular.isArray(t)){var e=Object.keys(c.selected),n=t.map(c.hashGetter),i=e.filter(function(t){return-1===n.indexOf(t)});i.forEach(c.deselect),n.forEach(function(e,n){c.select(e,t[n])})}}function s(){var t=c.ngModel.$viewValue||c.ngModel.$modelValue;Object.keys(c.selected).forEach(c.deselect),c.select(c.hashGetter(t),t)}var c=this;c.isMultiple=angular.isDefined(n.multiple),c.selected={},c.options={},c.init=function(i){function o(t,e){return angular.isArray(t||e||[])}if(c.ngModel=i,i.$options&&i.$options.trackBy){var l={},u=t(i.$options.trackBy);c.hashGetter=function(t,n){return l.$value=t,u(n||e,l)}}else c.hashGetter=function(t){return angular.isObject(t)?"$$object_"+(t.$$mdSelectId||(t.$$mdSelectId=++a)):t};c.isMultiple?(i.$validators["md-multiple"]=o,i.$render=r,e.$watchCollection(n.ngModel,function(t){o(t)&&r(t)})):i.$render=s},c.selectedLabels=function(){var t=o(i[0].querySelectorAll("md-option[selected]"));return t.length?t.map(function(t){return t.textContent}).join(", "):""},c.select=function(t,e){var n=c.options[t];n&&n.setSelected(!0),c.selected[t]=e},c.deselect=function(t){var e=c.options[t];e&&e.setSelected(!1),delete c.selected[t]},c.addOption=function(t,e){if(angular.isDefined(c.options[t]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+e.value+'" found.');c.options[t]=e,angular.isDefined(c.selected[t])&&(c.select(t,e.value),c.refreshViewValue())},c.removeOption=function(t){delete c.options[t]},c.refreshViewValue=function(){var t,e=[];for(var n in c.selected)e.push((t=c.options[n])?t.value:c.selected[n]);c.ngModel.$setViewValue(c.isMultiple?e:e[0])}}return r.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:r,link:{pre:i}}}function n(t,e){function n(t,e){return t.append(angular.element('<div class="md-text">').append(t.contents())),void 0===e.tabindex&&t.attr("tabindex",0),i}function i(n,i,r,o){function s(t,e){var i=l.hashGetter(e,n),r=l.hashGetter(t,n);c.hashKey=r,c.value=t,l.removeOption(i,c),l.addOption(r,c)}function a(){i.attr({role:"option","aria-selected":"false",id:"select_option_"+e.nextUid()})}var c=o[0],l=o[1];if(angular.isDefined(r.ngValue))n.$watch(r.ngValue,s);else{if(!angular.isDefined(r.value))throw new Error("Expected either ngValue or value attr");s(r.value)}t.attachButtonBehavior(n,i),a(),n.$on("$destroy",function(){l.removeOption(c.hashKey,c)})}function r(t){this.selected=!1,this.setSelected=function(e){e&&!this.selected?t.attr({selected:"selected","aria-selected":"true"}):!e&&this.selected&&(t.removeAttr("selected"),t.attr("aria-selected","false")),this.selected=e}}return r.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:r,compile:n}}function i(){function t(t,e){var n=t.find("label");
n.length||(n=angular.element("<label>"),t.prepend(n)),e.label&&n.text(e.label)}return{restrict:"E",compile:t}}function r(t){function e(t,e,r,a,c,l){function u(n,i,s){function u(){s.selectEl.attr("aria-labelledby",s.target.attr("id")),s.target.attr("aria-owns",s.selectEl.attr("id")),s.target.attr("aria-expanded","true")}function h(){function r(t){var e=o(d),n=e.indexOf(s.focusedNode);-1===n?n=0:"next"===t&&n<e.length-1?n++:"prev"===t&&n>0&&n--;var i=s.focusedNode=e[n];i&&i.focus()}function c(){r("next")}function l(){r("prev")}function u(){s.restoreFocus=!0,n.$evalAsync(function(){t.hide(h.ngModel.$viewValue)})}if(!s.isRemoved){var h=s.selectEl.controller("mdSelectMenu")||{};i.addClass("md-clickable"),s.backdrop&&s.backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),s.restoreFocus=!1,n.$apply(t.cancel)}),s.selectEl.on("keydown",function(i){switch(i.keyCode){case e.KEY_CODE.SPACE:case e.KEY_CODE.ENTER:var r=a.getClosest(i.target,"md-option");r&&(s.selectEl.triggerHandler({type:"click",target:r}),i.preventDefault());break;case e.KEY_CODE.TAB:case e.KEY_CODE.ESCAPE:i.preventDefault(),s.restoreFocus=!0,n.$apply(t.cancel)}}),s.selectEl.on("keydown",function(t){switch(t.keyCode){case e.KEY_CODE.UP_ARROW:return l();case e.KEY_CODE.DOWN_ARROW:return c()}}),h.isMultiple||(s.selectEl.on("click",u),s.selectEl.on("keydown",function(t){(32==t.keyCode||13==t.keyCode)&&u()}))}}if(!s.target)throw new Error('$mdSelect.show() expected a target element in options.target but got "'+s.target+'"!');angular.extend(s,{isRemoved:!1,target:angular.element(s.target),parent:angular.element(s.parent),selectEl:i.find("md-select-menu"),contentEl:i.find("md-content"),backdrop:s.hasBackdrop&&angular.element('<md-backdrop class="md-select-backdrop">')}),u(),i.removeClass("md-leave");var d=s.selectEl[0].getElementsByTagName("md-option");return s.loadingAsync&&s.loadingAsync.then&&s.loadingAsync.then(function(){n.$$loadingAsyncDone=!0,r(function(){r(function(){s.isRemoved||f(n,i,s)})})}),s.disableParentScroll&&(s.disableTarget=s.parent.find("md-content"),s.disableTarget.length||(s.disableTarget=s.parent),s.lastOverflow=s.disableTarget.css("overflow"),s.disableTarget.css("overflow","hidden")),l(h,75,!1),s.backdrop&&(c.inherit(s.backdrop,s.parent),s.parent.append(s.backdrop)),s.parent.append(i),r(function(){r(function(){s.isRemoved||f(n,i,s)})}),a.transitionEndPromise(s.selectEl)}function h(t,e,n){n.isRemoved=!0,e.addClass("md-leave").removeClass("md-clickable"),n.target.attr("aria-expanded","false"),n.disableParentScroll&&a.floatingScrollbars()&&(n.disableTarget.css("overflow",n.lastOverflow),delete n.lastOverflow,delete n.disableTarget);var i=n.selectEl.controller("mdSelect");return i&&i.setLabelText(n.selectEl.controller("mdSelectMenu").selectedLabels()),a.transitionEndPromise(e).then(function(){e.removeClass("md-active"),n.parent[0].removeChild(e[0]),n.backdrop&&n.backdrop.remove(),n.restoreFocus&&n.target.focus()})}function f(t,o,c){var l,u=o[0],h=c.target[0],f=c.parent[0],d=c.selectEl[0],p=c.contentEl[0],g=f.getBoundingClientRect(),m=a.clientRect(h,f),v=!1,b={left:f.scrollLeft+s,top:f.scrollTop+s,bottom:g.height+f.scrollTop-s,right:g.width-f.scrollLeft-s},y={top:m.top-b.top,left:m.left-b.left,right:b.right-(m.left+m.width),bottom:b.bottom-(m.top+m.height)},x=g.width-2*s,w=p.scrollHeight>p.offsetHeight,_=d.querySelector("md-option[selected]"),C=d.getElementsByTagName("md-option"),$=d.getElementsByTagName("md-optgroup");l=_?_:$.length?$[0]:C.length?C[0]:p.firstElementChild||p,p.offsetWidth>x&&(p.style["max-width"]=x+"px"),v&&(p.style["min-width"]=m.width+"px"),w&&d.classList.add("md-overflow");var S=d.getBoundingClientRect(),E=i(l);if(l){var T=window.getComputedStyle(l);E.paddingLeft=parseInt(T["padding-left"],10),E.paddingRight=parseInt(T["padding-right"],10)}var k=l;if("MD-OPTGROUP"===(k.tagName||"").toUpperCase()&&(k=C[0]||p.firstElementChild||p),k&&(c.focusedNode=k,k.focus()),w){var A=p.offsetHeight/2;p.scrollTop=E.top+E.height/2-A,y.top<A?p.scrollTop=Math.min(E.top,p.scrollTop+A-y.top):y.bottom<A&&(p.scrollTop=Math.max(E.top+E.height-S.height,p.scrollTop-A+y.bottom))}var M,O,P;v?(M=m.left,O=m.top+m.height,P="50% 0",O+S.height>b.bottom&&(O=m.top-S.height,P="50% 100%")):(M=m.left+E.left-E.paddingLeft,O=m.top+m.height/2-E.height/2-E.top+p.scrollTop,P=E.left+m.width/2+"px "+(E.top+E.height/2-p.scrollTop)+"px 0px",u.style["min-width"]=m.width+E.paddingLeft+E.paddingRight+"px"),u.style.left=n(b.left,M,b.right)+"px",u.style.top=n(b.top,O,b.bottom)+"px",d.style[e.CSS.TRANSFORM_ORIGIN]=P,d.style[e.CSS.TRANSFORM]="scale("+Math.min(m.width/S.width,1)+","+Math.min(m.height/S.height,1)+")",r(function(){o.addClass("md-active"),d.style[e.CSS.TRANSFORM]=""})}return{parent:"body",onShow:u,onRemove:h,hasBackdrop:!0,disableParentScroll:a.floatingScrollbars(),themable:!0}}function n(t,e,n){return Math.min(n,Math.max(e,t))}function i(t){return t?{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}:{left:0,top:0,width:0,height:0}}return e.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout"],t("$mdSelect").setDefaults({methods:["target"],options:e})}function o(t){for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e}var s=8,a=0;angular.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",t).directive("mdSelectMenu",e).directive("mdOption",n).directive("mdOptgroup",i).provider("$mdSelect",r),t.$inject=["$mdSelect","$mdUtil","$mdTheming","$interpolate","$compile","$parse"],e.$inject=["$parse","$mdUtil","$mdTheming"],n.$inject=["$mdInkRipple","$mdUtil"],r.$inject=["$$interimElementProvider"]}(),function(){"use strict";function t(t,e){return function(n){var i="SideNav '"+n+"' is not available!",r=t.get(n);return r||t.notFoundError(n),{isOpen:function(){return r&&r.isOpen()},isLockedOpen:function(){return r&&r.isLockedOpen()},toggle:function(){return r?r.toggle():e.reject(i)},open:function(){return r?r.open():e.reject(i)},close:function(){return r?r.close():e.reject(i)}}}}function e(t,e,n,i,r,o,s,a,c){function l(l,u,h,f){function d(t,n){l.isLockedOpen=t,t===n?u.toggleClass("md-locked-open",!!t):e[t?"addClass":"removeClass"](u,"md-locked-open"),_.toggleClass("md-locked-open",!!t)}function p(t){var n=u.parent();return n[t?"on":"off"]("keydown",m),_[t?"on":"off"]("click",v),t&&(b=c[0].activeElement),y=a.all([e[t?"enter":"leave"](_,n),e[t?"removeClass":"addClass"](u,"md-closed").then(function(){l.isOpen&&u.focus()})])}function g(e){if(l.isOpen==e)return a.when(!0);var n=a.defer();return l.isOpen=e,t(function(){y.then(function(t){l.isOpen||(b&&b.focus(),b=null),n.resolve(t)})},0,!1),n.promise}function m(t){var e=t.keyCode===r.KEY_CODE.ESCAPE;return e?v(t):a.when(!0)}function v(t){return t.preventDefault(),t.stopPropagation(),f.close()}var b=null,y=a.when(!0),x=n(h.mdIsLockedOpen),w=function(){return x(l.$parent,{$media:i})},_=o('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(l);u.on("$destroy",f.destroy),s.inherit(_,u),l.$watch(w,d),l.$watch("isOpen",p),f.$toggleOpen=g}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed"),t.attr("tabIndex","-1"),l}}}function n(t,e,n,i,r){var o=this;o.$toggleOpen=function(){return r.when(t.isOpen)},o.isOpen=function(){return!!t.isOpen},o.isLockedOpen=function(){return!!t.isLockedOpen},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!t.isOpen)},o.destroy=i.register(o,n.mdComponentId)}angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",t).directive("mdSidenav",e).controller("$mdSidenavController",n),t.$inject=["$mdComponentRegistry","$q"],e.$inject=["$timeout","$animate","$parse","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"],n.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){"use strict";function t(t,e,n,i,r,o,s,a){function c(t){return t.attr({tabIndex:0,role:"slider"}),n.expect(t,"aria-label"),l}function l(n,c,l,u){function h(){v(),w(),m()}function f(t){V=parseFloat(t),c.attr("aria-valuemin",t),h()}function d(t){q=parseFloat(t),c.attr("aria-valuemax",t),h()}function p(t){G=parseFloat(t),m()}function g(t){c.attr("aria-disabled",!!t)}function m(){if(angular.isDefined(l.mdDiscrete)){var t=Math.floor((q-V)/G);if(!K){var n=e.getComputedStyle(z[0]);K=angular.element('<canvas style="position:absolute;">'),J=K[0].getContext("2d"),J.fillStyle=n.backgroundColor||"black",z.append(K)}var i=b();K[0].width=i.width,K[0].height=i.height;for(var r,o=0;t>=o;o++)r=Math.floor(i.width*(o/t)),J.fillRect(r-1,0,2,i.height)}}function v(){Z=B[0].getBoundingClientRect()}function b(){return X(),Z}function y(t){if(!c[0].hasAttribute("disabled")){var e;t.keyCode===r.KEY_CODE.LEFT_ARROW?e=-G:t.keyCode===r.KEY_CODE.RIGHT_ARROW&&(e=G),e&&((t.metaKey||t.ctrlKey||t.altKey)&&(e*=4),t.preventDefault(),t.stopPropagation(),n.$evalAsync(function(){x(u.$viewValue+e)}))}}function x(t){u.$setViewValue(_(C(t)))}function w(){isNaN(u.$viewValue)&&(u.$viewValue=u.$modelValue);var t=(u.$viewValue-V)/(q-V);n.modelValue=u.$viewValue,c.attr("aria-valuenow",u.$viewValue),$(t),R.text(u.$viewValue)}function _(t){return angular.isNumber(t)?Math.max(V,Math.min(q,t)):void 0}function C(t){return angular.isNumber(t)?Math.round(t/G)*G:void 0}function $(t){W.css("width",100*t+"%"),F.css("left",100*t+"%"),c.toggleClass("md-min",0===t)}function S(t){if(!L()){c.addClass("active"),c[0].focus(),v();var e=j(D(t.pointer.x)),i=_(C(e));n.$apply(function(){x(i),$(I(i))})}}function E(t){if(!L()){c.removeClass("dragging active");var e=j(D(t.pointer.x)),i=_(C(e));n.$apply(function(){x(i),w()})}}function T(t){L()||(Q=!0,t.stopPropagation(),c.addClass("dragging"),M(t))}function k(t){Q&&(t.stopPropagation(),M(t))}function A(t){Q&&(t.stopPropagation(),Q=!1)}function M(t){te?P(t.pointer.x):O(t.pointer.x)}function O(t){n.$evalAsync(function(){x(j(D(t)))})}function P(t){var e=j(D(t)),n=_(C(e));$(D(t)),R.text(n)}function D(t){return Math.max(0,Math.min(1,(t-Z.left)/Z.width))}function j(t){return V+t*(q-V)}function I(t){return(t-V)/(q-V)}o(c),u=u||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach(function(t){t()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var N=l.ngDisabled&&a(l.ngDisabled),L=N?function(){return N(n.$parent)}:angular.noop,H=angular.element(c[0].querySelector(".md-thumb")),R=angular.element(c[0].querySelector(".md-thumb-text")),F=H.parent(),B=angular.element(c[0].querySelector(".md-track-container")),W=angular.element(c[0].querySelector(".md-track-fill")),z=angular.element(c[0].querySelector(".md-track-ticks")),X=i.throttle(v,5e3);l.min?l.$observe("min",f):f(0),l.max?l.$observe("max",d):d(100),l.step?l.$observe("step",p):p(1);var Y=angular.noop;l.ngDisabled&&(Y=n.$parent.$watch(l.ngDisabled,g)),s.register(c,"drag"),c.on("keydown",y).on("$md.pressdown",S).on("$md.pressup",E).on("$md.dragstart",T).on("$md.drag",k).on("$md.dragend",A),setTimeout(h);var U=t.throttle(h);angular.element(e).on("resize",U),n.$on("$destroy",function(){angular.element(e).off("resize",U),Y()}),u.$render=w,u.$viewChangeListeners.push(w),u.$formatters.push(_),u.$formatters.push(C);var V,q,G,K,J,Z={};v();var Q=!1,te=angular.isDefined(l.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:c}}angular.module("material.components.slider",["material.core"]).directive("mdSlider",t),t.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]}(),function(){"use strict";function t(t,e,n,i,r){function o(t){function n(t,e){e.addClass("md-sticky-clone"),e.css("top",p+"px");var n={element:t,clone:e};return d.items.push(n),h.parent().prepend(n.clone),f(),function(){d.items.forEach(function(e,n){e.element[0]===t[0]&&(d.items.splice(n,1),e.clone.remove())}),f()}}function r(){d.items.forEach(o),d.items=d.items.sort(function(t,e){return t.top<e.top?-1:1});for(var t,e=h.prop("scrollTop"),n=d.items.length-1;n>=0;n--)if(e>d.items[n].top){t=d.items[n];break}c(t)}function o(t){var e=t.element[0];for(t.top=0,t.left=0;e&&e!==h[0];)t.top+=e.offsetTop,t.left+=e.offsetLeft,e=e.offsetParent;t.height=t.element.prop("offsetHeight"),t.clone.css("margin-left",t.left+"px")}function s(){var t=h.prop("scrollTop"),e=t>(s.prevScrollTop||0);s.prevScrollTop=t,0===t?c(null):e&&d.next?d.next.top-t<=0?c(d.next):d.current&&(d.next.top-t<=d.next.height?u(d.current,d.next.top-d.next.height-t):u(d.current,null)):!e&&d.current&&(t<d.current.top&&c(d.prev),d.current&&d.next&&(t>=d.next.top-d.current.height?u(d.current,d.next.top-t-d.current.height):u(d.current,null)))}function c(t){if(d.current!==t){d.current&&(u(d.current,null),l(d.current,null)),t&&l(t,"active"),d.current=t;var e=d.items.indexOf(t);d.next=d.items[e+1],d.prev=d.items[e-1],l(d.next,"next"),l(d.prev,"prev")}}function l(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function u(t,n){t&&(null===n||void 0===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=n,t.clone.css(e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+n+"px,0)")))}var h=t.$element,f=i.throttle(r);a(h),h.on("$scrollstart",f),h.on("$scroll",s);var d,p=h.prop("offsetTop");return d={prev:null,current:null,next:null,items:[],add:n,refreshElements:r}}function s(){var e,n=angular.element("<div>");t[0].body.appendChild(n[0]);for(var i=["sticky","-webkit-sticky"],r=0;r<i.length;++r)if(n.css({position:i[r],top:0,"z-index":2}),n.css("position")==i[r]){e=i[r];break}return n.remove(),e}function a(t){function e(){+r.now()-o>s?(n=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),i(e))}var n,o,s=200;t.on("scroll touchmove",function(){n||(n=!0,i(e),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),o=+r.now()})}var c=s();return function(t,e,n){var i=e.controller("mdContent");if(i)if(c)e.css({position:c,top:0,"z-index":2});else{var r=i.$element.data("$$sticky");r||(r=o(i),i.$element.data("$$sticky",r));var s=r.add(e,n||e.clone());t.$on("$destroy",s)}}}angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t),t.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){"use strict";function t(t,e,n){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><span class="md-subheader-content"></span></h2>',compile:function(i,r,o){var s=i[0].outerHTML;return function(i,r){function a(t){return angular.element(t[0].querySelector(".md-subheader-content"))}n(r),o(i,function(t){a(r).append(t)}),o(i,function(o){var c=e(angular.element(s))(i);n(c),a(c).append(o),t(i,r,c)})}}}}angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t),t.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){"use strict";var t=angular.module("material.components.swipe",[]);["SwipeLeft","SwipeRight"].forEach(function(e){var n="md"+e,i="$md."+e.toLowerCase();t.directive(n,["$parse",function(t){function e(e,r,o){var s=t(o[n]);r.on(i,function(t){e.$apply(function(){s(e,{$event:t})})})}return{restrict:"A",link:e}}])})}(),function(){"use strict";function t(t,e,n,i,r,o,s,a){function c(t,e){var i=l.compile(t,e);return t.addClass("md-dragging"),function(t,e,c,l){function u(n){p(t)||(n.stopPropagation(),e.addClass("md-dragging"),v={width:g.prop("offsetWidth")},e.removeClass("transition"))}function h(t){if(v){t.stopPropagation(),t.srcEvent&&t.srcEvent.preventDefault();var e=t.pointer.distanceX/v.width,n=l.$viewValue?1+e:e;n=Math.max(0,Math.min(1,n)),g.css(r.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),v.translate=n}}function f(t){if(v){t.stopPropagation(),e.removeClass("md-dragging"),g.css(r.CSS.TRANSFORM,"");var n=l.$viewValue?v.translate<.5:v.translate>.5;n&&d(!l.$viewValue),v=null}}function d(e){t.$apply(function(){l.$setViewValue(e),l.$render()})}l=l||n.fakeNgModel();var p=o(c.ngDisabled),g=angular.element(e[0].querySelector(".md-thumb-container")),m=angular.element(e[0].querySelector(".md-container"));s(function(){e.removeClass("md-dragging")}),i(t,e,c,l),angular.isDefined(c.ngDisabled)&&t.$watch(p,function(t){e.attr("tabindex",t?-1:0)}),a.register(m,"drag"),m.on("$md.dragstart",u).on("$md.drag",h).on("$md.dragend",f);var v}}var l=t[0];return{restrict:"E",transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:c}}angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",t),t.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){"use strict";angular.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){"use strict";function t(t,e,n,i){return{restrict:"E",replace:!0,scope:{fid:"@?mdFid",label:"@?",value:"=ngModel"},compile:function(r,o){return i.warn("<md-text-float> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer"),angular.isUndefined(o.mdFid)&&(o.mdFid=e.nextUid()),{pre:function(t,e,i){var r=n(i.ngDisabled);t.isDisabled=function(){return r(t.$parent)},t.inputType=i.type||"text"},post:t}},template:'<md-input-group tabindex="-1"> <label for="{{fid}}" >{{label}}</label> <md-input id="{{fid}}" ng-disabled="isDisabled()" ng-model="value" type="{{inputType}}"></md-input></md-input-group>'}}function e(t){return{restrict:"CE",controller:["$element",function(e){t.warn("<md-input-group> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer"),this.setFocused=function(t){e.toggleClass("md-input-focused",!!t)},this.setHasValue=function(t){e.toggleClass("md-input-has-value",t)}}]}}function n(t,e){return{restrict:"E",replace:!0,template:"<input >",require:["^?mdInputGroup","?ngModel"],link:function(t,n,i,r){function o(t){return t=angular.isUndefined(t)?n.val():t,angular.isDefined(t)&&null!==t&&""!==t.toString().trim()}if(r[0]){e.warn("<md-input> is deprecated. Please use `<md-input-container>` and `<input>`.More information at http://material.angularjs.org/#/api/material.components.input/directive/mdInputContainer");var s=r[0],a=r[1];t.$watch(t.isDisabled,function(t){n.attr("aria-disabled",!!t),n.attr("tabindex",!!t)}),n.attr("type",i.type||n.parent().attr("type")||"text"),a&&a.$formatters.push(function(t){return s.setHasValue(o(t)),t}),n.on("input",function(){s.setHasValue(o())}).on("focus",function(){s.setFocused(!0)}).on("blur",function(){s.setFocused(!1),s.setHasValue(o())}),t.$on("$destroy",function(){s.setFocused(!1),s.setHasValue(!1)})}}}}angular.module("material.components.textField",["material.core"]).directive("mdInputGroup",e).directive("mdInput",n).directive("mdTextFloat",t),t.$inject=["$mdTheming","$mdUtil","$parse","$log"],e.$inject=["$log"],n.$inject=["$mdUtil","$log"]}(),function(){"use strict";function t(){return{restrict:"E"}}function e(t){function e(t,e,i){function r(r,o,a){return n=a.content,o.addClass(a.position.split(" ").map(function(t){return"md-"+t}).join(" ")),a.parent.addClass(s(a.position)),a.onSwipe=function(e){o.addClass("md-"+e.type.replace("$md.","")),t(i.cancel)},o.on("$md.swipeleft $md.swiperight",a.onSwipe),e.enter(o,a.parent)}function o(t,n,i){return n.off("$md.swipeleft $md.swiperight",i.onSwipe),i.parent.removeClass(s(i.position)),e.leave(n)}function s(t){return"md-toast-open-"+(t.indexOf("top")>-1?"top":"bottom")}return{onShow:r,onRemove:o,position:"bottom left",themable:!0,hideDelay:3e3}}var n,i=t("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:e}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme"],options:["$mdToast","$mdTheming",function(t,e){var i={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(e){var i=this;e.$watch(function(){return n},function(){i.content=n}),this.resolve=function(){t.hide()}}],theme:e.defaultTheme(),controllerAs:"toast",bindToController:!0};return i}]}).addMethod("updateContent",function(t){n=t});return e.$inject=["$timeout","$animate","$mdToast"],i}angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",t).provider("$mdToast",e),e.$inject=["$$interimElementProvider"]}(),function(){"use strict";function t(t,e,n,i){return{restrict:"E",controller:angular.noop,link:function(r,o,s){function a(){function i(e,n){o.parent()[0]===n.parent()[0]&&(u&&u.off("scroll",p),n.on("scroll",p),n.attr("scroll-shrink","true"),u=n,t(a))}function a(){l=o.prop("offsetHeight"),u.css("margin-top",-l*d+"px"),c()}function c(t){var n=t?t.target.scrollTop:f;g(),h=Math.min(l/d,Math.max(0,h+n-f)),o.css(e.CSS.TRANSFORM,"translate3d(0,"+-h*d+"px,0)"),u.css(e.CSS.TRANSFORM,"translate3d(0,"+(l-h)*d+"px,0)"),f=n}var l,u,h=0,f=0,d=s.mdShrinkSpeedFactor||.5,p=t.throttle(c),g=n.debounce(a,5e3);r.$on("$mdContentLoaded",i)}i(o),angular.isDefined(s.mdScrollShrink)&&a()}}}angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t),t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming"]}(),function(){"use strict";function t(t,e,n,i,r,o,s,a,c){function l(l,f,d){function p(e){p.value=!!e,p.queued||(e?(p.queued=!0,t(function(){l.visible=p.value,p.queued=!1},l.delay)):t(function(){l.visible=!1}))}function g(){b.attr("aria-describedby",f.attr("id")),C.append(f),v(),a.addClass(f,"md-show"),a.addClass(y,"md-show"),a.addClass(x,"md-show")}function m(){b.removeAttr("aria-describedby"),c.all([a.removeClass(x,"md-show"),a.removeClass(y,"md-show"),a.removeClass(f,"md-show")]).then(function(){l.visible||f.detach()})}function v(){function t(){var t="left"===w||"right"===w?2*Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height/2,2)):2*Math.sqrt(Math.pow(i.width/2,2)+Math.pow(i.height,2)),e="left"===w?{left:100,top:50}:"right"===w?{left:0,top:50}:"top"===w?{left:50,top:100}:{left:50,top:0};y.css({width:t+"px",height:t+"px",left:e.left+"%",top:e.top+"%"})}function e(t){var e={left:t.left,top:t.top};return e.left=Math.min(e.left,C.prop("scrollWidth")-i.width-h),e.left=Math.max(e.left,h),e.top=Math.min(e.top,C.prop("scrollHeight")-i.height-h),e.top=Math.max(e.top,h),e}function n(t){return"left"===t?{left:o.left-i.width-h,top:o.top+o.height/2-i.height/2}:"right"===t?{left:o.left+o.width+h,top:o.top+o.height/2-i.height/2}:"top"===t?{left:o.left+o.width/2-i.width/2,top:o.top-i.height-h}:{left:o.left+o.width/2-i.width/2,top:o.top+o.height+h}}var i=r.offsetRect(f,C),o=r.offsetRect(b,C),s=n(w);w?s=e(s):s.top>C.prop("scrollHeight")-i.height-h&&(s=e(n("top"))),f.css({top:s.top+"px",left:s.left+"px"}),t()}o(f);for(var b=f.parent(),y=angular.element(f[0].getElementsByClassName("md-background")[0]),x=angular.element(f[0].getElementsByClassName("md-content")[0]),w=d.mdDirection;"none"==e.getComputedStyle(b[0])["pointer-events"];)b=b.parent();for(var _=f.parent()[0];_&&_!==s[0]&&_!==document.body&&(!_.tagName||"md-content"!=_.tagName.toLowerCase());)_=_.parentNode;var C=angular.element(_||document.body);angular.isDefined(d.mdDelay)||(l.delay=u),f.detach(),f.attr("role","tooltip"),f.attr("id",d.id||"tooltip_"+r.nextUid()),b.on("focus mouseenter touchstart",function(){p(!0)}),b.on("blur mouseleave touchend touchcancel",function(){i[0].activeElement!==b[0]&&p(!1)}),l.$watch("visible",function(t){t?g():m()});var $=n.throttle(function(){l.visible&&v()});angular.element(e).on("resize",$),l.$on("$destroy",function(){l.visible=!1,f.remove(),angular.element(e).off("resize",$)})}var u=0,h=8;return{restrict:"E",transclude:!0,template:'<div class="md-background"></div><div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay"},link:l}}angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",t),t.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){"use strict";angular.module("material.components.whiteframe",[])}(),function(){"use strict";function t(t,e,n,i,r){function o(){c(),s()}function s(){var t=angular.element($.ul),e=angular.element($.input),n=t.attr("id")||"ul_"+i.nextUid();t.attr("id",n),e.attr("aria-owns",n)}function a(t){if(t){var e={};return w.itemName&&(e[w.itemName]=t),e}}function c(){var e=parseInt(t.delay,10)||0;t.$watch("searchText",e?i.debounce(l,e):l),t.$watch("selectedItem",function(e,n){t.itemChange&&e!==n&&t.itemChange(a(e))})}function l(e,n){if(w.index=-1,!e||e.length<Math.max(parseInt(t.minLength,10),1))return w.loading=!1,w.matches=[],w.hidden=m(),void h();var i=e.toLowerCase();S&&S.cancel&&(S.cancel(),S=null),!t.noCache&&E[i]?(w.matches=E[i],h()):w.fetch(e),w.hidden=m(),t.textChange&&e!==n&&t.textChange(a(t.selectedItem))}function u(e){function i(n){E[o]=n,e===t.searchText&&(S=null,w.loading=!1,w.matches=n,w.hidden=m(),h())}var r=t.$parent.$eval(C),o=e.toLowerCase();angular.isArray(r)?i(r):(w.loading=!0,S=n.when(r).then(i))}function h(){if(!w.hidden)switch(w.matches.length){case 0:return w.messages.splice(0);case 1:return w.messages.push({display:"There is 1 match available."});default:return w.messages.push({display:"There are "+w.matches.length+" matches available."})}}function f(){w.messages.push({display:v()})}function d(){w.hidden=!0}function p(t){switch(t.keyCode){case r.KEY_CODE.DOWN_ARROW:if(w.loading)return;t.preventDefault(),w.index=Math.min(w.index+1,w.matches.length-1),x(),f();break;case r.KEY_CODE.UP_ARROW:if(w.loading)return;t.preventDefault(),w.index=Math.max(0,w.index-1),x(),f();break;case r.KEY_CODE.ENTER:if(w.loading||w.index<0)return;t.preventDefault(),y(w.index);break;case r.KEY_CODE.ESCAPE:w.matches=[],w.hidden=!0,w.index=-1;break;case r.KEY_CODE.TAB:}}function g(){t.searchText="",y(-1),$.input.focus()}function m(){return 1===w.matches.length&&t.searchText===b(w.matches[0])}function v(){return b(w.matches[w.index])}function b(e){return e&&t.itemText?t.itemText(a(e)):e}function y(e){t.selectedItem=w.matches[e],t.searchText=b(t.selectedItem)||t.searchText,w.hidden=!0,w.index=-1,w.matches=[]}function x(){var t=41*w.index,e=t+41,n=225.5;t<$.ul.scrollTop?$.ul.scrollTop=t:e>$.ul.scrollTop+n&&($.ul.scrollTop=e-n)}var w=this,_=t.itemsExpr.split(/ in /i),C=_[1],$={main:e[0],ul:e[0].getElementsByTagName("ul")[0],input:e[0].getElementsByTagName("input")[0]},S=null,E={};return w.scope=t,w.parent=t.$parent,w.itemName=_[0],w.matches=[],w.loading=!1,w.hidden=!0,w.index=0,w.keydown=p,w.blur=d,w.clear=g,w.select=y,w.getCurrentDisplayValue=v,w.fetch=i.debounce(u),w.messages=[],o()}angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",t),t.$inject=["$scope","$element","$q","$mdUtil","$mdConstant"]}(),function(){"use strict";function t(){return{template:'        <md-autocomplete-wrap role="listbox">          <input type="text"              ng-disabled="isDisabled"              ng-model="searchText"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              ng-blur="$mdAutocompleteCtrl.blur()"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              aria-autocomplete="list"              aria-haspopup="true"              aria-activedescendant=""              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>          <button              type="button"              ng-if="searchText"              ng-click="$mdAutocompleteCtrl.clear()">            <md-icon md-svg-icon="cancel"></md-icon>            <span class="visually-hidden">Clear</span>          </button>          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading"              md-mode="indeterminate"></md-progress-linear>        </md-autocomplete-wrap>        <ul role="presentation">          <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"              ng-class="{ selected: index === $mdAutocompleteCtrl.index }"              ng-show="searchText && !$mdAutocompleteCtrl.hidden"              ng-click="$mdAutocompleteCtrl.select(index)"              ng-transclude              md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">          </li>        </ul>        <aria-status            class="visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages">{{message.display}}</p>        </aria-status>',transclude:!0,controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{searchText:"=mdSearchText",selectedItem:"=mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=mdNoCache",itemChange:"&mdSelectedItemChange",textChange:"&mdSearchTextChange",isDisabled:"=ngDisabled",minLength:"=mdMinLength",delay:"=mdDelay"}}}angular.module("material.components.autocomplete").directive("mdAutocomplete",t)}(),function(){"use strict";function t(t,e,n){function i(t){return t?t.replace(/[\*\[\]\(\)\{\}\\\^\$]/g,"\\$&"):t}var r=e.attr("md-highlight-text"),o=n(e.text())(t),s=t.$watch(r,function(t){var n=new RegExp("^"+i(t),"i"),r=o.replace(n,'<span class="highlight">$&</span>');e.html(r)});e.on("$destroy",function(){s()})}angular.module("material.components.autocomplete").controller("MdHighlightCtrl",t),t.$inject=["$scope","$element","$interpolate"]}(),function(){"use strict";function t(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl"}}angular.module("material.components.autocomplete").directive("mdHighlightText",t)}(),function(){"use strict";function t(t,e){function n(n,i,r,o){var s=o.parent.$new(!1,o.parent),a=o.scope.$eval(r.mdAutocompleteListItem);s[a]=n.item,t(i.contents())(s),i.attr({role:"option",id:"item_"+e.nextUid()})}return{require:"^?mdAutocomplete",terminal:!0,link:n,scope:!1}}angular.module("material.components.autocomplete").directive("mdAutocompleteListItem",t),t.$inject=["$compile","$mdUtil"]}(),function(){"use strict";function t(t){function e(e,i,r,o){function s(){var t=c.getSelectedItem(),r=!t||c.count()<2||a;if(i.css("display",r?"none":"block"),!r&&e.pagination&&e.pagination.tabData){var o=c.getSelectedIndex(),s=e.pagination.tabData.tabs[o]||{left:0,right:0,width:0},l=i.parent().prop("offsetWidth")-s.right,u=["md-transition-left","md-transition-right","md-no-transition"],h=n>o?0:o>n?1:2;i.removeClass(u.join(" ")).addClass(u[h]).css({left:s.left+"px",right:l+"px"}),n=o}}var a=!!o[0],c=o[1],l=t.throttle(s);c.inkBarElement=i,e.$on("$mdTabsPaginationChanged",l)}var n=0;return{restrict:"E",require:["^?mdNoBar","^mdTabs"],link:e}}angular.module("material.components.tabs").directive("mdTabsInkBar",t),t.$inject=["$$rAF"]}(),function(){"use strict";function t(t,e,n,i,r,o){function s(s,c,l,u){function h(t,e){if(t){var n=v(t);
C.active&&n!==C.page?(e&&e.element.blur(),b(n).then(function(){_=!1,t.element.focus()})):t.element.focus()}}function f(t){var e=C.tabData,n=Math.max(0,Math.min(e.pages.length-1,C.page+t)),i=e.pages[n][t>0?"firstTabIndex":"lastTabIndex"],r=u.itemAt(i);_=!0,h(r)}function d(){function t(){w.css("width","9999px"),angular.forEach(o.tabs,function(t){angular.element(t.element).css("margin-left",t.filler+"px")}),b(v(u.getSelectedItem()))}function e(){p(0),w.css("width",""),i.css("width",""),i.css("margin-left",""),C.page=null,C.active=!1}function n(){return l||s.$watch(function(){r(function(){c[0].offsetParent&&(angular.isFunction(l)&&l(),x(),l=null)},0,!1)})}if(c.prop("offsetParent")){var i=c.find("md-tab");e();var o=C.tabData=m(),a=C.active=o.pages.length>1;a&&t(),s.$evalAsync(function(){s.$broadcast("$mdTabsPaginationChanged")})}else var l=n()}function p(e){function n(e){e.target===w[0]&&(w.off(t.CSS.TRANSITIONEND,n),r.resolve())}if(u.pagingOffset===e)return i.when();var r=i.defer();return u.$$pagingOffset=e,w.css(t.CSS.TRANSFORM,"translate3d("+e+"px,0,0)"),w.on(t.CSS.TRANSITIONEND,n),r.promise}function g(){switch(s.stretchTabs){case"never":return!1;case"always":return!0;default:return o("sm")}}function m(t){function e(){var t=1===h.length?i:r,e=Math.min(Math.floor(t/l),y.length),n=Math.floor(t/e);return o.css("width",n+"px"),m(!0)}var n,i=c.parent().prop("offsetWidth"),r=i-a-1,o=angular.element(y),s=0,l=0,u=[],h=[];return o.css("max-width",""),angular.forEach(y,function(t,e){var o=Math.min(r,t.offsetWidth),a={element:t,left:s,width:o,right:s+o,filler:0};a.page=Math.ceil(a.right/(1===h.length&&e===y.length-1?i:r))-1,a.page>=h.length?(a.filler=r*a.page-a.left,a.right+=a.filler,a.left+=a.filler,n={left:a.left,firstTabIndex:e,lastTabIndex:e,tabs:[a]},h.push(n)):(n.lastTabIndex=e,n.tabs.push(a)),s=a.right,l=Math.max(l,o),u.push(a)}),o.css("max-width",r+"px"),!t&&g()?e():{width:s,max:l,tabs:u,pages:h,tabElements:y}}function v(t){var e=u.indexOf(t);if(-1===e)return 0;var n=C.tabData;return n?n.tabs[e].page:0}function b(t){if(t!==C.page){var e=C.tabData.pages.length-1;return 0>t&&(t=0),t>e&&(t=e),C.hasPrev=t>0,C.hasNext=e>t,C.page=t,s.$broadcast("$mdTabsPaginationChanged"),p(-C.tabData.pages[t].left)}}var y=c[0].getElementsByTagName("md-tab"),x=n.throttle(d),w=c.children(),_=!1,C=s.pagination={page:-1,active:!1,clickNext:function(){_||f(1)},clickPrevious:function(){_||f(-1)}};s.$on("$mdTabsChanged",x),angular.element(e).on("resize",x),s.$on("$destroy",function(){angular.element(e).off("resize",x)}),s.$watch(function(){return u.tabToFocus},h)}var a=64;return{restrict:"A",require:"^mdTabs",link:s}}angular.module("material.components.tabs").directive("mdTabsPagination",t),t.$inject=["$mdConstant","$window","$$rAF","$$q","$timeout","$mdMedia"]}(),function(){"use strict";function t(t,e,n,i,r,o,s,a){function c(){return v(t.$parent)}function l(e,n){g.content.length&&(g.contentContainer.append(g.content),g.contentScope=t.$parent.$new(),e.append(g.contentContainer),i(g.contentContainer)(g.contentScope),n===!0&&a(function(){o.disconnectScope(g.contentScope)},0,!1))}function u(){r.leave(g.contentContainer).then(function(){g.contentScope&&g.contentScope.$destroy(),g.contentScope=null})}function h(t){g.contentContainer[t?"addClass":"removeClass"]("md-transition-rtl")}function f(n){o.reconnectScope(g.contentScope),e.addClass("active").attr({"aria-selected":!0,tabIndex:0}).on("$md.swipeleft $md.swiperight",p),h(n),r.removeClass(g.contentContainer,"ng-hide"),t.onSelect()}function d(n){o.disconnectScope(g.contentScope),e.removeClass("active").attr({"aria-selected":!1,tabIndex:-1}).off("$md.swipeleft $md.swiperight",p),h(n),r.addClass(g.contentContainer,"ng-hide"),t.onDeselect()}function p(e){t.$apply(function(){m.select(/left/.test(e.type)?m.next():m.previous())})}var g=this,m=e.controller("mdTabs");g.contentContainer=angular.element('<div class="md-tab-content ng-hide">'),g.element=e,g.isDisabled=c,g.onAdd=l,g.onRemove=u,g.onSelect=f,g.onDeselect=d;var v=s(n.ngDisabled)}angular.module("material.components.tabs").controller("$mdTab",t),t.$inject=["$scope","$element","$attrs","$compile","$animate","$mdUtil","$parse","$timeout"]}(),function(){"use strict";function t(t,e,n,i,r){function o(o,s){var a=o.find("md-tab-label");a.length?a.remove():a=angular.isDefined(s.label)?angular.element("<md-tab-label>").html(s.label):angular.element("<md-tab-label>").append(o.contents().remove());var c=o.contents().remove();return function(o,s,l,u){function h(){var t=a.clone();s.append(t),e(t)(o.$parent),b.content=c.clone()}function f(){o.$apply(function(){y.select(b),y.focus(b)})}function d(t){t.keyCode==i.KEY_CODE.SPACE||t.keyCode==i.KEY_CODE.ENTER?(s.triggerHandler("click"),t.preventDefault()):t.keyCode===i.KEY_CODE.LEFT_ARROW?o.$evalAsync(function(){y.focus(y.previous(b))}):t.keyCode===i.KEY_CODE.RIGHT_ARROW&&o.$evalAsync(function(){y.focus(y.next(b))})}function p(){o.$watch("$parent.$index",function(t){y.move(b,t)})}function g(){function t(t){var e=y.getSelectedItem()===b;t&&!e?y.select(b):!t&&e&&y.deselect(b)}var e=o.$parent.$watch("!!("+l.mdActive+")",t);o.$on("$destroy",e)}function m(){function t(t){s.attr("aria-disabled",t);var e=y.getSelectedItem()===b;e&&t&&y.select(y.next()||y.previous())}o.$watch(b.isDisabled,t)}function v(){var t=l.id||"tab_"+n.nextUid();if(s.attr({id:t,role:"tab",tabIndex:-1}),c.length){var e="content_"+t;s.attr("aria-controls")||s.attr("aria-controls",e),b.contentContainer.attr({id:e,role:"tabpanel","aria-labelledby":t})}}var b=u[0],y=u[1];r(s.addClass.bind(s,"md-tab-themed"),0,!1),o.$watch(function(){return l.label},function(){r(function(){y.scope.$broadcast("$mdTabsChanged")},0,!1)}),h(),v(),t.attachTabBehavior(o,s,{colorElement:y.inkBarElement}),y.add(b),o.$on("$destroy",function(){y.remove(b)}),s.on("$destroy",function(){r(function(){y.scope.$broadcast("$mdTabsChanged")},0,!1)}),angular.isDefined(l.ngClick)||s.on("click",f),s.on("keydown",d),angular.isNumber(o.$parent.$index)&&p(),angular.isDefined(l.mdActive)&&g(),m()}}return{restrict:"E",require:["mdTab","^mdTabs"],controller:"$mdTab",scope:{onSelect:"&mdOnSelect",onDeselect:"&mdOnDeselect",label:"@"},compile:o}}angular.module("material.components.tabs").directive("mdTab",t),t.$inject=["$mdInkRipple","$compile","$mdUtil","$mdConstant","$timeout"]}(),function(){"use strict";function t(t,e,n){function i(){return v(t.selectedIndex)}function r(){return t.selectedIndex}function o(e,n){p.add(e,n),angular.isDefined(e.element.attr("md-active"))||-1!==t.selectedIndex&&angular.isNumber(t.selectedIndex)&&t.selectedIndex!==g.indexOf(e)?e.onAdd(g.contentArea,!0):(e.onAdd(g.contentArea,!1),g.select(e)),t.$broadcast("$mdTabsChanged")}function s(e,n){if(p.contains(e)&&!n){var r=i()===e,o=f()||h();u(e),p.remove(e),e.onRemove(),t.$broadcast("$mdTabsChanged"),r&&c(o)}}function a(e,n){var r=i()===e;p.remove(e),p.add(e,n),r&&c(e),t.$broadcast("$mdTabsChanged")}function c(e,n){!e||e.isSelected||e.isDisabled()||p.contains(e)&&(angular.isDefined(n)||(n=m(e)<t.selectedIndex),u(i(),n),t.selectedIndex=m(e),e.isSelected=!0,e.onSelect(n),t.$broadcast("$mdTabsChanged"))}function l(t){g.tabToFocus=t}function u(e,n){e&&e.isSelected&&p.contains(e)&&(t.selectedIndex=-1,e.isSelected=!1,e.onDeselect(n))}function h(t,e){return p.next(t||i(),e||d)}function f(t,e){return p.previous(t||i(),e||d)}function d(t){return t&&!t.isDisabled()}var p=n.iterator([],!1),g=this;g.$element=e,g.scope=t;var m=(g.contentArea=angular.element(e[0].querySelector(".md-tabs-content")),g.inRange=p.inRange,g.indexOf=p.indexOf),v=g.itemAt=p.itemAt;g.count=p.count,g.getSelectedItem=i,g.getSelectedIndex=r,g.add=o,g.remove=s,g.move=a,g.select=c,g.focus=l,g.deselect=u,g.next=h,g.previous=f,t.$on("$destroy",function(){u(i());for(var t=p.count()-1;t>=0;t--)s(p[t],!0)})}angular.module("material.components.tabs").controller("$mdTabs",t),t.$inject=["$scope","$element","$mdUtil","$timeout"]}(),function(){"use strict";function t(t){function e(e,n,i,r,o){function s(){n.attr("role","tablist")}function a(){e.$watch("selectedIndex",function(t,e){if(e!=t){var n=e>t;if(r.deselect(r.itemAt(e),n),r.inRange(t)){for(var i=r.itemAt(t);i&&i.isDisabled();)i=t>e?r.next(i):r.previous(i);r.select(i,n)}}})}e.stretchTabs=i.hasOwnProperty("mdStretchTabs")?i.mdStretchTabs||"always":"auto",t(n),s(),a(),o(e.$parent,function(t){angular.element(n[0].querySelector(".md-header-items")).append(t)})}return{restrict:"E",controller:"$mdTabs",require:"mdTabs",transclude:!0,scope:{selectedIndex:"=?mdSelected"},template:'<section class="md-header" ng-class="{\'md-paginating\': pagination.active}"><button class="md-paginator md-prev" ng-if="pagination.active && pagination.hasPrev" ng-click="pagination.clickPrevious()" aria-hidden="true"><md-icon md-svg-icon="tabs-arrow"></md-icon></button><div class="md-header-items-container" md-tabs-pagination><div class="md-header-items"><md-tabs-ink-bar></md-tabs-ink-bar></div></div><button class="md-paginator md-next" ng-if="pagination.active && pagination.hasNext" ng-click="pagination.clickNext()" aria-hidden="true"><md-icon md-svg-icon="tabs-arrow"></md-icon></button></section><section class="md-tabs-content"></section>',link:e}}angular.module("material.components.tabs").directive("mdTabs",t),t.$inject=["$mdTheming"]}(),angular.module("material.core").constant("$MD_THEME_CSS","md-autocomplete {  background: '{{background-50}}'; }  md-autocomplete button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete button:after {    background: '{{background-600-0.3}}'; }  md-autocomplete ul {    background: '{{background-50}}'; }    md-autocomplete ul li {      border-top: 1px solid '{{background-400}}';      color: '{{background-900}}'; }      md-autocomplete ul li .highlight {        color: '{{background-600}}'; }      md-autocomplete ul li:hover, md-autocomplete ul li.selected {        background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-toolbar .md-button.md-THEME_NAME-theme.md-fab {  background-color: white; }.md-button.md-THEME_NAME-theme {  border-radius: 3px; }  .md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):focus {    background-color: '{{background-500-0.2}}'; }  .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):focus {        background-color: '{{primary-600}}'; }  .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):focus {      background-color: '{{accent-A700}}'; }  .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):focus {      background-color: '{{background-200}}'; }  .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):focus {        background-color: '{{warn-700}}'; }  .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):focus, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):focus {        background-color: '{{accent-700}}'; }  .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    color: '{{foreground-3}}';    background-color: transparent;    cursor: not-allowed; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }md-card.md-THEME_NAME-theme {  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-hue-3}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-hue-3}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme.md-primary {  color: '{{primary-color}}'; }md-icon.md-THEME_NAME-theme.md-accent {  color: '{{accent-color}}'; }md-icon.md-THEME_NAME-theme.md-warn {  color: '{{warn-color}}'; }md-icon.md-THEME_NAME-theme.md-danger {  color: '{{danger-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-4}}' 0%, '{{foreground-4}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-4}}' 100%); }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {  border-color: '{{foreground-3}}'; }md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {  border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme:focus:not(:empty) {  border-color: '{{foreground-1}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label.md-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-label {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-label {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-label {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-label.md-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme .md-select-label {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-label.md-placeholder {    color: '{{foreground-2}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  background-color: '{{primary-50}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    background-color: '{{primary-100}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    background-color: '{{accent-50}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      background-color: '{{accent-100}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-hue-3}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-hue-3}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-switch.md-THEME_NAME-theme:focus .md-label:not(:empty) {  border-color: '{{foreground-1}}';  border-style: dotted; }md-tabs.md-THEME_NAME-theme .md-header {  background-color: transparent; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent .md-header {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab:not([disabled]).active {    color: '{{accent-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-primary .md-header {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab:not([disabled]).active {    color: '{{primary-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab:focus {    color: '{{primary-contrast}}';    background-color: '{{primary-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab.active {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab .md-ripple-container {    color: '{{primary-contrast}}'; }md-tabs.md-THEME_NAME-theme.md-warn .md-header {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab:not([disabled]).active {    color: '{{warn-contrast}}'; }md-tabs.md-THEME_NAME-theme md-tabs-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme md-tab:focus {    color: '{{foreground-1}}'; }  md-tabs.md-THEME_NAME-theme md-tab.active {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-input-group.md-THEME_NAME-theme input, md-input-group.md-THEME_NAME-theme textarea {  text-shadow: '{{foreground-shadow}}'; }  md-input-group.md-THEME_NAME-theme input::-webkit-input-placeholder, md-input-group.md-THEME_NAME-theme input::-moz-placeholder, md-input-group.md-THEME_NAME-theme input:-moz-placeholder, md-input-group.md-THEME_NAME-theme input:-ms-input-placeholder, md-input-group.md-THEME_NAME-theme textarea::-webkit-input-placeholder, md-input-group.md-THEME_NAME-theme textarea::-moz-placeholder, md-input-group.md-THEME_NAME-theme textarea:-moz-placeholder, md-input-group.md-THEME_NAME-theme textarea:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-group.md-THEME_NAME-theme label {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-group.md-THEME_NAME-theme input, md-input-group.md-THEME_NAME-theme textarea {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused input, md-input-group.md-THEME_NAME-theme.md-input-focused textarea {  border-color: '{{primary-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused label {  color: '{{primary-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent input, md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent textarea {  border-color: '{{accent-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-group.md-THEME_NAME-theme.md-input-has-value:not(.md-input-focused) label {  color: '{{foreground-2}}'; }md-input-group.md-THEME_NAME-theme .md-input[disabled] {  border-bottom-color: '{{foreground-4}}';  color: '{{foreground-3}}'; }md-toast.md-THEME_NAME-theme {  background-color: '{{foreground-1}}';  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");
var fabric=fabric||{version:"1.4.13"};"undefined"!=typeof exports&&(exports.fabric=fabric),"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=require("jsdom").jsdom("<!DOCTYPE html><html><head></head><body></body></html>"),fabric.window=fabric.document.createWindow?fabric.document.createWindow():fabric.document.parentWindow),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)";var Cufon=function(){function t(t){var e=this.face=t.face;this.glyphs=t.glyphs,this.w=t.w,this.baseSize=parseInt(e["units-per-em"],10),this.family=e["font-family"].toLowerCase(),this.weight=e["font-weight"],this.style=e["font-style"]||"normal",this.viewBox=function(){var t=e.bbox.split(/\s+/),n={minX:parseInt(t[0],10),minY:parseInt(t[1],10),maxX:parseInt(t[2],10),maxY:parseInt(t[3],10)};return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.toString=function(){return[this.minX,this.minY,this.width,this.height].join(" ")},n}(),this.ascent=-parseInt(e.ascent,10),this.descent=-parseInt(e.descent,10),this.height=-this.ascent+this.descent}function e(){var t={},e={oblique:"italic",italic:"oblique"};this.add=function(e){(t[e.style]||(t[e.style]={}))[e.weight]=e},this.get=function(n,i){var r=t[n]||t[e[n]]||t.normal||t.italic||t.oblique;if(!r)return null;if(i={normal:400,bold:700}[i]||parseInt(i,10),r[i])return r[i];var o,s,a={1:1,99:0}[i%100],c=[];void 0===a&&(a=i>400),500==i&&(i=400);for(var l in r)l=parseInt(l,10),(!o||o>l)&&(o=l),(!s||l>s)&&(s=l),c.push(l);return o>i&&(i=o),i>s&&(i=s),c.sort(function(t,e){return(a?t>i&&e>i?e>t:t>e:i>t&&i>e?t>e:e>t)?-1:1}),r[c[0]]}}function n(){function t(t,e){return t.contains?t.contains(e):16&t.compareDocumentPosition(e)}function e(e){var n=e.relatedTarget;n&&!t(this,n)&&i(this)}function n(){i(this)}function i(t){setTimeout(function(){d.replace(t,v.get(t).options,!0)},10)}this.attach=function(t){void 0===t.onmouseenter?(o(t,"mouseover",e),o(t,"mouseout",e)):(o(t,"mouseenter",n),o(t,"mouseleave",n))}}function i(){function t(t){return t.cufid||(t.cufid=++n)}var e={},n=0;this.get=function(n){var i=t(n);return e[i]||(e[i]={})}}function r(t){var e={},n={};this.get=function(n){return void 0!=e[n]?e[n]:t[n]},this.getSize=function(t,e){return n[t]||(n[t]=new g.Size(this.get(t),e))},this.extend=function(t){for(var n in t)e[n]=t[n];return this}}function o(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){return n.call(t,fabric.window.event)})}function s(t,e){var n=v.get(t);return n.options?t:(e.hover&&e.hoverables[t.nodeName.toLowerCase()]&&b.attach(t),n.options=e,t)}function a(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.apply(null,arguments)),e[n]}}function c(t,e){e||(e=g.getStyle(t));for(var n,i=g.quotedList(e.get("fontFamily").toLowerCase()),r=0,o=i.length;o>r;++r)if(n=i[r],w[n])return w[n].get(e.get("fontStyle"),e.get("fontWeight"));return null}function l(t){return fabric.document.getElementsByTagName(t)}function u(){for(var t,e={},n=0,i=arguments.length;i>n;++n)for(t in arguments[n])e[t]=arguments[n][t];return e}function h(t,e,n,i,r,o){var s=i.separate;if("none"==s)return x[i.engine].apply(null,arguments);var a,c=fabric.document.createDocumentFragment(),l=e.split(C[s]),u="words"==s;u&&m&&(/^\s/.test(e)&&l.unshift(""),/\s$/.test(e)&&l.push(""));for(var h=0,f=l.length;f>h;++h)a=x[i.engine](t,u?g.textAlign(l[h],n,h,f):l[h],n,i,r,o,f-1>h),a&&c.appendChild(a);return c}function f(t,e){for(var n,i,r,o,a=s(t,e).firstChild;a;a=r){if(r=a.nextSibling,o=!1,1==a.nodeType){if(!a.firstChild)continue;if(!/cufon/.test(a.className)){arguments.callee(a,e);continue}o=!0}if(i||(i=g.getStyle(t).extend(e)),n||(n=c(t,i)),n)if(o)x[e.engine](n,null,i,e,a,t);else{var l=a.data;if("undefined"!=typeof G_vmlCanvasManager&&(l=l.replace(/\r/g,"\n")),""!==l){var u=h(n,l,i,e,a,t);u?a.parentNode.replaceChild(u,a):a.parentNode.removeChild(a)}}}}var d=function(){return d.replace.apply(null,arguments)},p=d.DOM={ready:function(){var t=!1,e={loaded:1,complete:1},n=[],i=function(){if(!t){t=!0;for(var e;e=n.shift();e());}};return fabric.document.addEventListener&&(fabric.document.addEventListener("DOMContentLoaded",i,!1),fabric.window.addEventListener("pageshow",i,!1)),!fabric.window.opera&&fabric.document.readyState&&function(){e[fabric.document.readyState]?i():setTimeout(arguments.callee,10)}(),fabric.document.readyState&&fabric.document.createStyleSheet&&function(){try{fabric.document.body.doScroll("left"),i()}catch(t){setTimeout(arguments.callee,1)}}(),o(fabric.window,"load",i),function(e){arguments.length?t?e():n.push(e):i()}}()},g=d.CSS={Size:function(t,e){this.value=parseFloat(t),this.unit=String(t).match(/[a-z%]*$/)[0]||"px",this.convert=function(t){return t/e*this.value},this.convertFrom=function(t){return t/this.value*e},this.toString=function(){return this.value+this.unit}},getStyle:function(t){return new r(t.style)},quotedList:a(function(t){for(var e,n=[],i=/\s*((["'])([\s\S]*?[^\\])\2|[^,]+)\s*/g;e=i.exec(t);)n.push(e[3]||e[1]);return n}),ready:function(){var t=!1,e=[],n=function(){t=!0;for(var n;n=e.shift();n());},i=Object.prototype.propertyIsEnumerable?l("style"):{length:0},r=l("link");return p.ready(function(){for(var t,e=0,o=0,s=r.length;t=r[o],s>o;++o)t.disabled||"stylesheet"!=t.rel.toLowerCase()||++e;fabric.document.styleSheets.length>=i.length+e?n():setTimeout(arguments.callee,10)}),function(n){t?n():e.push(n)}}(),supports:function(t,e){var n=fabric.document.createElement("span").style;return void 0===n[t]?!1:(n[t]=e,n[t]===e)},textAlign:function(t,e,n,i){return"right"==e.get("textAlign")?n>0&&(t=" "+t):i-1>n&&(t+=" "),t},textDecoration:function(t,e){e||(e=this.getStyle(t));for(var n={underline:null,overline:null,"line-through":null},i=t;i.parentNode&&1==i.parentNode.nodeType;){var r=!0;for(var o in n)n[o]||(-1!=e.get("textDecoration").indexOf(o)&&(n[o]=e.get("color")),r=!1);if(r)break;e=this.getStyle(i=i.parentNode)}return n},textShadow:a(function(t){if("none"==t)return null;for(var e,n=[],i={},r=0,o=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/gi;e=o.exec(t);)","==e[0]?(n.push(i),i={},r=0):e[1]?i.color=e[1]:i[["offX","offY","blur"][r++]]=e[2];return n.push(i),n}),color:a(function(t){var e={};return e.color=t.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(t,n,i){return e.opacity=parseFloat(i),"rgb("+n+")"}),e}),textTransform:function(t,e){return t[{uppercase:"toUpperCase",lowercase:"toLowerCase"}[e.get("textTransform")]||"toString"]()}},m=0==" ".split(/\s+/).length,v=new i,b=new n,y=[],x={},w={},_={engine:null,hover:!1,hoverables:{a:!0},printable:!0,selector:fabric.window.Sizzle||fabric.window.jQuery&&function(t){return jQuery(t)}||fabric.window.dojo&&dojo.query||fabric.window.$$&&function(t){return $$(t)}||fabric.window.$&&function(t){return $(t)}||fabric.document.querySelectorAll&&function(t){return fabric.document.querySelectorAll(t)}||l,separate:"words",textShadow:"none"},C={words:/\s+/,characters:""};return d.now=function(){return p.ready(),d},d.refresh=function(){for(var t=y.splice(0,y.length),e=0,n=t.length;n>e;++e)d.replace.apply(null,t[e]);return d},d.registerEngine=function(t,e){return e?(x[t]=e,d.set("engine",t)):d},d.registerFont=function(n){var i=new t(n),r=i.family;return w[r]||(w[r]=new e),w[r].add(i),d.set("fontFamily",'"'+r+'"')},d.replace=function(t,e,n){return e=u(_,e),e.engine?("string"==typeof e.textShadow&&e.textShadow&&(e.textShadow=g.textShadow(e.textShadow)),n||y.push(arguments),(t.nodeType||"string"==typeof t)&&(t=[t]),g.ready(function(){for(var n=0,i=t.length;i>n;++n){var r=t[n];"string"==typeof r?d.replace(e.selector(r),e,!0):f(r,e)}}),d):d},d.replaceElement=function(t,e){return e=u(_,e),"string"==typeof e.textShadow&&e.textShadow&&(e.textShadow=g.textShadow(e.textShadow)),f(t,e)},d.engines=x,d.fonts=w,d.getOptions=function(){return u(_)},d.set=function(t,e){return _[t]=e,d},d}();if(Cufon.registerEngine("canvas",function(){function t(t,e){var n,i=0,r=0,o=[],s=/([mrvxe])([^a-z]*)/g;t:for(var a=0;n=s.exec(t);++a){var c=n[2].split(",");switch(n[1]){case"v":o[a]={m:"bezierCurveTo",a:[i+~~c[0],r+~~c[1],i+~~c[2],r+~~c[3],i+=~~c[4],r+=~~c[5]]};break;case"r":o[a]={m:"lineTo",a:[i+=~~c[0],r+=~~c[1]]};break;case"m":o[a]={m:"moveTo",a:[i=~~c[0],r=~~c[1]]};break;case"x":o[a]={m:"closePath",a:[]};break;case"e":break t}e[o[a].m].apply(e,o[a].a)}return o}function e(t,e){for(var n=0,i=t.length;i>n;++n){var r=t[n];e[r.m].apply(e,r.a)}}var n=Cufon.CSS.supports("display","inline-block"),i=!n&&("BackCompat"==fabric.document.compatMode||/frameset|transitional/i.test(fabric.document.doctype.publicId)),r=fabric.document.createElement("style");r.type="text/css";var o=fabric.document.createTextNode(".cufon-canvas{text-indent:0}@media screen,projection{.cufon-canvas{display:inline;display:inline-block;position:relative;vertical-align:middle"+(i?"":";font-size:1px;line-height:1px")+"}.cufon-canvas .cufon-alt{display:-moz-inline-box;display:inline-block;width:0;height:0;overflow:hidden}"+(n?".cufon-canvas canvas{position:relative}":".cufon-canvas canvas{position:absolute}")+"}@media print{.cufon-canvas{padding:0 !important}.cufon-canvas canvas{display:none}.cufon-canvas .cufon-alt{display:inline}}");try{r.appendChild(o)}catch(s){r.setAttribute("type","text/css"),r.styleSheet.cssText=o.data}return fabric.document.getElementsByTagName("head")[0].appendChild(r),function(i,r,o,s,a){function c(){Y.save();var t=0,e=0,n=[{left:0}];s.backgroundColor&&(Y.save(),Y.fillStyle=s.backgroundColor,Y.translate(0,i.ascent),Y.fillRect(0,0,E+10,(-i.ascent+i.descent)*A),Y.restore()),"right"===s.textAlign?(Y.translate(P[e],0),n[0].left=P[e]*U):"center"===s.textAlign&&(Y.translate(P[e]/2,0),n[0].left=P[e]/2*U);for(var r=0,o=S.length;o>r;++r)if("\n"!==S[r]){var a=i.glyphs[S[r]]||i.missingGlyph;if(a){var c=Number(a.w||i.w)+d;s.textBackgroundColor&&(Y.save(),Y.fillStyle=s.textBackgroundColor,Y.translate(0,i.ascent),Y.fillRect(0,0,c+10,-i.ascent+i.descent),Y.restore()),Y.translate(c,0),t+=c,r==o-1&&(n[n.length-1].width=t*U,n[n.length-1].height=(-i.ascent+i.descent)*U)}}else{e++;var l=-i.ascent-i.ascent/5*s.lineHeight,u=n[n.length-1],h={left:0};u.width=t*U,u.height=(-i.ascent+i.descent)*U,"right"===s.textAlign?(Y.translate(-E,l),Y.translate(P[e],0),h.left=P[e]*U):"center"===s.textAlign?(Y.translate(-t-P[e-1]/2,l),Y.translate(P[e]/2,0),h.left=P[e]/2*U):Y.translate(-t,l),n.push(h),t=0}Y.restore(),Cufon.textOptions.boundaries=n}function l(n){Y.fillStyle=n||Cufon.textOptions.color||o.get("color");var r=0,a=0;"right"===s.textAlign?Y.translate(P[a],0):"center"===s.textAlign&&Y.translate(P[a]/2,0);for(var c=0,l=S.length;l>c;++c)if("\n"!==S[c]){var u=i.glyphs[S[c]]||i.missingGlyph;if(u){var h=Number(u.w||i.w)+d;q&&(Y.save(),Y.strokeStyle=Y.fillStyle,Y.lineWidth+=Y.lineWidth,Y.beginPath(),q.underline&&(Y.moveTo(0,-i.face["underline-position"]+.5),Y.lineTo(h,-i.face["underline-position"]+.5)),q.overline&&(Y.moveTo(0,i.ascent+.5),Y.lineTo(h,i.ascent+.5)),q["line-through"]&&(Y.moveTo(0,-i.descent+.5),Y.lineTo(h,-i.descent+.5)),Y.stroke(),Y.restore()),G&&(Y.save(),Y.transform(1,0,-.25,1,0,0)),Y.beginPath(),u.d&&(u.code?e(u.code,Y):u.code=t("m"+u.d,Y)),Y.fill(),s.strokeStyle&&(Y.closePath(),Y.save(),Y.lineWidth=s.strokeWidth,Y.strokeStyle=s.strokeStyle,Y.stroke(),Y.restore()),G&&Y.restore(),Y.translate(h,0),r+=h}}else{a++;var f=-i.ascent-i.ascent/5*s.lineHeight;"right"===s.textAlign?(Y.translate(-E,f),Y.translate(P[a],0)):"center"===s.textAlign?(Y.translate(-r-P[a-1]/2,f),Y.translate(P[a]/2,0)):Y.translate(-r,f),r=0}}var u=null===r,h=i.viewBox,f=o.getSize("fontSize",i.baseSize),d=o.get("letterSpacing");d="normal"==d?0:f.convertFrom(parseInt(d,10));var p=0,g=0,m=0,v=0,b=s.textShadow,y=[];if(Cufon.textOptions.shadowOffsets=[],Cufon.textOptions.shadows=null,b){Cufon.textOptions.shadows=b;for(var x=0,w=b.length;w>x;++x){var _=b[x],C=f.convertFrom(parseFloat(_.offX)),$=f.convertFrom(parseFloat(_.offY));y[x]=[C,$]}}for(var S=Cufon.CSS.textTransform(u?a.alt:r,o).split(""),E=0,T=null,k=0,A=1,M=[],x=0,w=S.length;w>x;++x)if("\n"!==S[x]){var O=i.glyphs[S[x]]||i.missingGlyph;O&&(E+=T=Number(O.w||i.w)+d)}else A++,E>k&&(k=E),M.push(E),E=0;M.push(E),E=Math.max(k,E);for(var P=[],x=M.length;x--;)P[x]=E-M[x];if(null===T)return null;g+=h.width-T,v+=h.minX;var D,j;if(u)D=a,j=a.firstChild;else if(D=fabric.document.createElement("span"),D.className="cufon cufon-canvas",D.alt=r,j=fabric.document.createElement("canvas"),D.appendChild(j),s.printable){var I=fabric.document.createElement("span");I.className="cufon-alt",I.appendChild(fabric.document.createTextNode(r)),D.appendChild(I)}var N=D.style,L=j.style||{},H=f.convert(h.height-p+m),R=Math.ceil(H),F=R/H;j.width=Math.ceil(f.convert(E+g-v)*F),j.height=R,p+=h.minY,L.top=Math.round(f.convert(p-i.ascent))+"px",L.left=Math.round(f.convert(v))+"px";var B=Math.ceil(f.convert(E*F)),W=B+"px",z=f.convert(i.height),X=(s.lineHeight-1)*f.convert(-i.ascent/5)*(A-1);Cufon.textOptions.width=B,Cufon.textOptions.height=z*A+X,Cufon.textOptions.lines=A,Cufon.textOptions.totalLineHeight=X,n?(N.width=W,N.height=z+"px"):(N.paddingLeft=W,N.paddingBottom=z-1+"px");var Y=Cufon.textOptions.context||j.getContext("2d"),U=R/h.height;Cufon.textOptions.fontAscent=i.ascent*U,Cufon.textOptions.boundaries=null;for(var V=Cufon.textOptions.shadowOffsets,x=y.length;x--;)V[x]=[y[x][0]*U,y[x][1]*U];Y.save(),Y.scale(U,U),Y.translate(-v-1/U*j.width/2+(Cufon.fonts[i.family].offsetLeft||0),-p-Cufon.textOptions.height/U/2+(Cufon.fonts[i.family].offsetTop||0)),Y.lineWidth=i.face["underline-thickness"],Y.save();var q=Cufon.getTextDecoration(s),G="italic"===s.fontStyle;if(Y.save(),c(),b)for(var x=0,w=b.length;w>x;++x){var _=b[x];Y.save(),Y.translate.apply(Y,y[x]),l(_.color),Y.restore()}return l(),Y.restore(),Y.restore(),Y.restore(),D}}()),Cufon.registerEngine("vml",function(){function t(t,n){return e(t,/(?:em|ex|%)$/i.test(n)?"1em":n)}function e(t,e){if(/px$/i.test(e))return parseFloat(e);var n=t.style.left,i=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=e;var r=t.style.pixelLeft;return t.style.left=n,t.runtimeStyle.left=i,r}if(fabric.document.namespaces){var n=fabric.document.createElement("canvas");if(!(n&&n.getContext&&n.getContext.apply)){null==fabric.document.namespaces.cvml&&fabric.document.namespaces.add("cvml","urn:schemas-microsoft-com:vml");var i=fabric.document.createElement("cvml:shape");if(i.style.behavior="url(#default#VML)",i.coordsize)return i=null,fabric.document.write('<style type="text/css">.cufon-vml-canvas{text-indent:0}@media screen{cvml\\:shape,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute}.cufon-vml-canvas{position:absolute;text-align:left}.cufon-vml{display:inline-block;position:relative;vertical-align:middle}.cufon-vml .cufon-alt{position:absolute;left:-10000in;font-size:1px}a .cufon-vml{cursor:pointer}}@media print{.cufon-vml *{display:none}.cufon-vml .cufon-alt{display:inline}}</style>'),function(n,i,r,o,s,a,c){var l=null===i;l&&(i=s.alt);var u=n.viewBox,h=r.computedFontSize||(r.computedFontSize=new Cufon.CSS.Size(t(a,r.get("fontSize"))+"px",n.baseSize)),f=r.computedLSpacing;void 0==f&&(f=r.get("letterSpacing"),r.computedLSpacing=f="normal"==f?0:~~h.convertFrom(e(a,f)));var d,p;if(l)d=s,p=s.firstChild;else{if(d=fabric.document.createElement("span"),d.className="cufon cufon-vml",d.alt=i,p=fabric.document.createElement("span"),p.className="cufon-vml-canvas",d.appendChild(p),o.printable){var g=fabric.document.createElement("span");g.className="cufon-alt",g.appendChild(fabric.document.createTextNode(i)),d.appendChild(g)}c||d.appendChild(fabric.document.createElement("cvml:shape"))}var m=d.style,v=p.style,b=h.convert(u.height),y=Math.ceil(b),x=y/b,w=u.minX,_=u.minY;v.height=y,v.top=Math.round(h.convert(_-n.ascent)),v.left=Math.round(h.convert(w)),m.height=h.convert(n.height)+"px";for(var C,$,S=(Cufon.getTextDecoration(o),r.get("color")),E=Cufon.CSS.textTransform(i,r).split(""),T=0,k=0,A=null,M=o.textShadow,O=0,P=0,D=E.length;D>O;++O)C=n.glyphs[E[O]]||n.missingGlyph,C&&(T+=A=~~(C.w||n.w)+f);if(null===A)return null;var j,I=-w+T+(u.width-A),N=h.convert(I*x),L=Math.round(N),H=I+","+u.height,R="r"+H+"nsnf";for(O=0;D>O;++O)if(C=n.glyphs[E[O]]||n.missingGlyph){l?($=p.childNodes[P],$.firstChild&&$.removeChild($.firstChild)):($=fabric.document.createElement("cvml:shape"),p.appendChild($)),$.stroked="f",$.coordsize=H,$.coordorigin=j=w-k+","+_,$.path=(C.d?"m"+C.d+"xe":"")+"m"+j+R,$.fillcolor=S;var F=$.style;if(F.width=L,F.height=y,M){var B,W=M[0],z=M[1],X=Cufon.CSS.color(W.color),Y=fabric.document.createElement("cvml:shadow");Y.on="t",Y.color=X.color,Y.offset=W.offX+","+W.offY,z&&(B=Cufon.CSS.color(z.color),Y.type="double",Y.color2=B.color,Y.offset2=z.offX+","+z.offY),Y.opacity=X.opacity||B&&B.opacity||1,$.appendChild(Y)}k+=~~(C.w||n.w)+f,++P}return m.width=Math.max(Math.ceil(h.convert(T*x)),0),d}}}}()),Cufon.getTextDecoration=function(t){return{underline:"underline"===t.textDecoration,overline:"overline"===t.textDecoration,"line-through":"line-through"===t.textDecoration}},"undefined"!=typeof exports&&(exports.Cufon=Cufon),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,s,a=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)s[n]=str(n,c)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,c),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(r=str(i,c),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),"undefined"==typeof eventjs)var eventjs={};if(function(t){"use strict";t.modifyEventListener=!1,t.modifySelectors=!1,t.configure=function(e){isFinite(e.modifyEventListener)&&(t.modifyEventListener=e.modifyEventListener),isFinite(e.modifySelectors)&&(t.modifySelectors=e.modifySelectors),d===!1&&t.modifyEventListener&&p(),g===!1&&t.modifySelectors&&m()},t.add=function(t,e,i,r){return n(t,e,i,r,"add")},t.remove=function(t,e,i,r){return n(t,e,i,r,"remove")},t.returnFalse=function(){return!1},t.stop=function(t){t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.cancelBubbleCount=0)},t.prevent=function(t){t&&(t.preventDefault?t.preventDefault():t.preventManipulation?t.preventManipulation():t.returnValue=!1)},t.cancel=function(e){t.stop(e),t.prevent(e)},t.blur=function(){var t=document.activeElement;if(t){var e=document.activeElement.nodeName;("INPUT"===e||"TEXTAREA"===e||"true"===t.contentEditable)&&t.blur&&t.blur()}},t.getEventSupport=function(t,e){if("string"==typeof t&&(e=t,t=window),e="on"+e,e in t)return!0;if(t.setAttribute||(t=document.createElement("div")),t.setAttribute&&t.removeAttribute){t.setAttribute(e,"");var n="function"==typeof t[e];return"undefined"!=typeof t[e]&&(t[e]=null),t.removeAttribute(e),n}};var e=function(t){if(!t||"object"!=typeof t)return t;var n=new t.constructor;for(var i in t)n[i]=t[i]&&"object"==typeof t[i]?e(t[i]):t[i];return n},n=function(o,s,l,d,p,g){if(d=d||{},"[object Object]"===String(o)){var m=o;if(o=m.target,delete m.target,!m.type||!m.listener){for(var v in m){var b=m[v];"function"!=typeof b&&(d[v]=b)}var y={};for(var x in m){var v=x.split(","),w=m[x],_={};for(var C in d)_[C]=d[C];if("function"==typeof w)var l=w;else{if("function"!=typeof w.listener)continue;var l=w.listener;for(var C in w)"function"!=typeof w[C]&&(_[C]=w[C])}for(var $=0;$<v.length;$++)y[x]=eventjs.add(o,v[$],l,_,p)}return y}s=m.type,delete m.type,l=m.listener,delete m.listener;for(var x in m)d[x]=m[x]}if(o&&s&&l){if("string"==typeof o&&"ready"===s){if(!window.eventjs_stallOnReady){var S=(new Date).getTime(),E=d.timeout,T=d.interval||1e3/60,k=window.setInterval(function(){(new Date).getTime()-S>E&&window.clearInterval(k),document.querySelector(o)&&(window.clearInterval(k),setTimeout(l,1))},T);return}s="load",o=window}if("string"==typeof o){if(o=document.querySelectorAll(o),0===o.length)return r("Missing target on listener!",arguments);1===o.length&&(o=o[0])}var A,M={};if(o.length>0&&o!==window){for(var O=0,P=o.length;P>O;O++)A=n(o[O],s,l,e(d),p),A&&(M[O]=A);return i(M)}if("string"==typeof s&&(s=s.toLowerCase(),-1!==s.indexOf(" ")?s=s.split(" "):-1!==s.indexOf(",")&&(s=s.split(","))),"string"!=typeof s){if("number"==typeof s.length)for(var D=0,j=s.length;j>D;D++)A=n(o,s[D],l,e(d),p),A&&(M[s[D]]=A);else for(var x in s)A="function"==typeof s[x]?n(o,x,s[x],e(d),p):n(o,x,s[x].listener,e(s[x]),p),A&&(M[x]=A);return i(M)}if(0===s.indexOf("on")&&(s=s.substr(2)),"object"!=typeof o)return r("Target is not defined!",arguments);if("function"!=typeof l)return r("Listener is not a function!",arguments);var I=d.useCapture||!1,N=u(o)+"."+u(l)+"."+(I?1:0);if(t.Gesture&&t.Gesture._gestureHandlers[s]){if(N=s+N,"remove"===p){if(!c[N])return;c[N].remove(),delete c[N]}else if("add"===p){if(c[N])return c[N].add(),c[N];if(d.useCall&&!t.modifyEventListener){var L=l;l=function(t,e){for(var n in e)t[n]=e[n];return L.call(o,t)}}d.gesture=s,d.target=o,d.listener=l,d.fromOverwrite=g,c[N]=t.proxy[s](d)}return c[N]}for(var H,R=a(s),$=0;$<R.length;$++)if(s=R[$],H=s+"."+N,"remove"===p){if(!c[H])continue;o[f](s,l,I),delete c[H]}else if("add"===p){if(c[H])return c[H];o[h](s,l,I),c[H]={id:H,type:s,target:o,listener:l,remove:function(){for(var e=0;e<R.length;e++)t.remove(o,R[e],l,d)}}}return c[H]}},i=function(t){return{remove:function(){for(var e in t)t[e].remove()},add:function(){for(var e in t)t[e].add()}}},r=function(t,e){"undefined"!=typeof console&&"undefined"!=typeof console.error&&console.error(t,e)},o={msPointer:["MSPointerDown","MSPointerMove","MSPointerUp"],touch:["touchstart","touchmove","touchend"],mouse:["mousedown","mousemove","mouseup"]},s={MSPointerDown:0,MSPointerMove:1,MSPointerUp:2,touchstart:0,touchmove:1,touchend:2,mousedown:0,mousemove:1,mouseup:2},a=(function(){t.supports={},window.navigator.msPointerEnabled&&(t.supports.msPointer=!0),t.getEventSupport("touchstart")&&(t.supports.touch=!0),t.getEventSupport("mousedown")&&(t.supports.mouse=!0)}(),function(){return function(e){var n=document.addEventListener?"":"on",i=s[e];if(isFinite(i)){var r=[];for(var a in t.supports)r.push(n+o[a][i]);return r}return[n+e]}}()),c={},l=0,u=function(t){return t===window?"#window":t===document?"#document":(t.uniqueID||(t.uniqueID="e"+l++),t.uniqueID)},h=document.addEventListener?"addEventListener":"attachEvent",f=document.removeEventListener?"removeEventListener":"detachEvent";t.createPointerEvent=function(e,n,i){var r=n.gesture,o=n.target,s=e.changedTouches||t.proxy.getCoords(e);if(s.length){var a=s[0];n.pointers=i?[]:s,n.pageX=a.pageX,n.pageY=a.pageY,n.x=n.pageX,n.y=n.pageY}var c=document.createEvent("Event");c.initEvent(r,!0,!0),c.originalEvent=e;for(var l in n)"target"!==l&&(c[l]=n[l]);var u=c.type;t.Gesture&&t.Gesture._gestureHandlers[u]&&n.oldListener.call(o,c,n,!1)};var d=!1,p=function(){if(window.HTMLElement){var e=function(e){var i=function(i){var r=i+"EventListener",o=e[r];e[r]=function(e,r,s){if(t.Gesture&&t.Gesture._gestureHandlers[e]){var c=s;"object"==typeof s?c.useCall=!0:c={useCall:!0,useCapture:s},n(this,e,r,c,i,!0)}else for(var l=a(e),u=0;u<l.length;u++)o.call(this,l[u],r,s)}};i("add"),i("remove")};navigator.userAgent.match(/Firefox/)?(e(HTMLDivElement.prototype),e(HTMLCanvasElement.prototype)):e(HTMLElement.prototype),e(document),e(window)}},g=!1,m=function(){var t=NodeList.prototype;t.removeEventListener=function(t,e,n){for(var i=0,r=this.length;r>i;i++)this[i].removeEventListener(t,e,n)},t.addEventListener=function(t,e,n){for(var i=0,r=this.length;r>i;i++)this[i].addEventListener(t,e,n)}};return t}(eventjs),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";t.pointerSetup=function(t,e){t.target=t.target||window,t.doc=t.target.ownerDocument||t.target,t.minFingers=t.minFingers||t.fingers||1,t.maxFingers=t.maxFingers||t.fingers||1/0,t.position=t.position||"relative",delete t.fingers,e=e||{},e.enabled=!0,e.gesture=t.gesture,e.target=t.target,e.env=t.env,eventjs.modifyEventListener&&t.fromOverwrite&&(t.oldListener=t.listener,t.listener=eventjs.createPointerEvent);var n=0,i=0===e.gesture.indexOf("pointer")&&eventjs.modifyEventListener?"pointer":"mouse";return t.oldListener&&(e.oldListener=t.oldListener),e.listener=t.listener,e.proxy=function(n){e.defaultListener=t.listener,t.listener=n,n(t.event,e)},e.add=function(){e.enabled!==!0&&(t.onPointerDown&&eventjs.add(t.target,i+"down",t.onPointerDown),t.onPointerMove&&eventjs.add(t.doc,i+"move",t.onPointerMove),t.onPointerUp&&eventjs.add(t.doc,i+"up",t.onPointerUp),e.enabled=!0)},e.remove=function(){e.enabled!==!1&&(t.onPointerDown&&eventjs.remove(t.target,i+"down",t.onPointerDown),t.onPointerMove&&eventjs.remove(t.doc,i+"move",t.onPointerMove),t.onPointerUp&&eventjs.remove(t.doc,i+"up",t.onPointerUp),e.reset(),e.enabled=!1)},e.pause=function(e){!t.onPointerMove||e&&!e.move||eventjs.remove(t.doc,i+"move",t.onPointerMove),!t.onPointerUp||e&&!e.up||eventjs.remove(t.doc,i+"up",t.onPointerUp),n=t.fingers,t.fingers=0},e.resume=function(e){!t.onPointerMove||e&&!e.move||eventjs.add(t.doc,i+"move",t.onPointerMove),!t.onPointerUp||e&&!e.up||eventjs.add(t.doc,i+"up",t.onPointerUp),t.fingers=n},e.reset=function(){t.tracker={},t.fingers=0},e};var e=eventjs.supports;eventjs.isMouse=!!e.mouse,eventjs.isMSPointer=!!e.touch,eventjs.isTouch=!!e.msPointer,t.pointerStart=function(e,n,i){var r=(e.type||"mousedown").toUpperCase();0===r.indexOf("MOUSE")?(eventjs.isMouse=!0,eventjs.isTouch=!1,eventjs.isMSPointer=!1):0===r.indexOf("TOUCH")?(eventjs.isMouse=!1,eventjs.isTouch=!0,eventjs.isMSPointer=!1):0===r.indexOf("MSPOINTER")&&(eventjs.isMouse=!1,eventjs.isTouch=!1,eventjs.isMSPointer=!0);var o=function(t,e){var n=i.bbox,r=a[e]={};switch(i.position){case"absolute":r.offsetX=0,r.offsetY=0;break;case"differenceFromLast":r.offsetX=t.pageX,r.offsetY=t.pageY;break;case"difference":r.offsetX=t.pageX,r.offsetY=t.pageY;break;case"move":r.offsetX=t.pageX-n.x1,r.offsetY=t.pageY-n.y1;break;default:r.offsetX=n.x1-n.scrollLeft,r.offsetY=n.y1-n.scrollTop}var o=t.pageX-r.offsetX,s=t.pageY-r.offsetY;r.rotation=0,r.scale=1,r.startTime=r.moveTime=(new Date).getTime(),r.move={x:o,y:s},r.start={x:o,y:s},i.fingers++};i.event=e,n.defaultListener&&(i.listener=n.defaultListener,delete n.defaultListener);for(var s=!i.fingers,a=i.tracker,c=e.changedTouches||t.getCoords(e),l=c.length,u=0;l>u;u++){var h=c[u],f=h.identifier||1/0;if(i.fingers){if(i.fingers>=i.maxFingers){var d=[];for(var f in i.tracker)d.push(f);return n.identifier=d.join(","),s}var p=0;for(var g in a){if(a[g].up){delete a[g],o(h,f),i.cancel=!0;break}p++}if(a[f])continue;o(h,f)}else a=i.tracker={},n.bbox=i.bbox=t.getBoundingBox(i.target),i.fingers=0,i.cancel=!1,o(h,f)}var d=[];for(var f in i.tracker)d.push(f);return n.identifier=d.join(","),s},t.pointerEnd=function(t,e,n,i){for(var r=t.touches||[],o=r.length,s={},a=0;o>a;a++){var c=r[a],l=c.identifier;s[l||1/0]=!0}for(var l in n.tracker){var u=n.tracker[l];s[l]||u.up||(i&&i({pageX:u.pageX,pageY:u.pageY,changedTouches:[{pageX:u.pageX,pageY:u.pageY,identifier:"Infinity"===l?1/0:l}]},"up"),u.up=!0,n.fingers--)}if(0!==n.fingers)return!1;var h=[];n.gestureFingers=0;for(var l in n.tracker)n.gestureFingers++,h.push(l);return e.identifier=h.join(","),!0},t.getCoords=function(e){return t.getCoords="undefined"!=typeof e.pageX?function(t){return Array({type:"mouse",x:t.pageX,y:t.pageY,pageX:t.pageX,pageY:t.pageY,identifier:t.pointerId||1/0})}:function(t){var e=document.documentElement;return t=t||window.event,Array({type:"mouse",x:t.clientX+e.scrollLeft,y:t.clientY+e.scrollTop,pageX:t.clientX+e.scrollLeft,pageY:t.clientY+e.scrollTop,identifier:1/0})},t.getCoords(e)},t.getCoord=function(e){if("ontouchstart"in window){var n=0,i=0;t.getCoord=function(t){var e=t.changedTouches;return e&&e.length?{x:n=e[0].pageX,y:i=e[0].pageY}:{x:n,y:i}}}else t.getCoord="undefined"!=typeof e.pageX&&"undefined"!=typeof e.pageY?function(t){return{x:t.pageX,y:t.pageY}}:function(t){var e=document.documentElement;return t=t||window.event,{x:t.clientX+e.scrollLeft,y:t.clientY+e.scrollTop}};return t.getCoord(e)};var n=function(t,e){var n=parseFloat(t.getPropertyValue(e),10);return isFinite(n)?n:0};return t.getBoundingBox=function(t){(t===window||t===document)&&(t=document.body);var e={},i=t.getBoundingClientRect();e.width=i.width,e.height=i.height,e.x1=i.left,e.y1=i.top,e.scaleX=i.width/t.offsetWidth||1,e.scaleY=i.height/t.offsetHeight||1,e.scrollLeft=0,e.scrollTop=0;var r=window.getComputedStyle(t),o="border-box"===r.getPropertyValue("box-sizing");if(o===!1){var s=n(r,"border-left-width"),a=n(r,"border-right-width"),c=n(r,"border-bottom-width"),l=n(r,"border-top-width");e.border=[s,a,l,c],e.x1+=s,e.y1+=l,e.width-=a+s,e.height-=c+l}e.x2=e.x1+e.width,e.y2=e.y1+e.height;for(var u=r.getPropertyValue("position"),h="fixed"===u?t:t.parentNode;null!==h&&h!==document.body&&void 0!==h.scrollTop;){var r=window.getComputedStyle(h),u=r.getPropertyValue("position");if("absolute"===u);else{if("fixed"===u){e.scrollTop-=h.parentNode.scrollTop,e.scrollLeft-=h.parentNode.scrollLeft;
break}e.scrollLeft+=h.scrollLeft,e.scrollTop+=h.scrollTop}h=h.parentNode}return e.scrollBodyLeft=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,e.scrollBodyTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e.scrollLeft-=e.scrollBodyLeft,e.scrollTop-=e.scrollBodyTop,e},function(){var e,n=navigator.userAgent.toLowerCase(),i=-1!==n.indexOf("macintosh");e=i&&-1!==n.indexOf("khtml")?{91:!0,93:!0}:i&&-1!==n.indexOf("firefox")?{224:!0}:{17:!0},(t.metaTrackerReset=function(){eventjs.fnKey=t.fnKey=!1,eventjs.metaKey=t.metaKey=!1,eventjs.escKey=t.escKey=!1,eventjs.ctrlKey=t.ctrlKey=!1,eventjs.shiftKey=t.shiftKey=!1,eventjs.altKey=t.altKey=!1})(),t.metaTracker=function(n){var i="keydown"===n.type;27===n.keyCode&&(eventjs.escKey=t.escKey=i),e[n.keyCode]&&(eventjs.metaKey=t.metaKey=i),eventjs.ctrlKey=t.ctrlKey=n.ctrlKey,eventjs.shiftKey=t.shiftKey=n.shiftKey,eventjs.altKey=t.altKey=n.altKey}}(),t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if(eventjs.MutationObserver=function(){var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,e=!t&&function(){var t=document.createElement("p"),e=!1,n=function(){e=!0};if(t.addEventListener)t.addEventListener("DOMAttrModified",n,!1);else{if(!t.attachEvent)return!1;t.attachEvent("onDOMAttrModified",n)}return t.setAttribute("id","target"),e}();return function(n,i){if(t){var r={subtree:!1,attributes:!0},o=new t(function(t){t.forEach(function(t){i.call(t.target,t.attributeName)})});o.observe(n,r)}else e?eventjs.add(n,"DOMAttrModified",function(t){i.call(n,t.attrName)}):"onpropertychange"in document.body&&eventjs.add(n,"propertychange",function(){i.call(n,window.event.propertyName)})}}(),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";return t.click=function(e){e.gesture=e.gesture||"click",e.maxFingers=e.maxFingers||e.fingers||1,e.onPointerDown=function(i){t.pointerStart(i,n,e)&&eventjs.add(e.target,"mouseup",e.onPointerUp)},e.onPointerUp=function(i){if(t.pointerEnd(i,n,e)){eventjs.remove(e.target,"mouseup",e.onPointerUp);var r=i.changedTouches||t.getCoords(i),o=r[0],s=e.bbox,a=t.getBoundingBox(e.target),c=o.pageY-a.scrollBodyTop,l=o.pageX-a.scrollBodyLeft;if(l>s.x1&&c>s.y1&&l<s.x2&&c<s.y2&&s.scrollTop===a.scrollTop){for(var u in e.tracker)break;var h=e.tracker[u];n.x=h.start.x,n.y=h.start.y,e.listener(i,n)}}};var n=t.pointerSetup(e);return n.state="click",eventjs.add(e.target,"mousedown",e.onPointerDown),n},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.click=t.click,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";return t.dbltap=t.dblclick=function(e){e.gesture=e.gesture||"dbltap",e.maxFingers=e.maxFingers||e.fingers||1;var n,i,r,o,s,a=700;e.onPointerDown=function(l){var u=l.changedTouches||t.getCoords(l);n&&!i?(s=u[0],i=(new Date).getTime()-n):(o=u[0],n=(new Date).getTime(),i=0,clearTimeout(r),r=setTimeout(function(){n=0},a)),t.pointerStart(l,c,e)&&(eventjs.add(e.target,"mousemove",e.onPointerMove).listener(l),eventjs.add(e.target,"mouseup",e.onPointerUp))},e.onPointerMove=function(a){if(n&&!i){var c=a.changedTouches||t.getCoords(a);s=c[0]}var l=e.bbox,u=s.pageX-l.x1,h=s.pageY-l.y1;u>0&&u<l.width&&h>0&&h<l.height&&Math.abs(s.pageX-o.pageX)<=25&&Math.abs(s.pageY-o.pageY)<=25||(eventjs.remove(e.target,"mousemove",e.onPointerMove),clearTimeout(r),n=i=0)},e.onPointerUp=function(o){if(t.pointerEnd(o,c,e)&&(eventjs.remove(e.target,"mousemove",e.onPointerMove),eventjs.remove(e.target,"mouseup",e.onPointerUp)),n&&i){if(a>=i){c.state=e.gesture;for(var s in e.tracker)break;var l=e.tracker[s];c.x=l.start.x,c.y=l.start.y,e.listener(o,c)}clearTimeout(r),n=i=0}};var c=t.pointerSetup(e);return c.state="dblclick",eventjs.add(e.target,"mousedown",e.onPointerDown),c},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.dbltap=t.dbltap,eventjs.Gesture._gestureHandlers.dblclick=t.dblclick,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";return t.dragElement=function(e,n){t.drag({event:n,target:e,position:"move",listener:function(t,n){e.style.left=n.x+"px",e.style.top=n.y+"px",eventjs.prevent(t)}})},t.drag=function(e){e.gesture="drag",e.onPointerDown=function(i){t.pointerStart(i,n,e)&&(e.monitor||(eventjs.add(e.doc,"mousemove",e.onPointerMove),eventjs.add(e.doc,"mouseup",e.onPointerUp))),e.onPointerMove(i,"down")},e.onPointerMove=function(i,r){if(!e.tracker)return e.onPointerDown(i);for(var o=(e.bbox,i.changedTouches||t.getCoords(i)),s=o.length,a=0;s>a;a++){var c=o[a],l=c.identifier||1/0,u=e.tracker[l];u&&(u.pageX=c.pageX,u.pageY=c.pageY,n.state=r||"move",n.identifier=l,n.start=u.start,n.fingers=e.fingers,"differenceFromLast"===e.position?(n.x=u.pageX-u.offsetX,n.y=u.pageY-u.offsetY,u.offsetX=u.pageX,u.offsetY=u.pageY):(n.x=u.pageX-u.offsetX,n.y=u.pageY-u.offsetY),e.listener(i,n))}},e.onPointerUp=function(i){t.pointerEnd(i,n,e,e.onPointerMove)&&(e.monitor||(eventjs.remove(e.doc,"mousemove",e.onPointerMove),eventjs.remove(e.doc,"mouseup",e.onPointerUp)))};var n=t.pointerSetup(e);return e.event?e.onPointerDown(e.event):(eventjs.add(e.target,"mousedown",e.onPointerDown),e.monitor&&(eventjs.add(e.doc,"mousemove",e.onPointerMove),eventjs.add(e.doc,"mouseup",e.onPointerUp))),n},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.drag=t.drag,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";var e=Math.PI/180,n=function(t,e){var n=0,i=0,r=0;for(var o in e){var s=e[o];s.up||(n+=s.move.x,i+=s.move.y,r++)}return t.x=n/=r,t.y=i/=r,t};return t.gesture=function(i){i.gesture=i.gesture||"gesture",i.minFingers=i.minFingers||i.fingers||2,i.onPointerDown=function(e){var o=i.fingers;if(t.pointerStart(e,r,i)&&(eventjs.add(i.doc,"mousemove",i.onPointerMove),eventjs.add(i.doc,"mouseup",i.onPointerUp)),i.fingers===i.minFingers&&o!==i.fingers){r.fingers=i.minFingers,r.scale=1,r.rotation=0,r.state="start";var s="";for(var a in i.tracker)s+=a;r.identifier=parseInt(s),n(r,i.tracker),i.listener(e,r)}},i.onPointerMove=function(o){for(var s=i.bbox,a=i.tracker,c=o.changedTouches||t.getCoords(o),l=c.length,u=0;l>u;u++){var h=c[u],f=h.identifier||1/0,d=a[f];d&&(d.move.x=h.pageX-s.x1,d.move.y=h.pageY-s.y1)}if(!(i.fingers<i.minFingers)){var c=[],p=0,g=0;n(r,a);for(var f in a){var h=a[f];if(!h.up){var m=h.start;if(!m.distance){var v=m.x-r.x,b=m.y-r.y;m.distance=Math.sqrt(v*v+b*b),m.angle=Math.atan2(v,b)/e}var v=h.move.x-r.x,b=h.move.y-r.y,y=Math.sqrt(v*v+b*b);p+=y/m.distance;var x=Math.atan2(v,b)/e,w=(m.angle-x+360)%360-180;h.DEG2=h.DEG1,h.DEG1=w>0?w:-w,"undefined"!=typeof h.DEG2&&(w>0?h.rotation+=h.DEG1-h.DEG2:h.rotation-=h.DEG1-h.DEG2,g+=h.rotation),c.push(h.move)}}r.touches=c,r.fingers=i.fingers,r.scale=p/i.fingers,r.rotation=g/i.fingers,r.state="change",i.listener(o,r)}},i.onPointerUp=function(e){var n=i.fingers;t.pointerEnd(e,r,i)&&(eventjs.remove(i.doc,"mousemove",i.onPointerMove),eventjs.remove(i.doc,"mouseup",i.onPointerUp)),n===i.minFingers&&i.fingers<i.minFingers&&(r.fingers=i.fingers,r.state="end",i.listener(e,r))};var r=t.pointerSetup(i);return eventjs.add(i.target,"mousedown",i.onPointerDown),r},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.gesture=t.gesture,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";return t.pointerdown=t.pointermove=t.pointerup=function(e){if(e.gesture=e.gesture||"pointer",!e.target.isPointerEmitter){var n=!0;e.onPointerDown=function(t){n=!1,i.gesture="pointerdown",e.listener(t,i)},e.onPointerMove=function(t){i.gesture="pointermove",e.listener(t,i,n)},e.onPointerUp=function(t){n=!0,i.gesture="pointerup",e.listener(t,i,!0)};var i=t.pointerSetup(e);return eventjs.add(e.target,"mousedown",e.onPointerDown),eventjs.add(e.target,"mousemove",e.onPointerMove),eventjs.add(e.doc,"mouseup",e.onPointerUp),e.target.isPointerEmitter=!0,i}},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.pointerdown=t.pointerdown,eventjs.Gesture._gestureHandlers.pointermove=t.pointermove,eventjs.Gesture._gestureHandlers.pointerup=t.pointerup,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";return t.shake=function(t){var e={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:t.target,listener:t.listener,remove:function(){window.removeEventListener("devicemotion",l,!1)}},n=4,i=1e3,r=200,o=3,s=(new Date).getTime(),a={x:0,y:0,z:0},c={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},l=function(l){var u=.8,h=l.accelerationIncludingGravity;if(a.x=u*a.x+(1-u)*h.x,a.y=u*a.y+(1-u)*h.y,a.z=u*a.z+(1-u)*h.z,e.accelerationIncludingGravity=a,e.acceleration.x=h.x-a.x,e.acceleration.y=h.y-a.y,e.acceleration.z=h.z-a.z,"devicemotion"===t.gesture)return void t.listener(l,e);for(var f="xyz",d=(new Date).getTime(),p=0,g=f.length;g>p;p++){var m=f[p],v=e.acceleration[m],b=c[m],y=Math.abs(v);if(!(i>d-s)&&y>n){var x=d*v/y,w=Math.abs(x+b.value);b.value&&r>w?(b.value=x,b.count++,b.count===o&&(t.listener(l,e),s=d,b.value=0,b.count=0)):(b.value=x,b.count=1)}}};return window.addEventListener?(window.addEventListener("devicemotion",l,!1),e):void 0},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.shake=t.shake,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";var e=Math.PI/180;return t.swipe=function(n){n.snap=n.snap||90,n.threshold=n.threshold||1,n.gesture=n.gesture||"swipe",n.onPointerDown=function(e){t.pointerStart(e,i,n)&&(eventjs.add(n.doc,"mousemove",n.onPointerMove).listener(e),eventjs.add(n.doc,"mouseup",n.onPointerUp))},n.onPointerMove=function(e){for(var i=e.changedTouches||t.getCoords(e),r=i.length,o=0;r>o;o++){var s=i[o],a=s.identifier||1/0,c=n.tracker[a];c&&(c.move.x=s.pageX,c.move.y=s.pageY,c.moveTime=(new Date).getTime())}},n.onPointerUp=function(r){if(t.pointerEnd(r,i,n)){eventjs.remove(n.doc,"mousemove",n.onPointerMove),eventjs.remove(n.doc,"mouseup",n.onPointerUp);var o,s,a,c,l={x:0,y:0},u=0,h=0,f=0;for(var d in n.tracker){var p=n.tracker[d],g=p.move.x-p.start.x,m=p.move.y-p.start.y;u+=p.move.x,h+=p.move.y,l.x+=p.start.x,l.y+=p.start.y,f++;var v=Math.sqrt(g*g+m*m),b=p.moveTime-p.startTime,c=Math.atan2(g,m)/e+180,s=b?v/b:0;if("undefined"==typeof a)a=c,o=s;else{if(!(Math.abs(c-a)<=20))return;a=(a+c)/2,o=(o+s)/2}}var y=n.gestureFingers;n.minFingers<=y&&n.maxFingers>=y&&o>n.threshold&&(l.x/=f,l.y/=f,i.start=l,i.x=u/f,i.y=h/f,i.angle=-(((a/n.snap+.5>>0)*n.snap||360)-360),i.velocity=o,i.fingers=y,i.state="swipe",n.listener(r,i))}};var i=t.pointerSetup(n);return eventjs.add(n.target,"mousedown",n.onPointerDown),i},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.swipe=t.swipe,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";return t.longpress=function(e){return e.gesture="longpress",t.tap(e)},t.tap=function(e){e.delay=e.delay||500,e.timeout=e.timeout||250,e.driftDeviance=e.driftDeviance||10,e.gesture=e.gesture||"tap";var n,i;e.onPointerDown=function(o){if(t.pointerStart(o,r,e)){if(n=(new Date).getTime(),eventjs.add(e.doc,"mousemove",e.onPointerMove).listener(o),eventjs.add(e.doc,"mouseup",e.onPointerUp),"longpress"!==e.gesture)return;i=setTimeout(function(){if(!(o.cancelBubble&&++o.cancelBubbleCount>1)){var t=0;for(var n in e.tracker){var i=e.tracker[n];if(i.end===!0)return;if(e.cancel)return;t++}e.minFingers<=t&&e.maxFingers>=t&&(r.state="start",r.fingers=t,r.x=i.start.x,r.y=i.start.y,e.listener(o,r))}},e.delay)}},e.onPointerMove=function(n){for(var i=e.bbox,r=n.changedTouches||t.getCoords(n),o=r.length,s=0;o>s;s++){var a=r[s],c=a.identifier||1/0,l=e.tracker[c];if(l){var u=a.pageX-i.x1,h=a.pageY-i.y1,f=u-l.start.x,d=h-l.start.y,p=Math.sqrt(f*f+d*d);if(!(u>0&&u<i.width&&h>0&&h<i.height&&p<=e.driftDeviance))return eventjs.remove(e.doc,"mousemove",e.onPointerMove),void(e.cancel=!0)}}},e.onPointerUp=function(o){if(t.pointerEnd(o,r,e)){if(clearTimeout(i),eventjs.remove(e.doc,"mousemove",e.onPointerMove),eventjs.remove(e.doc,"mouseup",e.onPointerUp),o.cancelBubble&&++o.cancelBubbleCount>1)return;if("longpress"===e.gesture)return void("start"===r.state&&(r.state="end",e.listener(o,r)));if(e.cancel)return;if((new Date).getTime()-n>e.timeout)return;var s=e.gestureFingers;e.minFingers<=s&&e.maxFingers>=s&&(r.state="tap",r.fingers=e.gestureFingers,e.listener(o,r))}};var r=t.pointerSetup(e);return eventjs.add(e.target,"mousedown",e.onPointerDown),r},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.tap=t.tap,eventjs.Gesture._gestureHandlers.longpress=t.longpress,t}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(t){"use strict";return t.wheelPreventElasticBounce=function(t){t&&("string"==typeof t&&(t=document.querySelector(t)),eventjs.add(t,"wheel",function(t,e){e.preventElasticBounce(),eventjs.stop(t)}))},t.wheel=function(t){var e,n=t.timeout||150,i=0,r={gesture:"wheel",state:"start",wheelDelta:0,target:t.target,listener:t.listener,preventElasticBounce:function(t){var e=this.target,n=e.scrollTop,i=n+e.offsetHeight,r=e.scrollHeight;i===r&&this.wheelDelta<=0?eventjs.cancel(t):0===n&&this.wheelDelta>=0&&eventjs.cancel(t),eventjs.stop(t)},add:function(){t.target[s](c,o,!1)},remove:function(){t.target[a](c,o,!1)}},o=function(o){o=o||window.event,r.state=i++?"change":"start",r.wheelDelta=o.detail?-20*o.detail:o.wheelDelta,t.listener(o,r),clearTimeout(e),e=setTimeout(function(){i=0,r.state="end",r.wheelDelta=0,t.listener(o,r)},n)},s=document.addEventListener?"addEventListener":"attachEvent",a=document.removeEventListener?"removeEventListener":"detachEvent",c=eventjs.getEventSupport("mousewheel")?"mousewheel":"DOMMouseScroll";return t.target[s](c,o,!1),r},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.wheel=t.wheel,t}(eventjs.proxy),"undefined"==typeof Event)var Event={};"undefined"==typeof Event.proxy&&(Event.proxy={}),Event.proxy=function(t){"use strict";return t.orientation=function(t){var e={gesture:"orientationchange",previous:null,current:window.orientation,target:t.target,listener:t.listener,remove:function(){window.removeEventListener("orientationchange",n,!1)}},n=function(n){return e.previous=e.current,e.current=window.orientation,null!==e.previous&&e.previous!=e.current?void t.listener(n,e):void 0};return window.DeviceOrientationEvent&&window.addEventListener("orientationchange",n,!1),e},Event.Gesture=Event.Gesture||{},Event.Gesture._gestureHandlers=Event.Gesture._gestureHandlers||{},Event.Gesture._gestureHandlers.orientation=t.orientation,t}(Event.proxy),function(){function t(t,e){this.__eventListeners[t]&&(e?fabric.util.removeFromArray(this.__eventListeners[t],e):this.__eventListeners[t].length=0)}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(e,n){if(this.__eventListeners){if(0===arguments.length)this.__eventListeners={};else if(1===arguments.length&&"object"==typeof arguments[0])for(var i in e)t.call(this,i,e[i]);else t.call(this,e,n);return this}}function i(t,e){if(this.__eventListeners){var n=this.__eventListeners[t];if(n){for(var i=0,r=n.length;r>i;i++)n[i].call(this,e||{});return this}}}fabric.Observable={observe:e,stopObserving:n,fire:i,on:e,off:n,trigger:i}}(),fabric.Collection={add:function(){this._objects.push.apply(this._objects,arguments);for(var t=0,e=arguments.length;e>t;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(t,e,n){var i=this.getObjects();return n?i[e]=t:i.splice(e,0,t),this._onObjectAdded(t),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var t,e=this.getObjects(),n=0,i=arguments.length;i>n;n++)t=e.indexOf(arguments[n]),-1!==t&&(e.splice(t,1),this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&this.renderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),i=n.length;i--;)t.call(e,n[i],i,n);return this},getObjects:function(t){return"undefined"==typeof t?this._objects:this._objects.filter(function(e){return e.type===t})},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)}},function(t){var e=Math.sqrt,n=Math.atan2,i=Math.PI/180;fabric.util={removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*i},radiansToDegrees:function(t){return t/i},rotatePoint:function(t,e,n){var i=Math.sin(n),r=Math.cos(n);t.subtractEquals(e);var o=t.x*r-t.y*i,s=t.x*i+t.y*r;return new fabric.Point(o,s).addEquals(e)},transformPoint:function(t,e,n){return n?new fabric.Point(e[0]*t.x+e[1]*t.y,e[2]*t.x+e[3]*t.y):new fabric.Point(e[0]*t.x+e[1]*t.y+e[4],e[2]*t.x+e[3]*t.y+e[5])},invertTransform:function(t){var e=t.slice(),n=1/(t[0]*t[3]-t[1]*t[2]);e=[n*t[3],-n*t[1],-n*t[2],n*t[0],0,0];var i=fabric.util.transformPoint({x:t[4],y:t[5]},e);return e[4]=-i.x,e[5]=-i.y,e},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(e||(e=fabric.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return i*fabric.DPI/25.4;case"cm":return i*fabric.DPI/2.54;case"in":return i*fabric.DPI;case"pt":return i*fabric.DPI/72;case"pc":return i*fabric.DPI/72*12;case"em":return i*e;default:return i}},falseFunction:function(){return!1},getKlass:function(t,e){return t=fabric.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),fabric.util.resolveNamespace(e)[t]},resolveNamespace:function(e){if(!e)return fabric;for(var n=e.split("."),i=n.length,r=t||fabric.window,o=0;i>o;++o)r=r[n[o]];return r},loadImage:function(t,e,n,i){if(!t)return void(e&&e.call(n,t));var r=fabric.util.createImage();r.onload=function(){e&&e.call(n,r),r=r.onload=r.onerror=null},r.onerror=function(){fabric.log("Error loading "+r.src),e&&e.call(n,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&"undefined"!=typeof i&&(r.crossOrigin=i),r.src=t},enlivenObjects:function(t,e,n,i){function r(){++s===a&&e&&e(o)}t=t||[];var o=[],s=0,a=t.length;return a?void t.forEach(function(t,e){if(!t||!t.type)return void r();var s=fabric.util.getKlass(t.type,n);s.async?s.fromObject(t,function(n,s){s||(o[e]=n,i&&i(t,o[e])),r()}):(o[e]=s.fromObject(t),i&&i(t,o[e]),r())}):void(e&&e(o))},groupSVGElements:function(t,e,n){var i;return i=new fabric.PathGroup(t,e),"undefined"!=typeof n&&i.setSourcePath(n),i},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var i=0,r=n.length;r>i;i++)n[i]in t&&(e[n[i]]=t[n[i]])},drawDashedLine:function(t,i,r,o,s,a){var c=o-i,l=s-r,u=e(c*c+l*l),h=n(l,c),f=a.length,d=0,p=!0;for(t.save(),t.translate(i,r),t.moveTo(0,0),t.rotate(h),i=0;u>i;)i+=a[d++%f],i>u&&(i=u),t[p?"lineTo":"moveTo"](i,0),p=!p;t.restore()},createCanvasElement:function(t){return t||(t=fabric.document.createElement("canvas")),t.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),t},createImage:function(){return fabric.isLikelyNode?new(require("canvas").Image):fabric.document.createElement("img")},createAccessors:function(t){for(var e=t.prototype,n=e.stateProperties.length;n--;){var i=e.stateProperties[n],r=i.charAt(0).toUpperCase()+i.slice(1),o="set"+r,s="get"+r;e[s]||(e[s]=function(t){return new Function('return this.get("'+t+'")')}(i)),e[o]||(e[o]=function(t){return new Function("value",'return this.set("'+t+'", value)')}(i))}},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e){for(var n=[[t[0],t[2],t[4]],[t[1],t[3],t[5]],[0,0,1]],i=[[e[0],e[2],e[4]],[e[1],e[3],e[5]],[0,0,1]],r=[],o=0;3>o;o++){r[o]=[];for(var s=0;3>s;s++){for(var a=0,c=0;3>c;c++)a+=n[o][c]*i[c][s];r[o][s]=a}}return[r[0][0],r[1][0],r[0][1],r[1][1],r[0][2],r[1][2]]},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,n,i){i>0&&(e>i?e-=i:e=0,n>i?n-=i:n=0);for(var r=!0,o=t.getImageData(e,n,2*i||1,2*i||1),s=3,a=o.data.length;a>s;s+=4){var c=o.data[s];if(r=0>=c,r===!1)break}return o=null,r}}}("undefined"!=typeof exports?exports:this),function(){function t(t,i,o,s,c,l,u){var h=a.call(arguments);if(r[h])return r[h];var f=Math.PI,d=u*f/180,p=Math.sin(d),g=Math.cos(d),m=0,v=0;o=Math.abs(o),s=Math.abs(s);var b=-g*t*.5-p*i*.5,y=-g*i*.5+p*t*.5,x=o*o,w=s*s,_=y*y,C=b*b,$=x*w-x*_-w*C,S=0;if(0>$){var E=Math.sqrt(1-$/(x*w));o*=E,s*=E}else S=(c===l?-1:1)*Math.sqrt($/(x*_+w*C));var T=S*o*y/s,k=-S*s*b/o,A=g*T-p*k+.5*t,M=p*T+g*k+.5*i,O=n(1,0,(b-T)/o,(y-k)/s),P=n((b-T)/o,(y-k)/s,(-b-T)/o,(-y-k)/s);0===l&&P>0?P-=2*f:1===l&&0>P&&(P+=2*f);for(var D=Math.ceil(Math.abs(P/f*2)),j=[],I=P/D,N=8/3*Math.sin(I/4)*Math.sin(I/4)/Math.sin(I/2),L=O+I,H=0;D>H;H++)j[H]=e(O,L,g,p,o,s,A,M,N,m,v),m=j[H][4],v=j[H][5],O=L,L+=I;return r[h]=j,j}function e(t,e,n,i,r,s,c,l,u,h,f){var d=a.call(arguments);if(o[d])return o[d];var p=Math.cos(t),g=Math.sin(t),m=Math.cos(e),v=Math.sin(e),b=n*r*m-i*s*v+c,y=i*r*m+n*s*v+l,x=h+u*(-n*r*g-i*s*p),w=f+u*(-i*r*g+n*s*p),_=b+u*(n*r*v+i*s*m),C=y+u*(i*r*v-n*s*m);return o[d]=[x,w,_,C,b,y],o[d]}function n(t,e,n,i){var r=Math.atan2(e,t),o=Math.atan2(i,n);return o>=r?o-r:2*Math.PI-(r-o)}function i(t,e,n,i,r,o,c,l){var u=a.call(arguments);if(s[u])return s[u];var h,f,d,p,g,m,v,b,y=Math.sqrt,x=Math.min,w=Math.max,_=Math.abs,C=[],$=[[],[]];f=6*t-12*n+6*r,h=-3*t+9*n-9*r+3*c,d=3*n-3*t;for(var S=0;2>S;++S)if(S>0&&(f=6*e-12*i+6*o,h=-3*e+9*i-9*o+3*l,d=3*i-3*e),_(h)<1e-12){if(_(f)<1e-12)continue;p=-d/f,p>0&&1>p&&C.push(p)}else v=f*f-4*d*h,0>v||(b=y(v),g=(-f+b)/(2*h),g>0&&1>g&&C.push(g),m=(-f-b)/(2*h),m>0&&1>m&&C.push(m));for(var E,T,k,A=C.length,M=A;A--;)p=C[A],k=1-p,E=k*k*k*t+3*k*k*p*n+3*k*p*p*r+p*p*p*c,$[0][A]=E,T=k*k*k*e+3*k*k*p*i+3*k*p*p*o+p*p*p*l,$[1][A]=T;$[0][M]=t,$[1][M]=e,$[0][M+1]=c,$[1][M+1]=l;var O=[{x:x.apply(null,$[0]),y:x.apply(null,$[1])},{x:w.apply(null,$[0]),y:w.apply(null,$[1])}];return s[u]=O,O}var r={},o={},s={},a=Array.prototype.join;fabric.util.drawArc=function(e,n,i,r){for(var o=r[0],s=r[1],a=r[2],c=r[3],l=r[4],u=r[5],h=r[6],f=[[],[],[],[]],d=t(u-n,h-i,o,s,c,l,a),p=0,g=d.length;g>p;p++)f[p][0]=d[p][0]+n,f[p][1]=d[p][1]+i,f[p][2]=d[p][2]+n,f[p][3]=d[p][3]+i,f[p][4]=d[p][4]+n,f[p][5]=d[p][5]+i,e.bezierCurveTo.apply(e,f[p])},fabric.util.getBoundsOfArc=function(e,n,r,o,s,a,c,l,u){for(var h=0,f=0,d=[],p=[],g=t(l-e,u-n,r,o,a,c,s),m=[[],[]],v=0,b=g.length;b>v;v++)d=i(h,f,g[v][0],g[v][1],g[v][2],g[v][3],g[v][4],g[v][5]),m[0].x=d[0].x+e,m[0].y=d[0].y+n,m[1].x=d[1].x+e,m[1].y=d[1].y+n,p.push(m[0]),p.push(m[1]),h=g[v][4],f=g[v][5];return p},fabric.util.getBoundsOfCurve=i}(),function(){function t(t,e){for(var n=r.call(arguments,2),i=[],o=0,s=t.length;s>o;o++)i[o]=n.length?t[o][e].apply(t[o],n):t[o][e].call(t[o]);return i}function e(t,e){return i(t,e,function(t,e){return t>=e})}function n(t,e){return i(t,e,function(t,e){return e>t})}function i(t,e,n){if(t&&0!==t.length){var i=t.length-1,r=e?t[i][e]:t[i];if(e)for(;i--;)n(t[i][e],r)&&(r=t[i][e]);else for(;i--;)n(t[i],r)&&(r=t[i]);return r}}var r=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==Number.POSITIVE_INFINITY&&i!==Number.NEGATIVE_INFINITY&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=0,i=this.length>>>0;i>n;n++)n in this&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var n=[],i=0,r=this.length>>>0;r>i;i++)i in this&&(n[i]=t.call(e,this[i],i,this));return n}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var n=0,i=this.length>>>0;i>n;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var n=0,i=this.length>>>0;i>n;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var n,i=[],r=0,o=this.length>>>0;o>r;r++)r in this&&(n=this[r],t.call(e,n,r,this)&&i.push(n));return i}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,n=this.length>>>0,i=0;if(arguments.length>1)e=arguments[1];else for(;;){if(i in this){e=this[i++];break}if(++i>=n)throw new TypeError}for(;n>i;i++)i in this&&(e=t.call(null,e,this[i],i,this));return e}),fabric.util.array={invoke:t,min:n,max:e}}(),function(){function t(t,e){for(var n in e)t[n]=e[n];return t}function e(e){return t({},e)}fabric.util.object={extend:t,clone:e}}(),function(){function t(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function e(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())}function n(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:t,capitalize:e,escapeXml:n}}(),function(){var t=Array.prototype.slice,e=Function.prototype.apply,n=function(){};Function.prototype.bind||(Function.prototype.bind=function(i){var r,o=this,s=t.call(arguments,1);return r=s.length?function(){return e.call(o,this instanceof n?this:i,s.concat(t.call(arguments)))}:function(){return e.call(o,this instanceof n?this:i,arguments)},n.prototype=this.prototype,r.prototype=new n,r})}(),function(){function t(){}function e(t){var e=this.constructor.superclass.prototype[t];return arguments.length>1?e.apply(this,i.call(arguments,1)):e.call(this)}function n(){function n(){this.initialize.apply(this,arguments)}var o=null,a=i.call(arguments,0);"function"==typeof a[0]&&(o=a.shift()),n.superclass=o,n.subclasses=[],o&&(t.prototype=o.prototype,n.prototype=new t,o.subclasses.push(n));for(var c=0,l=a.length;l>c;c++)s(n,a[c],o);return n.prototype.initialize||(n.prototype.initialize=r),n.prototype.constructor=n,n.prototype.callSuper=e,n}var i=Array.prototype.slice,r=function(){},o=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),s=function(t,e,n){for(var i in e)t.prototype[i]=i in t.prototype&&"function"==typeof t.prototype[i]&&(e[i]+"").indexOf("callSuper")>-1?function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=n;var r=e[t].apply(this,arguments);return this.constructor.superclass=i,"initialize"!==t?r:void 0}}(i):e[i],o&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};fabric.util.createClass=n}(),function(){function t(t){var e,n,i=Array.prototype.slice.call(arguments,1),r=i.length;for(n=0;r>n;n++)if(e=typeof t[i[n]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}function e(t,e){return{handler:e,wrappedHandler:n(t,e)}}function n(t,e){return function(n){e.call(s(t),n||fabric.window.event)}}function i(t,e){return function(n){if(g[t]&&g[t][e])for(var i=g[t][e],r=0,o=i.length;o>r;r++)i[r].call(this,n||fabric.window.event)}}function r(t,e){t||(t=fabric.window.event);var n=t.target||(typeof t.srcElement!==c?t.srcElement:null),i=fabric.util.getScrollLeftTop(n,e);return{x:m(t)+i.left,y:v(t)+i.top}}function o(t,e,n){var i="touchend"===t.type?"changedTouches":"touches";return t[i]&&t[i][0]?t[i][0][e]-(t[i][0][e]-t[i][0][n])||t[n]:t[n]}var s,a,c="unknown",l=function(){var t=0;return function(e){return e.__uniqueID||(e.__uniqueID="uniqueID__"+t++)}}();!function(){var t={};s=function(e){return t[e]},a=function(e,n){t[e]=n}}();var u,h,f=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),d=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),p={},g={};f?(u=function(t,e,n){t.addEventListener(e,n,!1)},h=function(t,e,n){t.removeEventListener(e,n,!1)}):d?(u=function(t,n,i){var r=l(t);a(r,t),p[r]||(p[r]={}),p[r][n]||(p[r][n]=[]);var o=e(r,i);p[r][n].push(o),t.attachEvent("on"+n,o.wrappedHandler)},h=function(t,e,n){var i,r=l(t);if(p[r]&&p[r][e])for(var o=0,s=p[r][e].length;s>o;o++)i=p[r][e][o],i&&i.handler===n&&(t.detachEvent("on"+e,i.wrappedHandler),p[r][e][o]=null)}):(u=function(t,e,n){var r=l(t);if(g[r]||(g[r]={}),!g[r][e]){g[r][e]=[];var o=t["on"+e];o&&g[r][e].push(o),t["on"+e]=i(r,e)}g[r][e].push(n)},h=function(t,e,n){var i=l(t);if(g[i]&&g[i][e])for(var r=g[i][e],o=0,s=r.length;s>o;o++)r[o]===n&&r.splice(o,1)}),fabric.util.addListener=u,fabric.util.removeListener=h;var m=function(t){return typeof t.clientX!==c?t.clientX:0},v=function(t){return typeof t.clientY!==c?t.clientY:0};fabric.isTouchSupported&&(m=function(t){return o(t,"pageX","clientX")},v=function(t){return o(t,"pageY","clientY")}),fabric.util.getPointer=r,fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){function t(t,e){var n=t.style;if(!n)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?o(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)if("opacity"===i)o(t,e[i]);else{var r="float"===i||"cssFloat"===i?"undefined"==typeof n.styleFloat?"cssFloat":"styleFloat":i;n[r]=e[i]}return t}var e=fabric.document.createElement("div"),n="string"==typeof e.style.opacity,i="string"==typeof e.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(t){return t};n?o=function(t,e){return t.style.opacity=e,t}:i&&(o=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),r.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(r,e)):n.filter+=" alpha(opacity="+100*e+")",t}),fabric.util.setStyle=t}(),function(){function t(t){return"string"==typeof t?fabric.document.getElementById(t):t}function e(t,e){var n=fabric.document.createElement(t);for(var i in e)"class"===i?n.className=e[i]:"for"===i?n.htmlFor=e[i]:n.setAttribute(i,e[i]);return n}function n(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)}function i(t,n,i){return"string"==typeof n&&(n=e(n,i)),t.parentNode&&t.parentNode.replaceChild(n,t),n.appendChild(t),n
}function r(t,e){var n,i,r=0,o=0,s=fabric.document.documentElement,a=fabric.document.body||{scrollLeft:0,scrollTop:0};for(i=t;t&&t.parentNode&&!n;)t=t.parentNode,1===t.nodeType&&"fixed"===fabric.util.getElementStyle(t,"position")&&(n=t),1===t.nodeType&&i!==e&&"absolute"===fabric.util.getElementStyle(t,"position")?(r=0,o=0):t===fabric.document?(r=a.scrollLeft||s.scrollLeft||0,o=a.scrollTop||s.scrollTop||0):(r+=t.scrollLeft||0,o+=t.scrollTop||0);return{left:r,top:o}}function o(t){var e,n,i=t&&t.ownerDocument,r={left:0,top:0},o={left:0,top:0},s={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return{left:0,top:0};for(var a in s)o[s[a]]+=parseInt(u(t,a),10)||0;return e=i.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),n=fabric.util.getScrollLeftTop(t,null),{left:r.left+n.left-(e.clientLeft||0)+o.left,top:r.top+n.top-(e.clientTop||0)+o.top}}var s,a=Array.prototype.slice,c=function(t){return a.call(t,0)};try{s=c(fabric.document.childNodes)instanceof Array}catch(l){}s||(c=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e});var u;u=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(t,e){var n=fabric.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},function(){function t(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),i?t.style[i]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t}function e(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=null),i?t.style[i]="":"string"==typeof t.unselectable&&(t.unselectable=""),t}var n=fabric.document.documentElement.style,i="userSelect"in n?"userSelect":"MozUserSelect"in n?"MozUserSelect":"WebkitUserSelect"in n?"WebkitUserSelect":"KhtmlUserSelect"in n?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=t,fabric.util.makeElementSelectable=e}(),function(){function t(t,e){var n=fabric.document.getElementsByTagName("head")[0],i=fabric.document.createElement("script"),r=!0;i.onload=i.onreadystatechange=function(t){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,e(t||fabric.window.event),i=i.onload=i.onreadystatechange=null}},i.src=t,n.appendChild(i)}fabric.util.getScript=t}(),fabric.util.getById=t,fabric.util.toArray=c,fabric.util.makeElement=e,fabric.util.addClass=n,fabric.util.wrapElement=i,fabric.util.getScrollLeftTop=r,fabric.util.getElementOffset=o,fabric.util.getElementStyle=u}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}function e(){}function n(n,r){r||(r={});var o,s=r.method?r.method.toUpperCase():"GET",a=r.onComplete||function(){},c=i();return c.onreadystatechange=function(){4===c.readyState&&(a(c),c.onreadystatechange=e)},"GET"===s&&(o=null,"string"==typeof r.parameters&&(n=t(n,r.parameters))),c.open(s,n,!0),("POST"===s||"PUT"===s)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(o),c}var i=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{var n=t[e]();if(n)return t[e]}catch(i){}}();fabric.util.request=n}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){"undefined"!=typeof console[t]&&"function"==typeof console[t].apply&&(fabric[t]=function(){return console[t].apply(console,arguments)})}),function(){function t(t){e(function(n){t||(t={});var i,r=n||+new Date,o=t.duration||500,s=r+o,a=t.onChange||function(){},c=t.abort||function(){return!1},l=t.easing||function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},u="startValue"in t?t.startValue:0,h="endValue"in t?t.endValue:100,f=t.byValue||h-u;t.onStart&&t.onStart(),function d(n){i=n||+new Date;var h=i>s?o:i-r;return c()?void(t.onComplete&&t.onComplete()):(a(l(h,u,f,o)),i>s?void(t.onComplete&&t.onComplete()):void e(d))}(r)})}function e(){return n.apply(fabric.window,arguments)}var n=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)};fabric.util.animate=t,fabric.util.requestAnimFrame=e}(),function(){function t(t,e,n,i){return t<Math.abs(e)?(t=e,i=n/4):i=n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:i}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-t.s)*Math.PI/t.p)}function n(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function i(t,e,n,i){return t/=i/2,1>t?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}function r(t,e,n,i){return n*(t/=i)*t*t*t+e}function o(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e}function s(t,e,n,i){return t/=i/2,1>t?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}function a(t,e,n,i){return n*(t/=i)*t*t*t*t+e}function c(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e}function l(t,e,n,i){return t/=i/2,1>t?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}function u(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e}function h(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e}function f(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}function d(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e}function p(t,e,n,i){return t===i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e}function g(t,e,n,i){return 0===t?e:t===i?e+n:(t/=i/2,1>t?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e)}function m(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e}function v(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e}function b(t,e,n,i){return t/=i/2,1>t?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function y(n,i,r,o){var s=1.70158,a=0,c=r;if(0===n)return i;if(n/=o,1===n)return i+r;a||(a=.3*o);var l=t(c,r,a,s);return-e(l,n,o)+i}function x(e,n,i,r){var o=1.70158,s=0,a=i;if(0===e)return n;if(e/=r,1===e)return n+i;s||(s=.3*r);var c=t(a,i,s,o);return c.a*Math.pow(2,-10*e)*Math.sin(2*(e*r-c.s)*Math.PI/c.p)+c.c+n}function w(n,i,r,o){var s=1.70158,a=0,c=r;if(0===n)return i;if(n/=o/2,2===n)return i+r;a||(a=.3*o*1.5);var l=t(c,r,a,s);return 1>n?-.5*e(l,n,o)+i:l.a*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*o-l.s)*Math.PI/l.p)*.5+l.c+i}function _(t,e,n,i,r){return void 0===r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e}function C(t,e,n,i,r){return void 0===r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e}function $(t,e,n,i,r){return void 0===r&&(r=1.70158),t/=i/2,1>t?n/2*t*t*(((r*=1.525)+1)*t-r)+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e}function S(t,e,n,i){return n-E(i-t,0,n,i)+e}function E(t,e,n,i){return(t/=i)<1/2.75?7.5625*n*t*t+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function T(t,e,n,i){return i/2>t?.5*S(2*t,0,n,i)+e:.5*E(2*t-i,0,n,i)+.5*n+e}fabric.util.ease={easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return t/=i/2,1>t?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:n,easeInOutCubic:i,easeInQuart:r,easeOutQuart:o,easeInOutQuart:s,easeInQuint:a,easeOutQuint:c,easeInOutQuint:l,easeInSine:u,easeOutSine:h,easeInOutSine:f,easeInExpo:d,easeOutExpo:p,easeInOutExpo:g,easeInCirc:m,easeOutCirc:v,easeInOutCirc:b,easeInElastic:y,easeOutElastic:x,easeInOutElastic:w,easeInBack:_,easeOutBack:C,easeInOutBack:$,easeInBounce:S,easeOutBounce:E,easeInOutBounce:T}}(),function(t){"use strict";function e(t){return t in w?w[t]:t}function n(t,e,n,i){var r,o="[object Array]"===Object.prototype.toString.call(e);return"fill"!==t&&"stroke"!==t||"none"!==e?"strokeDashArray"===t?e=e.replace(/,/g," ").split(/\s+/).map(function(t){return parseFloat(t)}):"transformMatrix"===t?e=n&&n.transformMatrix?x(n.transformMatrix,p.parseTransformAttribute(e)):p.parseTransformAttribute(e):"visible"===t?(e="none"===e||"hidden"===e?!1:!0,n&&n.visible===!1&&(e=!1)):"originX"===t?e="start"===e?"left":"end"===e?"right":"center":r=o?e.map(y):y(e,i):e="",!o&&isNaN(r)?e:r}function i(t){for(var e in _)if(t[e]&&"undefined"!=typeof t[_[e]]&&0!==t[e].indexOf("url(")){var n=new p.Color(t[e]);t[e]=n.setAlpha(b(n.getAlpha()*t[_[e]],2)).toRgba()}return t}function r(t,i){var r,o;t.replace(/;$/,"").split(";").forEach(function(t){var s=t.split(":");r=e(s[0].trim().toLowerCase()),o=n(r,s[1].trim()),i[r]=o})}function o(t,i){var r,o;for(var s in t)"undefined"!=typeof t[s]&&(r=e(s.toLowerCase()),o=n(r,t[s]),i[r]=o)}function s(t,e){var n={};for(var i in p.cssRules[e])if(a(t,i.split(" ")))for(var r in p.cssRules[e][i])n[r]=p.cssRules[e][i][r];return n}function a(t,e){var n,i=!0;return n=l(t,e.pop()),n&&e.length&&(i=c(t,e)),n&&i&&0===e.length}function c(t,e){for(var n,i=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)i&&(n=e.pop()),t=t.parentNode,i=l(t,n);return 0===e.length}function l(t,e){var n,i=t.nodeName,r=t.getAttribute("class"),o=t.getAttribute("id");if(n=new RegExp("^"+i,"i"),e=e.replace(n,""),o&&e.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),r&&e.length){r=r.split(" ");for(var s=r.length;s--;)n=new RegExp("\\."+r[s]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")}return 0===e.length}function u(t){for(var e=t.getElementsByTagName("use");e.length;){for(var n,i=e[0],r=i.getAttribute("xlink:href").substr(1),o=i.getAttribute("x")||0,s=i.getAttribute("y")||0,a=t.getElementById(r).cloneNode(!0),c=(a.getAttribute("transform")||"")+" translate("+o+", "+s+")",l=0,u=i.attributes,h=u.length;h>l;l++){var f=u.item(l);"x"!==f.nodeName&&"y"!==f.nodeName&&"xlink:href"!==f.nodeName&&("transform"===f.nodeName?c=f.nodeValue+" "+c:a.setAttribute(f.nodeName,f.nodeValue))}a.setAttribute("transform",c),a.setAttribute("instantiated_by_use","1"),a.removeAttribute("id"),n=i.parentNode,n.replaceChild(a,i)}}function h(t,e,n){var i,r,o,s,a=t.getAttribute("viewBox"),c=1,l=1,u=0,h=0;if(a&&(a=a.match(C))&&(u=-parseFloat(a[1]),h=-parseFloat(a[2]),i=parseFloat(a[3]),r=parseFloat(a[4]),e&&e!==i&&(c=e/i),n&&n!==r&&(l=n/r),l=c=c>l?l:c,1!==c||1!==l||0!==u||0!==h)){if(o="matrix("+c+" 0 0 "+l+" "+u*c+" "+h*l+")","svg"===t.tagName){for(s=t.ownerDocument.createElement("g");null!=t.firstChild;)s.appendChild(t.firstChild);t.appendChild(s)}else s=t,o+=s.getAttribute("transform");s.setAttribute("transform",o)}}function f(t){var e=t.objects,n=t.options;return e=e.map(function(t){return p[m(t.type)].fromObject(t)}),{objects:e,options:n}}function d(t,e,n){e[n]&&e[n].toSVG&&t.push('<pattern x="0" y="0" id="',n,'Pattern" ','width="',e[n].source.width,'" height="',e[n].source.height,'" patternUnits="userSpaceOnUse">','<image x="0" y="0" ','width="',e[n].source.width,'" height="',e[n].source.height,'" xlink:href="',e[n].source.src,'"></image></pattern>')}var p=t.fabric||(t.fabric={}),g=p.util.object.extend,m=p.util.string.capitalize,v=p.util.object.clone,b=p.util.toFixed,y=p.util.parseUnit,x=p.util.multiplyTransformMatrices,w={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},_={stroke:"strokeOpacity",fill:"fillOpacity"};p.cssRules={},p.gradientDefs={},p.parseTransformAttribute=function(){function t(t,e){var n=e[0];t[0]=Math.cos(n),t[1]=Math.sin(n),t[2]=-Math.sin(n),t[3]=Math.cos(n)}function e(t,e){var n=e[0],i=2===e.length?e[1]:e[0];t[0]=n,t[3]=i}function n(t,e){t[2]=Math.tan(p.util.degreesToRadians(e[0]))}function i(t,e){t[1]=Math.tan(p.util.degreesToRadians(e[0]))}function r(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var o=[1,0,0,1,0,0],s=p.reNum,a="(?:\\s+,?\\s*|,\\s*)",c="(?:(skewX)\\s*\\(\\s*("+s+")\\s*\\))",l="(?:(skewY)\\s*\\(\\s*("+s+")\\s*\\))",u="(?:(rotate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+")"+a+"("+s+"))?\\s*\\))",h="(?:(scale)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",f="(?:(translate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",d="(?:(matrix)\\s*\\(\\s*("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")\\s*\\))",g="(?:"+d+"|"+f+"|"+h+"|"+u+"|"+c+"|"+l+")",m="(?:"+g+"(?:"+a+g+")*)",v="^\\s*(?:"+m+"?)\\s*$",b=new RegExp(v),y=new RegExp(g,"g");return function(s){var a=o.concat(),c=[];if(!s||s&&!b.test(s))return a;s.replace(y,function(s){var l=new RegExp(g).exec(s).filter(function(t){return""!==t&&null!=t}),u=l[1],h=l.slice(2).map(parseFloat);switch(u){case"translate":r(a,h);break;case"rotate":h[0]=p.util.degreesToRadians(h[0]),t(a,h);break;case"scale":e(a,h);break;case"skewX":n(a,h);break;case"skewY":i(a,h);break;case"matrix":a=h}c.push(a.concat()),a=o.concat()});for(var l=c[0];c.length>1;)c.shift(),l=p.util.multiplyTransformMatrices(l,c[0]);return l}}();var C=new RegExp("^\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*,?\\s*("+p.reNum+"+)\\s*$");p.parseSVGDocument=function(){function t(t,e){for(;t&&(t=t.parentNode);)if(e.test(t.nodeName)&&!t.getAttribute("instantiated_by_use"))return!0;return!1}var e=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/,n=/^(symbol|image|marker|pattern|view)$/;return function(i,r,o){if(i){u(i);var s=new Date,a=p.Object.__uid++,c=y(i.getAttribute("width")||"100%"),l=y(i.getAttribute("height")||"100%");h(i,c,l);var f=p.util.toArray(i.getElementsByTagName("*"));if(0===f.length&&p.isLikelyNode){f=i.selectNodes('//*[name(.)!="svg"]');for(var d=[],g=0,m=f.length;m>g;g++)d[g]=f[g];f=d}var b=f.filter(function(i){return n.test(i.tagName)&&h(i,0,0),e.test(i.tagName)&&!t(i,/^(?:pattern|defs|symbol)$/)});if(!b||b&&!b.length)return void(r&&r([],{}));var x={width:c,height:l,widthAttr:c,heightAttr:l,svgUid:a};p.gradientDefs[a]=p.getGradientDefs(i),p.cssRules[a]=p.getCSSRules(i),p.parseElements(b,function(t){p.documentParsingTime=new Date-s,r&&r(t,x)},v(x),o)}}}();var $={has:function(t,e){e(!1)},get:function(){},set:function(){}},S=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+p.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+p.reNum+"))?\\s+(.*)");g(p,{parseFontDeclaration:function(t,e){var n=t.match(S);if(n){var i=n[1],r=n[3],o=n[4],s=n[5],a=n[6];i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),o&&(e.fontSize=y(o)),a&&(e.fontFamily=a),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,n,i,r,o=t.getElementsByTagName("linearGradient"),s=t.getElementsByTagName("radialGradient"),a=0,c=[],l={},u={};for(c.length=o.length+s.length,n=o.length;n--;)c[a++]=o[n];for(n=s.length;n--;)c[a++]=s[n];for(;a--;)e=c[a],r=e.getAttribute("xlink:href"),i=e.getAttribute("id"),r&&(u[i]=r.substr(1)),l[i]=e;for(i in u){var h=l[u[i]].cloneNode(!0);for(e=l[i];h.firstChild;)e.appendChild(h.firstChild)}return l},parseAttributes:function(t,r,o){if(t){var a,c,l={};"undefined"==typeof o&&(o=t.getAttribute("svgUid")),t.parentNode&&/^symbol|[g|a]$/i.test(t.parentNode.nodeName)&&(l=p.parseAttributes(t.parentNode,r,o)),c=l&&l.fontSize||t.getAttribute("font-size")||p.Text.DEFAULT_SVG_FONT_SIZE;var u=r.reduce(function(i,r){return a=t.getAttribute(r),a&&(r=e(r),a=n(r,a,l,c),i[r]=a),i},{});return u=g(u,g(s(t,o),p.parseStyleAttribute(t))),u.font&&p.parseFontDeclaration(u.font,u),i(g(l,u))}},parseElements:function(t,e,n,i){new p.ElementsParser(t,e,n,i).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"==typeof n?r(n,e):o(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;t=t.replace(/,/g," ").trim(),t=t.split(/\s+/);var e,n,i=[];for(e=0,n=t.length;n>e;e+=2)i.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return i},getCSSRules:function(t){for(var i,r=t.getElementsByTagName("style"),o={},s=0,a=r.length;a>s;s++){var c=r[s].textContent;c=c.replace(/\/\*[\s\S]*?\*\//g,""),""!==c.trim()&&(i=c.match(/[^{]*\{[\s\S]*?\}/g),i=i.map(function(t){return t.trim()}),i.forEach(function(t){for(var i=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),r={},s=i[2].trim(),a=s.replace(/;$/,"").split(/\s*;\s*/),c=0,l=a.length;l>c;c++){var u=a[c].split(/\s*:\s*/),h=e(u[0]),f=n(h,u[1],u[0]);r[h]=f}t=i[1],t.split(",").forEach(function(t){t=t.replace(/^svg/i,"").trim(),""!==t&&(o[t]=p.util.object.clone(r))})}))}return o},loadSVGFromURL:function(t,e,n){function i(i){var r=i.responseXML;r&&!r.documentElement&&p.window.ActiveXObject&&i.responseText&&(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(i.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),r&&r.documentElement&&p.parseSVGDocument(r.documentElement,function(n,i){$.set(t,{objects:p.util.array.invoke(n,"toObject"),options:i}),e(n,i)},n)}t=t.replace(/^\n\s*/,"").trim(),$.has(t,function(n){n?$.get(t,function(t){var n=f(t);e(n.objects,n.options)}):new p.util.request(t,{method:"get",onComplete:i})})},loadSVGFromString:function(t,e,n){t=t.trim();var i;if("undefined"!=typeof DOMParser){var r=new DOMParser;r&&r.parseFromString&&(i=r.parseFromString(t,"text/xml"))}else p.window.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));p.parseSVGDocument(i.documentElement,function(t,n){e(t,n)},n)},createSVGFontFacesMarkup:function(t){for(var e="",n=0,i=t.length;i>n;n++)"text"===t[n].type&&t[n].path&&(e+=["@font-face {","font-family: ",t[n].fontFamily,"; ","src: url('",t[n].path,"')","}"].join(""));return e&&(e=['<style type="text/css">',"<![CDATA[",e,"]]>","</style>"].join("")),e},createSVGRefElementsMarkup:function(t){var e=[];return d(e,t,"backgroundColor"),d(e,t,"overlayColor"),e.join("")}})}("undefined"!=typeof exports?exports:this),fabric.ElementsParser=function(t,e,n,i){this.elements=t,this.callback=e,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;e>t;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout(function(){t.createObject(t.elements[e],e)},0)}(this,t)},fabric.ElementsParser.prototype.createObject=function(t,e){var n=fabric[fabric.util.string.capitalize(t.tagName)];if(n&&n.fromElement)try{this._createObject(n,t,e)}catch(i){fabric.log(i)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(t,e,n){if(t.async)t.fromElement(e,this.createCallback(n,e),this.options);else{var i=t.fromElement(e,this.options);this.resolveGradient(i,"fill"),this.resolveGradient(i,"stroke"),this.reviver&&this.reviver(e,i),this.instances[n]=i,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(t,e){var n=this;return function(i){n.resolveGradient(i,"fill"),n.resolveGradient(i,"stroke"),n.reviver&&n.reviver(e,i),n.instances[t]=i,n.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(t,e){var n=t.get(e);if(/^url\(/.test(n)){var i=n.slice(5,n.length-1);fabric.gradientDefs[this.svgUid][i]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][i],t))}},fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances))},function(t){"use strict";function e(t,e){this.x=t,this.y=e}var n=t.fabric||(t.fabric={});return n.Point?void n.warn("fabric.Point is already defined"):(n.Point=e,void(e.prototype={constructor:e,add:function(t){return new e(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new e(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new e(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new e(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new e(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new e(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,n){return new e(this.x+(t.x-this.x)*n,this.y+(t.y-this.y)*n)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return new e(this.x+(t.x-this.x)/2,this.y+(t.y-this.y)/2)},min:function(t){return new e(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new e(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){this.x=t,this.y=e},setFromPoint:function(t){this.x=t.x,this.y=t.y},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n}}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){this.status=t,this.points=[]}var n=t.fabric||(t.fabric={});return n.Intersection?void n.warn("fabric.Intersection is already defined"):(n.Intersection=e,n.Intersection.prototype={appendPoint:function(t){this.points.push(t)},appendPoints:function(t){this.points=this.points.concat(t)}},n.Intersection.intersectLineLine=function(t,i,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),c=(i.x-t.x)*(t.y-r.y)-(i.y-t.y)*(t.x-r.x),l=(o.y-r.y)*(i.x-t.x)-(o.x-r.x)*(i.y-t.y);if(0!==l){var u=a/l,h=c/l;u>=0&&1>=u&&h>=0&&1>=h?(s=new e("Intersection"),s.points.push(new n.Point(t.x+u*(i.x-t.x),t.y+u*(i.y-t.y)))):s=new e}else s=new e(0===a||0===c?"Coincident":"Parallel");return s},n.Intersection.intersectLinePolygon=function(t,n,i){for(var r=new e,o=i.length,s=0;o>s;s++){var a=i[s],c=i[(s+1)%o],l=e.intersectLineLine(t,n,a,c);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},n.Intersection.intersectPolygonPolygon=function(t,n){for(var i=new e,r=t.length,o=0;r>o;o++){var s=t[o],a=t[(o+1)%r],c=e.intersectLinePolygon(s,a,n);i.appendPoints(c.points)}return i.points.length>0&&(i.status="Intersection"),i},void(n.Intersection.intersectPolygonRectangle=function(t,i,r){var o=i.min(r),s=i.max(r),a=new n.Point(s.x,o.y),c=new n.Point(o.x,s.y),l=e.intersectLinePolygon(o,a,t),u=e.intersectLinePolygon(a,s,t),h=e.intersectLinePolygon(s,c,t),f=e.intersectLinePolygon(c,o,t),d=new e;return d.appendPoints(l.points),d.appendPoints(u.points),d.appendPoints(h.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var i=t.fabric||(t.fabric={});return i.Color?void i.warn("fabric.Color is already defined."):(i.Color=e,i.Color.prototype={_tryParsingColor:function(t){var n;return t in e.colorNameMap&&(t=e.colorNameMap[t]),"transparent"===t?void this.setSource([255,255,255,0]):(n=e.sourceFromHex(t),n||(n=e.sourceFromRgb(t)),n||(n=e.sourceFromHsl(t)),void(n&&this.setSource(n)))},_rgbToHsl:function(t,e,n){t/=255,e/=255,n/=255;var r,o,s,a=i.util.array.max([t,e,n]),c=i.util.array.min([t,e,n]);if(s=(a+c)/2,a===c)r=o=0;else{var l=a-c;switch(o=s>.5?l/(2-a-c):l/(a+c),a){case t:r=(e-n)/l+(n>e?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,i=this.getSource();return t=i[0].toString(16),t=1===t.length?"0"+t:t,e=i[1].toString(16),e=1===e.length?"0"+e:e,n=i[2].toString(16),n=1===n.length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),n=t[3];return this.setSource([e,e,e,n]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),i=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(t){t instanceof e||(t=new e(t));for(var n=[],i=this.getAlpha(),r=.5,o=this.getSource(),s=t.getSource(),a=0;3>a;a++)n.push(Math.round(o[a]*(1-r)+s[a]*r));return n[3]=i,this.setSource(n),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,i.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},i.Color.fromRgb=function(t){return e.fromSource(e.sourceFromRgb(t))},i.Color.sourceFromRgb=function(t){var n=t.match(e.reRGBa);if(n){var i=parseInt(n[1],10)/(/%$/.test(n[1])?100:1)*(/%$/.test(n[1])?255:1),r=parseInt(n[2],10)/(/%$/.test(n[2])?100:1)*(/%$/.test(n[2])?255:1),o=parseInt(n[3],10)/(/%$/.test(n[3])?100:1)*(/%$/.test(n[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(o,10),n[4]?parseFloat(n[4]):1]}},i.Color.fromRgba=e.fromRgb,i.Color.fromHsl=function(t){return e.fromSource(e.sourceFromHsl(t))},i.Color.sourceFromHsl=function(t){var i=t.match(e.reHSLa);if(i){var r,o,s,a=(parseFloat(i[1])%360+360)%360/360,c=parseFloat(i[2])/(/%$/.test(i[2])?100:1),l=parseFloat(i[3])/(/%$/.test(i[3])?100:1);if(0===c)r=o=s=l;else{var u=.5>=l?l*(c+1):l+c-l*c,h=2*l-u;r=n(h,u,a+1/3),o=n(h,u,a),s=n(h,u,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),i[4]?parseFloat(i[4]):1]}},i.Color.fromHsla=e.fromHsl,i.Color.fromHex=function(t){return e.fromSource(e.sourceFromHex(t))},i.Color.sourceFromHex=function(t){if(t.match(e.reHex)){var n=t.slice(t.indexOf("#")+1),i=3===n.length,r=i?n.charAt(0)+n.charAt(0):n.substring(0,2),o=i?n.charAt(1)+n.charAt(1):n.substring(2,4),s=i?n.charAt(2)+n.charAt(2):n.substring(4,6);return[parseInt(r,16),parseInt(o,16),parseInt(s,16),1]}},void(i.Color.fromSource=function(t){var n=new e;return n.setSource(t),n}))}("undefined"!=typeof exports?exports:this),function(){function t(t){var e,n,i,r=t.getAttribute("style"),o=t.getAttribute("offset");if(o=parseFloat(o)/(/%$/.test(o)?100:1),o=0>o?0:o>1?1:o,r){var s=r.split(/\s*;\s*/);""===s[s.length-1]&&s.pop();for(var a=s.length;a--;){var c=s[a].split(/\s*:\s*/),l=c[0].trim(),u=c[1].trim();"stop-color"===l?e=u:"stop-opacity"===l&&(i=u)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),i||(i=t.getAttribute("stop-opacity")),e=new fabric.Color(e),n=e.getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=n,{offset:o,color:e.toRgb(),opacity:i}}function e(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}function n(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}function i(t,e,n){var i,r=0,o=1,s="";for(var a in e)i=parseFloat(e[a],10),o="string"==typeof e[a]&&/^\d+%$/.test(e[a])?.01:1,"x1"===a||"x2"===a||"r2"===a?(o*="objectBoundingBox"===n?t.width:1,r="objectBoundingBox"===n?t.left||0:0):("y1"===a||"y2"===a)&&(o*="objectBoundingBox"===n?t.height:1,r="objectBoundingBox"===n?t.top||0:0),e[a]=i*o+r;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===n&&t.rx!==t.ry){var c=t.ry/t.rx;s=" scale(1, "+c+")",e.y1&&(e.y1/=c),e.y2&&(e.y2/=c)}return s}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=fabric.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var n=new fabric.Color(t[e]);this.colorStops.push({offset:e,color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(){return{type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(t){var e,n,i=fabric.util.object.clone(this.coords);if(this.colorStops.sort(function(t,e){return t.offset-e.offset}),!t.group||"path-group"!==t.group.type)for(var r in i)"x1"===r||"x2"===r||"r2"===r?i[r]+=this.offsetX-t.width/2:("y1"===r||"y2"===r)&&(i[r]+=this.offsetY-t.height/2);n='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(n+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?e=["<linearGradient ",n,' x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,'">\n']:"radial"===this.type&&(e=["<radialGradient ",n,' cx="',i.x2,'" cy="',i.y2,'" r="',i.r2,'" fx="',i.x1,'" fy="',i.y1,'">\n']);for(var o=0;o<this.colorStops.length;o++)e.push("<stop ",'offset="',100*this.colorStops[o].offset+"%",'" style="stop-color:',this.colorStops[o].color,null!=this.colorStops[o].opacity?";stop-opacity: "+this.colorStops[o].opacity:";",'"/>\n');return e.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),e.join("")},toLive:function(t,e){var n,i,r=fabric.util.object.clone(this.coords);if(this.type){if(e.group&&"path-group"===e.group.type)for(i in r)"x1"===i||"x2"===i?r[i]+=-this.offsetX+e.width/2:("y1"===i||"y2"===i)&&(r[i]+=-this.offsetY+e.height/2);if("text"===e.type||"i-text"===e.type)for(i in r)"x1"===i||"x2"===i?r[i]-=e.width/2:("y1"===i||"y2"===i)&&(r[i]-=e.height/2);"linear"===this.type?n=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(n=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2));for(var o=0,s=this.colorStops.length;s>o;o++){var a=this.colorStops[o].color,c=this.colorStops[o].opacity,l=this.colorStops[o].offset;"undefined"!=typeof c&&(a=new fabric.Color(a).setAlpha(c).toRgba()),n.addColorStop(parseFloat(l),a)}return n}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(r,o){var s,a=r.getElementsByTagName("stop"),c="linearGradient"===r.nodeName?"linear":"radial",l=r.getAttribute("gradientUnits")||"objectBoundingBox",u=r.getAttribute("gradientTransform"),h=[],f={};"linear"===c?f=e(r):"radial"===c&&(f=n(r));for(var d=a.length;d--;)h.push(t(a[d]));s=i(o,f,l);var p=new fabric.Gradient({type:c,coords:f,colorStops:h,offsetX:-o.left,offsetY:-o.top});return(u||""!==s)&&(p.gradientTransform=fabric.parseTransformAttribute((u||"")+s)),p},forObject:function(t,e){return e||(e={}),i(t,e.coords,"userSpaceOnUse"),new fabric.Gradient(e)}})}(),fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(t){if(t||(t={}),this.id=fabric.Object.__uid++,t.source)if("string"==typeof t.source)if("undefined"!=typeof fabric.util.getFunctionBody(t.source))this.source=new Function(fabric.util.getFunctionBody(t.source));
else{var e=this;this.source=fabric.util.createImage(),fabric.util.loadImage(t.source,function(t){e.source=t})}else this.source=t.source;t.repeat&&(this.repeat=t.repeat),t.offsetX&&(this.offsetX=t.offsetX),t.offsetY&&(this.offsetY=t.offsetY)},toObject:function(){var t;return"function"==typeof this.source?t=String(this.source):"string"==typeof this.source.src&&(t=this.source.src),{source:t,repeat:this.repeat,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,n=e.width/t.getWidth(),i=e.height/t.getHeight(),r=this.offsetX/t.getWidth(),o=this.offsetY/t.getHeight(),s="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(i=1),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(n=1),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if("undefined"!=typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed;return e.Shadow?void e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){"string"==typeof t&&(t=this._parseShadow(t));for(var n in t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),i=e.Shadow.reOffsetsAndBlur.exec(n)||[],r=n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseInt(i[1],10)||0,offsetY:parseInt(i[2],10)||0,blur:parseInt(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var e="SourceAlpha",i=40,r=40;return!t||t.fill!==this.color&&t.stroke!==this.color||(e="SourceGraphic"),t.width&&t.height&&(i=100*n(Math.abs(this.offsetX/t.getWidth()),2)+20,r=100*n(Math.abs(this.offsetY/t.getHeight()),2)+20),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n	<feGaussianBlur in="'+e+'" stdDeviation="'+n(this.blur?this.blur/2:0,3)+'" result="blurOut"></feGaussianBlur>\n	<feColorMatrix result="matrixOut" in="blurOut" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.30 0" /></feColorMatrix >\n	<feOffset dx="'+this.offsetX+'" dy="'+this.offsetY+'"></feOffset>\n	<feMerge>\n		<feMergeNode></feMergeNode>\n		<feMergeNode in="SourceGraphic"></feMergeNode>\n	</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY};var t={},n=e.Shadow.prototype;return this.color!==n.color&&(t.color=this.color),this.blur!==n.blur&&(t.blur=this.blur),this.offsetX!==n.offsetX&&(t.offsetX=this.offsetX),this.offsetY!==n.offsetY&&(t.offsetY=this.offsetY),t}}),void(e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/))}("undefined"!=typeof exports?exports:this),function(){"use strict";if(fabric.StaticCanvas)return void fabric.warn("fabric.StaticCanvas is already defined.");var t=fabric.util.object.extend,e=fabric.util.getElementOffset,n=fabric.util.removeFromArray,i=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(t,e){e||(e={}),this._initStatic(t,e),fabric.StaticCanvas.activeInstance=this},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!0,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,preserveObjectStacking:!1,viewportTransform:[1,0,0,1,0,0],onBeforeScaleRotate:function(){},_initStatic:function(t,e){this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),e.overlayImage&&this.setOverlayImage(e.overlayImage,this.renderAll.bind(this)),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,this.renderAll.bind(this)),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,this.renderAll.bind(this)),e.overlayColor&&this.setOverlayColor(e.overlayColor,this.renderAll.bind(this)),this.calcOffset()},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.webkitImageSmoothingEnabled=this.imageSmoothingEnabled,t.mozImageSmoothingEnabled=this.imageSmoothingEnabled,t.msImageSmoothingEnabled=this.imageSmoothingEnabled,t.oImageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,n,i){return"string"==typeof e?fabric.util.loadImage(e,function(e){this[t]=new fabric.Image(e,i),n&&n()},this,i&&i.crossOrigin):(this[t]=e,n&&n()),this},__setBgOverlayColor:function(t,e,n){if(e&&e.source){var i=this;fabric.util.loadImage(e.source,function(r){i[t]=new fabric.Pattern({source:r,repeat:e.repeat,offsetX:e.offsetX,offsetY:e.offsetY}),n&&n()})}else this[t]=e,n&&n();return this},_createCanvasElement:function(){var t=fabric.document.createElement("canvas");if(t.style||(t.style={}),!t)throw i;return this._initCanvasElement(t),t},_initCanvasElement:function(t){if(fabric.util.createCanvasElement(t),"undefined"==typeof t.getContext)throw i},_initOptions:function(t){for(var e in t)this[e]=t[e];this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(),this._initCanvasElement(this.lowerCanvasEl),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;e=e||{};for(var i in t)n=t[i],e.cssOnly||(this._setBackstoreDimension(i,t[i]),n+="px"),e.backstoreOnly||this._setCssDimension(i,n);return e.cssOnly||this.renderAll(),this.calcOffset(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return Math.sqrt(this.viewportTransform[0]*this.viewportTransform[3])},setViewportTransform:function(t){this.viewportTransform=t,this.renderAll();for(var e=0,n=this._objects.length;n>e;e++)this._objects[e].setCoords();return this},zoomToPoint:function(t,e){var n=t;t=fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform)),this.viewportTransform[0]=e,this.viewportTransform[3]=e;var i=fabric.util.transformPoint(t,this.viewportTransform);this.viewportTransform[4]+=n.x-i.x,this.viewportTransform[5]+=n.y-i.y,this.renderAll();for(var r=0,o=this._objects.length;o>r;r++)this._objects[r].setCoords();return this},setZoom:function(t){return this.zoomToPoint(new fabric.Point(0,0),t),this},absolutePan:function(t){this.viewportTransform[4]=-t.x,this.viewportTransform[5]=-t.y,this.renderAll();for(var e=0,n=this._objects.length;n>e;e++)this._objects[e].setCoords();return this},relativePan:function(t){return this.absolutePan(new fabric.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(t,e){if(e){t.save();var n=this.viewportTransform;t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._shouldRenderObject(e)&&e.render(t),t.restore(),this.controlsAboveOverlay||e._renderControls(t)}},_shouldRenderObject:function(t){return t?t!==this.getActiveGroup()||!this.preserveObjectStacking:!1},_onObjectAdded:function(t){this.stateful&&t.setupState(),t.canvas=this,t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared")),this.fire("object:removed",{target:t}),t.fire("removed")},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.discardActiveGroup&&this.discardActiveGroup(),this.discardActiveObject&&this.discardActiveObject(),this.clearContext(this.contextContainer),this.contextTop&&this.clearContext(this.contextTop),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(t){var e=this[t===!0&&this.interactive?"contextTop":"contextContainer"],n=this.getActiveGroup();return this.contextTop&&this.selection&&!this._groupSelector&&this.clearContext(this.contextTop),t||this.clearContext(e),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,e),this._renderBackground(e),this._renderObjects(e,n),this._renderActiveGroup(e,n),this.clipTo&&e.restore(),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render"),this},_renderObjects:function(t,e){var n,i;if(!e||this.preserveObjectStacking)for(n=0,i=this._objects.length;i>n;++n)this._draw(t,this._objects[n]);else for(n=0,i=this._objects.length;i>n;++n)this._objects[n]&&!e.contains(this._objects[n])&&this._draw(t,this._objects[n])},_renderActiveGroup:function(t,e){if(e){var n=[];this.forEachObject(function(t){e.contains(t)&&n.push(t)}),e._set("objects",n),this._draw(t,e)}},_renderBackground:function(t){this.backgroundColor&&(t.fillStyle=this.backgroundColor.toLive?this.backgroundColor.toLive(t):this.backgroundColor,t.fillRect(this.backgroundColor.offsetX||0,this.backgroundColor.offsetY||0,this.width,this.height)),this.backgroundImage&&this._draw(t,this.backgroundImage)},_renderOverlay:function(t){this.overlayColor&&(t.fillStyle=this.overlayColor.toLive?this.overlayColor.toLive(t):this.overlayColor,t.fillRect(this.overlayColor.offsetX||0,this.overlayColor.offsetY||0,this.width,this.height)),this.overlayImage&&this._draw(t,this.overlayImage)},renderTop:function(){var t=this.contextTop||this.contextContainer;this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection();var e=this.getActiveGroup();return e&&e.render(t),this._renderOverlay(t),this.fire("after:render"),this},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return this._centerObject(t,new fabric.Point(this.getCenter().left,t.getCenterPoint().y)),this.renderAll(),this},centerObjectV:function(t){return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,this.getCenter().top)),this.renderAll(),this},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new fabric.Point(e.left,e.top)),this.renderAll(),this},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var i=this.getActiveGroup();i&&this.discardActiveGroup();var r={objects:this._toObjects(e,n)};return t(r,this.__serializeBgOverlay()),fabric.util.populateWithProperties(this,r,n),i&&(this.setActiveGroup(new fabric.Group(i.getObjects(),{originX:"center",originY:"center"})),i.forEachObject(function(t){t.set("active",!0)}),this._currentTransform&&(this._currentTransform.target=this.getActiveGroup())),r},_toObjects:function(t,e){return this.getObjects().map(function(n){return this._toObject(n,t,e)},this)},_toObject:function(t,e,n){var i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=i),r},__serializeBgOverlay:function(){var t={background:this.backgroundColor&&this.backgroundColor.toObject?this.backgroundColor.toObject():this.backgroundColor};return this.overlayColor&&(t.overlay=this.overlayColor.toObject?this.overlayColor.toObject():this.overlayColor),this.backgroundImage&&(t.backgroundImage=this.backgroundImage.toObject()),this.overlayImage&&(t.overlayImage=this.overlayImage.toObject()),t},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this._setSVGBgOverlayColor(n,"backgroundColor"),this._setSVGBgOverlayImage(n,"backgroundImage"),this._setSVGObjects(n,e),this._setSVGBgOverlayColor(n,"overlayColor"),this._setSVGBgOverlayImage(n,"overlayImage"),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,i,r;e.viewBox?(n=e.viewBox.width,i=e.viewBox.height):(n=this.width,i=this.height,this.svgViewportTransformation||(r=this.viewportTransform,n/=r[0],i/=r[3])),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',this.backgroundColor&&!this.backgroundColor.toLive?'style="background-color: '+this.backgroundColor+'" ':null,e.viewBox?'viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':null,'xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>","<defs>",fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"</defs>")},_setSVGObjects:function(t,e){var n=this.getActiveGroup();n&&this.discardActiveGroup();for(var i=0,r=this.getObjects(),o=r.length;o>i;i++)t.push(r[i].toSVG(e));n&&(this.setActiveGroup(new fabric.Group(n.getObjects())),n.forEachObject(function(t){t.set("active",!0)}))},_setSVGBgOverlayImage:function(t,e){this[e]&&this[e].toSVG&&t.push(this[e].toSVG())},_setSVGBgOverlayColor:function(t,e){this[e]&&this[e].source?t.push('<rect x="',this[e].offsetX,'" y="',this[e].offsetY,'" ','width="',"repeat-y"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.width:this.width,'" height="',"repeat-x"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.height:this.height,'" fill="url(#'+e+'Pattern)"',"></rect>"):this[e]&&"overlayColor"===e&&t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>")},sendToBack:function(t){return n(this._objects,t),this._objects.unshift(t),this.renderAll&&this.renderAll()},bringToFront:function(t){return n(this._objects,t),this._objects.push(t),this.renderAll&&this.renderAll()},sendBackwards:function(t,e){var i=this._objects.indexOf(t);if(0!==i){var r=this._findNewLowerIndex(t,i,e);n(this._objects,t),this._objects.splice(r,0,t),this.renderAll&&this.renderAll()}return this},_findNewLowerIndex:function(t,e,n){var i;if(n){i=e;for(var r=e-1;r>=0;--r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(o){i=r;break}}}else i=e-1;return i},bringForward:function(t,e){var i=this._objects.indexOf(t);if(i!==this._objects.length-1){var r=this._findNewUpperIndex(t,i,e);n(this._objects,t),this._objects.splice(r,0,t),this.renderAll&&this.renderAll()}return this},_findNewUpperIndex:function(t,e,n){var i;if(n){i=e;for(var r=e+1;r<this._objects.length;++r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(o){i=r;break}}}else i=e+1;return i},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this.interactive&&this.removeListeners(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,fabric.Collection),t(fabric.StaticCanvas.prototype,fabric.DataURLExporter),t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=fabric.util.createCanvasElement();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"getImageData":return"undefined"!=typeof n.getImageData;case"setLineDash":return"undefined"!=typeof n.setLineDash;case"toDataURL":return"undefined"!=typeof e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(i){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(t){return this.shadow=new fabric.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop;t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur,t.shadowOffsetX=this.shadow.offsetX,t.shadowOffsetY=this.shadow.offsetY}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),function(){fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){this._captureDrawingPath(t),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new fabric.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){this._points.push(t)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new fabric.Point(t.x,t.y);this._addPoint(e)},_render:function(){var t=this.canvas.contextTop,e=this.canvas.viewportTransform,n=this._points[0],i=this._points[1];t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.beginPath(),2===this._points.length&&n.x===i.x&&n.y===i.y&&(n.x-=.5,i.x+=.5),t.moveTo(n.x,n.y);for(var r=1,o=this._points.length;o>r;r++){var s=n.midPointFrom(i);t.quadraticCurveTo(n.x,n.y,s.x,s.y),n=this._points[r],i=this._points[r+1]}t.lineTo(n.x,n.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=[],n=new fabric.Point(t[0].x,t[0].y),i=new fabric.Point(t[1].x,t[1].y);e.push("M ",t[0].x," ",t[0].y," ");for(var r=1,o=t.length;o>r;r++){var s=n.midPointFrom(i);e.push("Q ",n.x," ",n.y," ",s.x," ",s.y," "),n=new fabric.Point(t[r].x,t[r].y),r+1<t.length&&(i=new fabric.Point(t[r+1].x,t[r+1].y))}return e.push("L ",n.x," ",n.y," "),e},createPath:function(t){var e=new fabric.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){var t=this.canvas.contextTop;t.closePath();var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"===e)return void this.canvas.renderAll();var n=this.createPath(e);this.canvas.add(n),n.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:n})}})}(),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop,i=this.canvas.viewportTransform;n.save(),n.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n.fillStyle=e.fill,n.beginPath(),n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,i=this.points.length;i>n;n++){var r=this.points[n],o=new fabric.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&o.setShadow(this.shadow),e.push(o)}var s=new fabric.Group(e,{originX:"center",originY:"center"});s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},addPoint:function(t){var e=new fabric.Point(t.x,t.y),n=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=i,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render()},onMouseMove:function(t){this.addSprayChunk(t),this.render()},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,i=this.sprayChunks.length;i>n;n++)for(var r=this.sprayChunks[n],o=0,s=r.length;s>o;o++){var a=new fabric.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&a.setShadow(this.shadow),e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new fabric.Group(e,{originX:"center",originY:"center"});c.canvas=this.canvas,this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},_getOptimizedRects:function(t){for(var e,n={},i=0,r=t.length;r>i;i++)e=t[i].left+""+t[i].top,n[e]||(n[e]=t[i]);var o=[];for(e in n)o.push(n[e]);return o},render:function(){var t=this.canvas.contextTop;t.fillStyle=this.color;var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var n=0,i=this.sprayChunkPoints.length;i>n;n++){var r=this.sprayChunkPoints[n];"undefined"!=typeof r.opacity&&(t.globalAlpha=r.opacity),t.fillRect(r.x,r.y,r.width,r.width)}t.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e,n,i,r=this.width/2,o=0;o<this.density;o++){e=fabric.util.getRandomInt(t.x-r,t.x+r),n=fabric.util.getRandomInt(t.y-r,t.y+r),i=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new fabric.Point(e,n);s.width=i,this.randomOpacity&&(s.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var t=20,e=5,n=fabric.document.createElement("canvas"),i=n.getContext("2d");return n.width=n.height=t+e,i.fillStyle=this.color,i.beginPath(),i.arc(t/2,t/2,t/2,0,2*Math.PI,!1),i.closePath(),i.fill(),n},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction()}),e}}),function(){var t=fabric.util.getPointer,e=fabric.util.degreesToRadians,n=fabric.util.radiansToDegrees,i=Math.atan2,r=Math.abs,o=.5;fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas(),fabric.Canvas.activeInstance=this},uniScaleTransform:!1,centeredScaling:!1,centeredRotation:!1,interactive:!0,selection:!0,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_resetCurrentTransform:function(t){var e=this._currentTransform;e.target.set({scaleX:e.original.scaleX,scaleY:e.original.scaleY,left:e.original.left,top:e.original.top}),this._shouldCenterTransform(t,e.target)?"rotate"===e.action?this._setOriginToCenter(e.target):("center"!==e.originX&&(e.mouseXSign="right"===e.originX?-1:1),"center"!==e.originY&&(e.mouseYSign="bottom"===e.originY?-1:1),e.originX="center",e.originY="center"):(e.originX=e.original.originX,e.originY=e.original.originY)},containsPoint:function(t,e){var n=this.getPointer(t,!0),i=this._normalizePointer(e,n);return e.containsPoint(i)||e._findTargetCorner(n)},_normalizePointer:function(t,e){var n,i=this.getActiveGroup(),r=e.x,o=e.y,s=i&&"group"!==t.type&&i.contains(t);return s&&(n=new fabric.Point(i.left,i.top),n=fabric.util.transformPoint(n,this.viewportTransform,!0),r-=n.x,o-=n.y),{x:r,y:o}},isTargetTransparent:function(t,e,n){var i=t.hasBorders,r=t.transparentCorners;t.hasBorders=t.transparentCorners=!1,this._draw(this.contextCache,t),t.hasBorders=i,t.transparentCorners=r;var o=fabric.util.isTransparent(this.contextCache,e,n,this.targetFindTolerance);return this.clearContext(this.contextCache),o},_shouldClearSelection:function(t,e){var n=this.getActiveGroup(),i=this.getActiveObject();return!e||e&&n&&!n.contains(e)&&n!==e&&!t.shiftKey||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(t,e){if(e){var n,i=this._currentTransform;return"scale"===i.action||"scaleX"===i.action||"scaleY"===i.action?n=this.centeredScaling||e.centeredScaling:"rotate"===i.action&&(n=this.centeredRotation||e.centeredRotation),n?!t.altKey:t.altKey}},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":("mr"===e||"tr"===e||"br"===e)&&(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":("bl"===e||"mb"===e||"br"===e)&&(n.y="top"),n},_getActionFromCorner:function(t,e){var n="drag";return e&&(n="ml"===e||"mr"===e?"scaleX":"mt"===e||"mb"===e?"scaleY":"mtr"===e?"rotate":"scale"),n},_setupCurrentTransform:function(t,n){if(n){var i=this.getPointer(t),r=n._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(n,r),s=this._getOriginFromCorner(n,r);this._currentTransform={target:n,action:o,scaleX:n.scaleX,scaleY:n.scaleY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:s.x,originY:s.y,ex:i.x,ey:i.y,left:n.left,top:n.top,theta:e(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1},this._currentTransform.original={left:n.left,top:n.top,scaleX:n.scaleX,scaleY:n.scaleY,originX:s.x,originY:s.y},this._resetCurrentTransform(t)}},_translateObject:function(t,e){var n=this._currentTransform.target;n.get("lockMovementX")||n.set("left",t-this._currentTransform.offsetX),n.get("lockMovementY")||n.set("top",e-this._currentTransform.offsetY)},_scaleObject:function(t,e,n){var i=this._currentTransform,r=i.target,o=r.get("lockScalingX"),s=r.get("lockScalingY"),a=r.get("lockScalingFlip");if(!o||!s){var c=r.translateToOriginPoint(r.getCenterPoint(),i.originX,i.originY),l=r.toLocalPoint(new fabric.Point(t,e),i.originX,i.originY);this._setLocalMouse(l,i),this._setObjectScale(l,i,o,s,n,a),r.setPositionByOrigin(c,i.originX,i.originY)}},_setObjectScale:function(t,e,n,i,r,o){var s=e.target,a=!1,c=!1,l=s.stroke?s.strokeWidth:0;e.newScaleX=t.x/(s.width+l/2),e.newScaleY=t.y/(s.height+l/2),o&&e.newScaleX<=0&&e.newScaleX<s.scaleX&&(a=!0),o&&e.newScaleY<=0&&e.newScaleY<s.scaleY&&(c=!0),"equally"!==r||n||i?r?"x"!==r||s.get("lockUniScaling")?"y"!==r||s.get("lockUniScaling")||c||i||s.set("scaleY",e.newScaleY):a||n||s.set("scaleX",e.newScaleX):(a||n||s.set("scaleX",e.newScaleX),c||i||s.set("scaleY",e.newScaleY)):a||c||this._scaleObjectEqually(t,s,e),a||c||this._flipObject(e,r)},_scaleObjectEqually:function(t,e,n){var i=t.y+t.x,r=e.stroke?e.strokeWidth:0,o=(e.height+r/2)*n.original.scaleY+(e.width+r/2)*n.original.scaleX;n.newScaleX=n.original.scaleX*i/o,n.newScaleY=n.original.scaleY*i/o,e.set("scaleX",n.newScaleX),e.set("scaleY",n.newScaleY)},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var n=e.target;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),r(t.x)>n.padding?t.x<0?t.x+=n.padding:t.x-=n.padding:t.x=0,r(t.y)>n.padding?t.y<0?t.y+=n.padding:t.y-=n.padding:t.y=0},_rotateObject:function(t,e){var r=this._currentTransform;if(!r.target.get("lockRotation")){var o=i(r.ey-r.top,r.ex-r.left),s=i(e-r.top,t-r.left),a=n(s-o+r.theta);0>a&&(a=360+a),r.target.angle=a%360}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.setAngle(0)},_drawSelection:function(){var t=this.contextTop,e=this._groupSelector,n=e.left,i=e.top,s=r(n),a=r(i);if(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(n>0?0:-n),e.ey-(i>0?0:-i),s,a),t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1){var c=e.ex+o-(n>0?0:s),l=e.ey+o-(i>0?0:a);t.beginPath(),fabric.util.drawDashedLine(t,c,l,c+s,l,this.selectionDashArray),fabric.util.drawDashedLine(t,c,l+a-1,c+s,l+a-1,this.selectionDashArray),fabric.util.drawDashedLine(t,c,l,c,l+a,this.selectionDashArray),fabric.util.drawDashedLine(t,c+s-1,l,c+s-1,l+a,this.selectionDashArray),t.closePath(),t.stroke()}else t.strokeRect(e.ex+o-(n>0?0:s),e.ey+o-(i>0?0:a),s,a)},_isLastRenderedObject:function(t){return this.controlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay.visible&&this.containsPoint(t,this.lastRenderedObjectWithControlsAboveOverlay)&&this.lastRenderedObjectWithControlsAboveOverlay._findTargetCorner(this.getPointer(t,!0))
},findTarget:function(t,e){if(!this.skipTargetFind){if(this._isLastRenderedObject(t))return this.lastRenderedObjectWithControlsAboveOverlay;var n=this.getActiveGroup();if(n&&!e&&this.containsPoint(t,n))return n;var i=this._searchPossibleTargets(t);return this._fireOverOutEvents(i),i}},_fireOverOutEvents:function(t){t?this._hoveredTarget!==t&&(this.fire("mouse:over",{target:t}),t.fire("mouseover"),this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget}),this._hoveredTarget.fire("mouseout")),this._hoveredTarget=t):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(t,e,n){if(e&&e.visible&&e.evented&&this.containsPoint(t,e)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;var i=this.isTargetTransparent(e,n.x,n.y);if(!i)return!0}},_searchPossibleTargets:function(t){for(var e,n=this.getPointer(t,!0),i=this._objects.length;i--;)if(this._checkTarget(t,this._objects[i],n)){this.relatedTarget=this._objects[i],e=this._objects[i];break}return e},getPointer:function(e,n,i){i||(i=this.upperCanvasEl);var r,o=t(e,i),s=i.getBoundingClientRect(),a=s.width||0,c=s.height||0;return a&&c||("top"in s&&"bottom"in s&&(c=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,n||(o=fabric.util.transformPoint(o,fabric.util.invertTransform(this.viewportTransform))),r=0===a||0===c?{width:1,height:1}:{width:i.width/a,height:i.height/c},{x:o.x*r.width,y:o.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,n=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0}),t.width=e,t.height=n,fabric.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(t){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=t,t.set("active",!0)},setActiveObject:function(t,e){return this._setActiveObject(t),this.renderAll(),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this},getActiveObject:function(){return this._activeObject},_discardActiveObject:function(){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=null},discardActiveObject:function(t){return this._discardActiveObject(),this.renderAll(),this.fire("selection:cleared",{e:t}),this},_setActiveGroup:function(t){this._activeGroup=t,t&&t.set("active",!0)},setActiveGroup:function(t,e){return this._setActiveGroup(t),t&&(this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var t=this.getActiveGroup();t&&t.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(t){return this._discardActiveGroup(),this.fire("selection:cleared",{e:t}),this},deactivateAll:function(){for(var t=this.getObjects(),e=0,n=t.length;n>e;e++)t[e].set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(t){var e=this.getActiveGroup()||this.getActiveObject();return e&&this.fire("before:selection:cleared",{target:e,e:t}),this.deactivateAll(),e&&this.fire("selection:cleared",{e:t}),this},drawControls:function(t){var e=this.getActiveGroup();e?this._drawGroupControls(t,e):this._drawObjectsControls(t)},_drawGroupControls:function(t,e){e._renderControls(t)},_drawObjectsControls:function(t){for(var e=0,n=this._objects.length;n>e;++e)this._objects[e]&&this._objects[e].active&&(this._objects[e]._renderControls(t),this.lastRenderedObjectWithControlsAboveOverlay=this._objects[e])}});for(var s in fabric.StaticCanvas)"prototype"!==s&&(fabric.Canvas[s]=fabric.StaticCanvas[s]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=fabric.util.addListener,n=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this._bindEvents(),e(fabric.window,"resize",this._onResize),e(this.upperCanvasEl,"mousedown",this._onMouseDown),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"mousewheel",this._onMouseWheel),e(this.upperCanvasEl,"touchstart",this._onMouseDown),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this)},removeListeners:function(){n(fabric.window,"resize",this._onResize),n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"mousewheel",this._onMouseWheel),n(this.upperCanvasEl,"touchstart",this._onMouseDown),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t,e){this.__onMouseWheel&&this.__onMouseWheel(t,e)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onMouseDown:function(t){this.__onMouseDown(t),e(fabric.document,"touchend",this._onMouseUp),e(fabric.document,"touchmove",this._onMouseMove),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?n(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(fabric.document,"mouseup",this._onMouseUp),e(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),n(fabric.document,"mouseup",this._onMouseUp),n(fabric.document,"touchend",this._onMouseUp),n(fabric.document,"mousemove",this._onMouseMove),n(fabric.document,"touchmove",this._onMouseMove),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchend"===t.type){var i=this;setTimeout(function(){e(i.upperCanvasEl,"mousedown",i._onMouseDown)},400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var n=this.getActiveGroup()||this.getActiveObject();return!!(t&&(t.isMoving||t!==n)||!t&&n||!t&&!n&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y))},__onMouseUp:function(t){var e;if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);this._currentTransform?(this._finalizeCurrentTransform(),e=this._currentTransform.target):e=this.findTarget(t,!0);var n=this._shouldRender(e,this.getPointer(t));this._maybeGroupObjects(t),e&&(e.isMoving=!1),n&&this.renderAll(),this._handleCursorAndEvent(t,e)},_handleCursorAndEvent:function(t,e){this._setCursorFromEvent(t,e);var n=this;setTimeout(function(){n._setCursorFromEvent(t,e)},50),this.fire("mouse:up",{target:e,e:t}),e&&e.fire("mouseup",{e:t})},_finalizeCurrentTransform:function(){var t=this._currentTransform,e=t.target;e._scaling&&(e._scaling=!1),e.setCoords(),this.stateful&&e.hasStateChanged()&&(this.fire("object:modified",{target:e}),e.fire("modified")),this._restoreOriginXY(e)},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject(t).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var e=fabric.util.invertTransform(this.viewportTransform),n=fabric.util.transformPoint(this.getPointer(t,!0),e);this.freeDrawingBrush.onMouseDown(n),this.fire("mouse:down",{e:t});var i=this.findTarget(t);"undefined"!=typeof i&&i.fire("mousedown",{e:t,target:i})},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=fabric.util.invertTransform(this.viewportTransform),n=fabric.util.transformPoint(this.getPointer(t,!0),e);this.freeDrawingBrush.onMouseMove(n)}this.setCursor(this.freeDrawingCursor),this.fire("mouse:move",{e:t});var i=this.findTarget(t);"undefined"!=typeof i&&i.fire("mousemove",{e:t,target:i})},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this.fire("mouse:up",{e:t});var e=this.findTarget(t);"undefined"!=typeof e&&e.fire("mouseup",{e:t,target:e})},__onMouseDown:function(t){var e="which"in t?1===t.which:1===t.button;if(e||fabric.isTouchSupported){if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._currentTransform){var n=this.findTarget(t),i=this.getPointer(t,!0);this._previousPointer=i;var r=this._shouldRender(n,i),o=this._shouldGroup(t,n);this._shouldClearSelection(t,n)?this._clearSelection(t,n,i):o&&(this._handleGrouping(t,n),n=this.getActiveGroup()),n&&n.selectable&&!o&&(this._beforeTransform(t,n),this._setupCurrentTransform(t,n)),r&&this.renderAll(),this.fire("mouse:down",{target:n,e:t}),n&&n.fire("mousedown",{e:t})}}},_beforeTransform:function(t,e){var n;this.stateful&&e.saveState(),(n=e._findTargetCorner(this.getPointer(t)))&&this.onBeforeScaleRotate(e),e!==this.getActiveGroup()&&e!==this.getActiveObject()&&(this.deactivateAll(),this.setActiveObject(e,t))},_clearSelection:function(t,e,n){this.deactivateAllWithDispatch(t),e&&e.selectable?this.setActiveObject(e,t):this.selection&&(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0})},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,n;if(this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!("undefined"!=typeof t.touches&&t.touches.length>1)){var i=this._groupSelector;i?(n=this.getPointer(t,!0),i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t),!e||e&&!e.selectable?this.setCursor(this.defaultCursor):this._setCursorFromEvent(t,e)),this.fire("mouse:move",{target:e,e:t}),e&&e.fire("mousemove",{e:t})}},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,this._beforeScaleTransform(t,n),this._performTransformAction(t,n,e),this.renderAll()},_performTransformAction:function(t,e,n){var i=n.x,r=n.y,o=e.target,s=e.action;"rotate"===s?(this._rotateObject(i,r),this._fire("rotating",o,t)):"scale"===s?(this._onScale(t,e,i,r),this._fire("scaling",o,t)):"scaleX"===s?(this._scaleObject(i,r,"x"),this._fire("scaling",o,t)):"scaleY"===s?(this._scaleObject(i,r,"y"),this._fire("scaling",o,t)):(this._translateObject(i,r),this._fire("moving",o,t),this.setCursor(this.moveCursor))},_fire:function(t,e,n){this.fire("object:"+t,{target:e,e:n}),e.fire(t,{e:n})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var n=this._shouldCenterTransform(t,e.target);(n&&("center"!==e.originX||"center"!==e.originY)||!n&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(t),e.reset=!0)}},_onScale:function(t,e,n,i){!t.shiftKey&&!this.uniScaleTransform||e.target.get("lockUniScaling")?(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(t,e.target),e.currentAction="scaleEqually",this._scaleObject(n,i,"equally")):(e.currentAction="scale",this._scaleObject(n,i))},_setCursorFromEvent:function(t,e){if(!e||!e.selectable)return this.setCursor(this.defaultCursor),!1;var n=this.getActiveGroup(),i=e._findTargetCorner&&(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));return i?this._setCornerCursor(i,e):this.setCursor(e.hoverCursor||this.hoverCursor),!0},_setCornerCursor:function(e,n){if(e in t)this.setCursor(this._getRotatedCornerCursor(e,n));else{if("mtr"!==e||!n.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(e,n){var i=Math.round(n.getAngle()%360/45);return 0>i&&(i+=8),i+=t[e],i%=8,this.cursorMap[i]}})}(),function(){var t=Math.min,e=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(t,e){var n=this.getActiveObject();return t.shiftKey&&(this.getActiveGroup()||n&&n!==e)&&this.selection},_handleGrouping:function(t,e){(e!==this.getActiveGroup()||(e=this.findTarget(t,!0),e&&!e.isType("group")))&&(this.getActiveGroup()?this._updateActiveGroup(e,t):this._createActiveGroup(e,t),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(t,e){var n=this.getActiveGroup();if(n.contains(t)){if(n.removeWithUpdate(t),this._resetObjectTransform(n),t.set("active",!1),1===n.size())return this.discardActiveGroup(e),void this.setActiveObject(n.item(0))}else n.addWithUpdate(t),this._resetObjectTransform(n);this.fire("selection:created",{target:n,e:e}),n.set("active",!0)},_createActiveGroup:function(t,e){if(this._activeObject&&t!==this._activeObject){var n=this._createGroup(t);n.addWithUpdate(),this.setActiveGroup(n),this._activeObject=null,this.fire("selection:created",{target:n,e:e})}t.set("active",!0)},_createGroup:function(t){var e=this.getObjects(),n=e.indexOf(this._activeObject)<e.indexOf(t),i=n?[this._activeObject,t]:[t,this._activeObject];return new fabric.Group(i,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects();1===e.length?this.setActiveObject(e[0],t):e.length>1&&(e=new fabric.Group(e.reverse(),{canvas:this}),e.addWithUpdate(),this.setActiveGroup(e,t),e.saveCoords(),this.fire("selection:created",{target:e}),this.renderAll())},_collectObjects:function(){for(var n,i=[],r=this._groupSelector.ex,o=this._groupSelector.ey,s=r+this._groupSelector.left,a=o+this._groupSelector.top,c=new fabric.Point(t(r,s),t(o,a)),l=new fabric.Point(e(r,s),e(o,a)),u=r===s&&o===a,h=this._objects.length;h--&&(n=this._objects[h],!(n&&n.selectable&&n.visible&&(n.intersectsWithRect(c,l)||n.isContainedWithinRect(c,l)||n.containsPoint(c)||n.containsPoint(l))&&(n.set("active",!0),i.push(n),u))););return i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t);var e=this.getActiveGroup();e&&(e.setObjectsCoords().setCoords(),e.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,i=t.multiplier||1,r={left:t.left,top:t.top,width:t.width,height:t.height};return 1!==i?this.__toDataURLWithMultiplier(e,n,r,i):this.__toDataURL(e,n,r)},__toDataURL:function(t,e,n){this.renderAll(!0);var i=this.upperCanvasEl||this.lowerCanvasEl,r=this.__getCroppedCanvas(i,n);"jpg"===t&&(t="jpeg");var o=fabric.StaticCanvas.supports("toDataURLWithQuality")?(r||i).toDataURL("image/"+t,e):(r||i).toDataURL("image/"+t);return this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),r&&(r=null),o},__getCroppedCanvas:function(t,e){var n,i,r="left"in e||"top"in e||"width"in e||"height"in e;return r&&(n=fabric.util.createCanvasElement(),i=n.getContext("2d"),n.width=e.width||this.width,n.height=e.height||this.height,i.drawImage(t,-e.left||0,-e.top||0)),n},__toDataURLWithMultiplier:function(t,e,n,i){var r=this.getWidth(),o=this.getHeight(),s=r*i,a=o*i,c=this.getActiveObject(),l=this.getActiveGroup(),u=this.contextTop||this.contextContainer;i>1&&this.setWidth(s).setHeight(a),u.scale(i,i),n.left&&(n.left*=i),n.top&&(n.top*=i),n.width?n.width*=i:1>i&&(n.width=s),n.height?n.height*=i:1>i&&(n.height=a),l?this._tempRemoveBordersControlsFromGroup(l):c&&this.deactivateAll&&this.deactivateAll(),this.renderAll(!0);var h=this.__toDataURL(t,e,n);return this.width=r,this.height=o,u.scale(1/i,1/i),this.setWidth(r).setHeight(o),l?this._restoreBordersControlsOnGroup(l):c&&this.setActiveObject&&this.setActiveObject(c),this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),h},toDataURLWithMultiplier:function(t,e,n){return this.toDataURL({format:t,multiplier:e,quality:n})},_tempRemoveBordersControlsFromGroup:function(t){t.origHasControls=t.hasControls,t.origBorderColor=t.borderColor,t.hasControls=!0,t.borderColor="rgba(0,0,0,0)",t.forEachObject(function(t){t.origBorderColor=t.borderColor,t.borderColor="rgba(0,0,0,0)"})},_restoreBordersControlsOnGroup:function(t){t.hideControls=t.origHideControls,t.borderColor=t.origBorderColor,t.forEachObject(function(t){t.borderColor=t.origBorderColor,delete t.origBorderColor})}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,n){return this.loadFromJSON(t,e,n)},loadFromJSON:function(t,e,n){if(t){var i="string"==typeof t?JSON.parse(t):t;this.clear();var r=this;return this._enlivenObjects(i.objects,function(){r._setBgOverlay(i,e)},n),this}},_setBgOverlay:function(t,e){var n=this,i={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!(t.backgroundImage||t.overlayImage||t.background||t.overlay))return void(e&&e());var r=function(){i.backgroundImage&&i.overlayImage&&i.backgroundColor&&i.overlayColor&&(n.renderAll(),e&&e())};this.__setBgOverlay("backgroundImage",t.backgroundImage,i,r),this.__setBgOverlay("overlayImage",t.overlayImage,i,r),this.__setBgOverlay("backgroundColor",t.background,i,r),this.__setBgOverlay("overlayColor",t.overlay,i,r),r()},__setBgOverlay:function(t,e,n,i){var r=this;return e?void("backgroundImage"===t||"overlayImage"===t?fabric.Image.fromObject(e,function(e){r[t]=e,n[t]=!0,i&&i()}):this["set"+fabric.util.string.capitalize(t,!0)](e,function(){n[t]=!0,i&&i()})):void(n[t]=!0)},_enlivenObjects:function(t,e,n){var i=this;if(!t||0===t.length)return void(e&&e());var r=this.renderOnAddRemove;this.renderOnAddRemove=!1,fabric.util.enlivenObjects(t,function(t){t.forEach(function(t,e){i.insertAt(t,e,!0)}),i.renderOnAddRemove=r,e&&e()},null,n)},_toDataURL:function(t,e){this.clone(function(n){e(n.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,n){this.clone(function(i){n(i.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(n,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var n=new fabric.Canvas(e);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,function(){n.renderAll(),t&&t(n)}),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(){var t=fabric.util.degreesToRadians,e=fabric.util.radiansToDegrees;fabric.util.object.extend(fabric.Canvas.prototype,{__onTransformGesture:function(t,e){if(!this.isDrawingMode&&t.touches&&2===t.touches.length&&"gesture"===e.gesture){var n=this.findTarget(t);"undefined"!=typeof n&&(this.__gesturesParams={e:t,self:e,target:n},this.__gesturesRenderer()),this.fire("touch:gesture",{target:n,e:t,self:e})}},__gesturesParams:null,__gesturesRenderer:function(){if(null!==this.__gesturesParams&&null!==this._currentTransform){var t=this.__gesturesParams.self,e=this._currentTransform;e.action="scale",e.originX=e.originY="center",this._setOriginToCenter(e.target),this._scaleObjectBy(t.scale),0!==t.rotation&&(e.action="rotate",this._rotateObjectByAngle(t.rotation)),this.renderAll(),e.action="drag"}},__onDrag:function(t,e){this.fire("touch:drag",{e:t,self:e})},__onOrientationChange:function(t,e){this.fire("touch:orientation",{e:t,self:e})},__onShake:function(t,e){this.fire("touch:shake",{e:t,self:e})},__onLongPress:function(t,e){this.fire("touch:longpress",{e:t,self:e})},_scaleObjectBy:function(t,e){var n=this._currentTransform,i=n.target,r=i.get("lockScalingX"),o=i.get("lockScalingY");if(!r||!o){i._scaling=!0;var s=i.translateToOriginPoint(i.getCenterPoint(),n.originX,n.originY);e||(n.newScaleX=n.scaleX*t,n.newScaleY=n.scaleY*t,r||i.set("scaleX",n.scaleX*t),o||i.set("scaleY",n.scaleY*t)),i.setPositionByOrigin(s,n.originX,n.originY)}},_rotateObjectByAngle:function(n){var i=this._currentTransform;i.target.get("lockRotation")||(i.target.angle=e(t(n)+i.theta))}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.toFixed,r=e.util.string.capitalize,o=e.util.degreesToRadians,s=e.StaticCanvas.supports("setLineDash");e.Object||(e.Object=e.util.createClass({type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,cornerSize:12,transparentCorners:!0,hoverCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockScalingFlip:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor".split(" "),initialize:function(t){t&&this.setOptions(t)},_initGradient:function(t){!t.fill||!t.fill.colorStops||t.fill instanceof e.Gradient||this.set("fill",new e.Gradient(t.fill))},_initPattern:function(t){!t.fill||!t.fill.source||t.fill instanceof e.Pattern||this.set("fill",new e.Pattern(t.fill)),!t.stroke||!t.stroke.source||t.stroke instanceof e.Pattern||this.set("stroke",new e.Pattern(t.stroke))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var n=e.util.getFunctionBody(t.clipTo);"undefined"!=typeof n&&(this.clipTo=new Function("ctx",n))}},setOptions:function(t){for(var e in t)this.set(e,t[e]);this._initGradient(t),this._initPattern(t),this._initClipping(t)},transform:function(t,e){this.group&&this.group.transform(t,e);var n=e?this._getLeftTopCoords():this.getCenterPoint();t.translate(n.x,n.y),t.rotate(o(this.angle)),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.getAngle(),n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation};return this.includeDefaultValues||(r=this._removeDefaultValues(r)),e.util.populateWithProperties(this,r,t),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype,i=n.stateProperties;return i.forEach(function(e){t[e]===n[e]&&delete t[e]}),t},toString:function(){return"#<fabric."+r(this.type)+">"},get:function(t){return this[t]},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,n){var r="scaleX"===t||"scaleY"===t;return r&&(n=this._constrainScale(n)),"scaleX"===t&&0>n?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&0>n?(this.flipY=!this.flipY,n*=-1):"width"===t||"height"===t?this.minScaleLimit=i(Math.min(.1,1/Math.max(this.width,this.height)),2):"shadow"!==t||!n||n instanceof e.Shadow||(n=new e.Shadow(n)),this[t]=n,this},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},setSourcePath:function(t){return this.sourcePath=t,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(t,n){0===this.width&&0===this.height||!this.visible||(t.save(),this._setupCompositeOperation(t),n||this.transform(t),this._setStrokeStyles(t),this._setFillStyles(t),this.group&&"path-group"===this.group.type&&t.translate(-this.group.width/2,-this.group.height/2),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._setOpacity(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t),this._render(t,n),this.clipTo&&t.restore(),this._removeShadow(t),this._restoreCompositeOperation(t),t.restore())},_setOpacity:function(t){this.group&&this.group._setOpacity(t),t.globalAlpha*=this.opacity},_setStrokeStyles:function(t){this.stroke&&(t.lineWidth=this.strokeWidth,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,t.strokeStyle=this.stroke.toLive?this.stroke.toLive(t,this):this.stroke)},_setFillStyles:function(t){this.fill&&(t.fillStyle=this.fill.toLive?this.fill.toLive(t,this):this.fill)},_renderControls:function(t,n){var i=this.getViewportTransform();if(t.save(),this.active&&!n){var r;this.group&&(r=e.util.transformPoint(this.group.getCenterPoint(),i),t.translate(r.x,r.y),t.rotate(o(this.group.angle))),r=e.util.transformPoint(this.getCenterPoint(),i,null!=this.group),this.group&&(r.x*=this.group.scaleX,r.y*=this.group.scaleY),t.translate(r.x,r.y),t.rotate(o(this.angle)),this.drawBorders(t),this.drawControls(t)}t.restore()},_setShadow:function(t){if(this.shadow){var e=this.canvas&&this.canvas.viewportTransform[0]||1,n=this.canvas&&this.canvas.viewportTransform[3]||1;t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*(e+n)*(this.scaleX+this.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*e*this.scaleX,t.shadowOffsetY=this.shadow.offsetY*n*this.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_renderFill:function(t){if(this.fill){if(t.save(),this.fill.gradientTransform){var e=this.fill.gradientTransform;t.transform.apply(t,e)}this.fill.toLive&&t.translate(-this.width/2+this.fill.offsetX||0,-this.height/2+this.fill.offsetY||0),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore(),this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t)}},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(t.save(),this.strokeDashArray)1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),s?(t.setLineDash(this.strokeDashArray),this._stroke&&this._stroke(t)):this._renderDashedStroke&&this._renderDashedStroke(t),t.stroke();else{if(this.stroke.gradientTransform){var e=this.stroke.gradientTransform;t.transform.apply(t,e)}this._stroke?this._stroke(t):t.stroke()}this._removeShadow(t),t.restore()}},clone:function(t,n){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(n),t):new e.Object(this.toObject(n))},cloneAsImage:function(t){var n=this.toDataURL();return e.util.loadImage(n,function(n){t&&t(new e.Image(n))}),this},toDataURL:function(t){t||(t={});var n=e.util.createCanvasElement(),i=this.getBoundingRect();n.width=i.width,n.height=i.height,e.util.wrapElement(n,"div");var r=new e.StaticCanvas(n);"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(r.backgroundColor="#fff");var o={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point(n.width/2,n.height/2),"center","center");var s=this.canvas;r.add(this);var a=r.toDataURL(t);return this.set(o).setCoords(),this.canvas=s,r.dispose(),r=null,a},isType:function(t){return this.type===t},complexity:function(){return 0},toJSON:function(t){return this.toObject(t)},setGradient:function(t,n){n||(n={});var i={colorStops:[]};i.type=n.type||(n.r1||n.r2?"radial":"linear"),i.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},(n.r1||n.r2)&&(i.coords.r1=n.r1,i.coords.r2=n.r2);for(var r in n.colorStops){var o=new e.Color(n.colorStops[r]);i.colorStops.push({offset:r,color:o.toRgb(),opacity:o.getAlpha()})}return this.set(t,e.Gradient.forObject(this,i))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},setAngle:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this
},centerH:function(){return this.canvas.centerObjectH(this),this},centerV:function(){return this.canvas.centerObjectV(this),this},center:function(){return this.canvas.centerObject(this),this},remove:function(){return this.canvas.remove(this),this},getLocalPointer:function(t,e){e=e||this.canvas.getPointer(t);var n=this.translateToOriginPoint(this.getCenterPoint(),"left","top");return{x:e.x-n.x,y:e.y-n.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(this._prevGlobalCompositeOperation=t.globalCompositeOperation,t.globalCompositeOperation=this.globalCompositeOperation)},_restoreCompositeOperation:function(t){this.globalCompositeOperation&&this._prevGlobalCompositeOperation&&(t.globalCompositeOperation=this._prevGlobalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object.__uid=0)}("undefined"!=typeof exports?exports:this),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{translateToCenterPoint:function(e,n,i){var r=e.x,o=e.y,s=this.stroke?this.strokeWidth:0;return"left"===n?r=e.x+(this.getWidth()+s*this.scaleX)/2:"right"===n&&(r=e.x-(this.getWidth()+s*this.scaleX)/2),"top"===i?o=e.y+(this.getHeight()+s*this.scaleY)/2:"bottom"===i&&(o=e.y-(this.getHeight()+s*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(r,o),e,t(this.angle))},translateToOriginPoint:function(e,n,i){var r=e.x,o=e.y,s=this.stroke?this.strokeWidth:0;return"left"===n?r=e.x-(this.getWidth()+s*this.scaleX)/2:"right"===n&&(r=e.x+(this.getWidth()+s*this.scaleX)/2),"top"===i?o=e.y-(this.getHeight()+s*this.scaleY)/2:"bottom"===i&&(o=e.y+(this.getHeight()+s*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(r,o),e,t(this.angle))},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(e,n,i){var r,o,s=this.getCenterPoint(),a=this.stroke?this.strokeWidth:0;return n&&i?(r="left"===n?s.x-(this.getWidth()+a*this.scaleX)/2:"right"===n?s.x+(this.getWidth()+a*this.scaleX)/2:s.x,o="top"===i?s.y-(this.getHeight()+a*this.scaleY)/2:"bottom"===i?s.y+(this.getHeight()+a*this.scaleY)/2:s.y):(r=this.left,o=this.top),fabric.util.rotatePoint(new fabric.Point(e.x,e.y),s,-t(this.angle)).subtractEquals(new fabric.Point(r,o))},setPositionByOrigin:function(t,e,n){var i=this.translateToCenterPoint(t,e,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(e){var n=t(this.angle),i=this.getWidth()/2,r=Math.cos(n)*i,o=Math.sin(n)*i,s=this.getWidth(),a=Math.cos(n)*s,c=Math.sin(n)*s;"center"===this.originX&&"left"===e||"right"===this.originX&&"center"===e?(this.left-=r,this.top-=o):"left"===this.originX&&"center"===e||"center"===this.originX&&"right"===e?(this.left+=r,this.top+=o):"left"===this.originX&&"right"===e?(this.left+=a,this.top+=c):"right"===this.originX&&"left"===e&&(this.left-=a,this.top-=c),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","center")}})}(),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(t,e){var n=this.oCoords,i=new fabric.Point(n.tl.x,n.tl.y),r=new fabric.Point(n.tr.x,n.tr.y),o=new fabric.Point(n.bl.x,n.bl.y),s=new fabric.Point(n.br.x,n.br.y),a=fabric.Intersection.intersectPolygonRectangle([i,r,s,o],t,e);return"Intersection"===a.status},intersectsWithObject:function(t){function e(t){return{tl:new fabric.Point(t.tl.x,t.tl.y),tr:new fabric.Point(t.tr.x,t.tr.y),bl:new fabric.Point(t.bl.x,t.bl.y),br:new fabric.Point(t.br.x,t.br.y)}}var n=e(this.oCoords),i=e(t.oCoords),r=fabric.Intersection.intersectPolygonPolygon([n.tl,n.tr,n.br,n.bl],[i.tl,i.tr,i.br,i.bl]);return"Intersection"===r.status},isContainedWithinObject:function(t){var e=t.getBoundingRect(),n=new fabric.Point(e.left,e.top),i=new fabric.Point(e.left+e.width,e.top+e.height);return this.isContainedWithinRect(n,i)},isContainedWithinRect:function(t,e){var n=this.getBoundingRect();return n.left>=t.x&&n.left+n.width<=e.x&&n.top>=t.y&&n.top+n.height<=e.y},containsPoint:function(t){var e=this._getImageLines(this.oCoords),n=this._findCrossPoints(t,e);return 0!==n&&n%2===1},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,i,r,o,s,a,c,l=0;for(var u in e)if(c=e[u],!(c.o.y<t.y&&c.d.y<t.y||c.o.y>=t.y&&c.d.y>=t.y||(c.o.x===c.d.x&&c.o.x>=t.x?(s=c.o.x,a=t.y):(n=0,i=(c.d.y-c.o.y)/(c.d.x-c.o.x),r=t.y-n*t.x,o=c.o.y-i*c.o.x,s=-(r-o)/(n-i),a=r+n*s),s>=t.x&&(l+=1),2!==l)))break;return l},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(){this.oCoords||this.setCoords();var t=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],e=fabric.util.array.min(t),n=fabric.util.array.max(t),i=Math.abs(e-n),r=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],o=fabric.util.array.min(r),s=fabric.util.array.max(r),a=Math.abs(o-s);return{left:e,top:o,width:i,height:a}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?0>t?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return t=this._constrainScale(t),0>t&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords(),this},scaleToWidth:function(t){var e=this.getBoundingRectWidth()/this.getWidth();return this.scale(t/this.width/e)},scaleToHeight:function(t){var e=this.getBoundingRectHeight()/this.getHeight();return this.scale(t/this.height/e)},setCoords:function(){var e=t(this.angle),n=this.getViewportTransform(),i=function(t){return fabric.util.transformPoint(t,n)},r=this._calculateCurrentDimensions(!1),o=r.x,s=r.y;0>o&&(o=Math.abs(o));var a=Math.sqrt(Math.pow(o/2,2)+Math.pow(s/2,2)),c=Math.atan(isFinite(s/o)?s/o:0),l=Math.cos(c+e)*a,u=Math.sin(c+e)*a,h=Math.sin(e),f=Math.cos(e),d=this.getCenterPoint(),p=new fabric.Point(o,s),g=new fabric.Point(d.x-l,d.y-u),m=new fabric.Point(g.x+p.x*f,g.y+p.x*h),v=i(new fabric.Point(g.x-p.y*h,g.y+p.y*f)),b=i(new fabric.Point(m.x-p.y*h,m.y+p.y*f)),y=i(g),x=i(m),w=new fabric.Point((y.x+v.x)/2,(y.y+v.y)/2),_=new fabric.Point((x.x+y.x)/2,(x.y+y.y)/2),C=new fabric.Point((b.x+x.x)/2,(b.y+x.y)/2),$=new fabric.Point((b.x+v.x)/2,(b.y+v.y)/2),S=new fabric.Point(_.x+h*this.rotatingPointOffset,_.y-f*this.rotatingPointOffset);return this.oCoords={tl:y,tr:x,br:b,bl:v,ml:w,mt:_,mr:C,mb:$,mtr:S},this._setCornerCoords&&this._setCornerCoords(),this}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(){var t=this.fill?this.fill.toLive?"url(#SVGID_"+this.fill.id+")":this.fill:"none",e=this.fillRule,n=this.stroke?this.stroke.toLive?"url(#SVGID_"+this.stroke.id+")":this.stroke:"none",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!=typeof this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":"";return["stroke: ",n,"; ","stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",a,"; ","fill: ",t,"; ","fill-rule: ",e,"; ","opacity: ",c,";",u,l].join("")},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var t=fabric.util.toFixed,e=this.getAngle(),n=!this.canvas||this.canvas.svgViewportTransformation?this.getViewportTransform():[1,0,0,1,0,0],i=fabric.util.transformPoint(this.getCenterPoint(),n),r=fabric.Object.NUM_FRACTION_DIGITS,o="path-group"===this.type?"":"translate("+t(i.x,r)+" "+t(i.y,r)+")",s=0!==e?" rotate("+t(e,r)+")":"",a=1===this.scaleX&&1===this.scaleY&&1===n[0]&&1===n[3]?"":" scale("+t(this.scaleX*n[0],r)+" "+t(this.scaleY*n[3],r)+")",c="path-group"===this.type?this.width*n[0]:0,l=this.flipX?" matrix(-1 0 0 1 "+c+" 0) ":"",u="path-group"===this.type?this.height*n[3]:0,h=this.flipY?" matrix(1 0 0 -1 0 "+u+")":"";return[o,s,a,l,h].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t}}),fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(){return this.stateProperties.some(function(t){return this.get(t)!==this.originalState[t]},this)},saveState:function(t){return this.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),t&&t.stateProperties&&t.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),this},setupState:function(){return this.originalState={},this.saveState(),this}}),function(){var t=fabric.util.degreesToRadians,e=function(){return"undefined"!=typeof G_vmlCanvasManager};fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||!this.active)return!1;var e,n,i=t.x,r=t.y;for(var o in this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),e=this._findCrossPoints({x:i,y:r},n),0!==e&&e%2===1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,n,i=this.oCoords,r=t(45-this.angle),o=Math.sqrt(2*Math.pow(this.cornerSize,2))/2,s=o*Math.cos(r),a=o*Math.sin(r);for(var c in i)e=i[c].x,n=i[c].y,i[c].corner={tl:{x:e-a,y:n-s},tr:{x:e+s,y:n-a},bl:{x:e-s,y:n+a},br:{x:e+a,y:n+s}}},_calculateCurrentDimensions:function(t){var e=this.getViewportTransform(),n=this.strokeWidth,i=this.width,r=this.height,o="round"===this.strokeLineCap||"square"===this.strokeLineCap,s="line"===this.type&&0===this.width,a="line"===this.type&&0===this.height,c=s||a,l=o&&a||!c,u=o&&s||!c;return s?i=n:a&&(r=n),l&&(i+=0>i?-n:n),u&&(r+=0>r?-n:n),i=i*this.scaleX+2*this.padding,r=r*this.scaleY+2*this.padding,t?fabric.util.transformPoint(new fabric.Point(i,r),e,!0):{x:i,y:r}},drawBorders:function(t){if(!this.hasBorders)return this;t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.strokeStyle=this.borderColor,t.lineWidth=1/this.borderScaleFactor;var e=this._calculateCurrentDimensions(!0),n=e.x,i=e.y;if(this.group&&(n*=this.group.scaleX,i*=this.group.scaleY),t.strokeRect(~~-(n/2)-.5,~~-(i/2)-.5,~~n+1,~~i+1),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var r=-i/2;t.beginPath(),t.moveTo(0,r),t.lineTo(0,r-this.rotatingPointOffset),t.closePath(),t.stroke()}return t.restore(),this},drawControls:function(t){if(!this.hasControls)return this;var e=this._calculateCurrentDimensions(!0),n=e.x,i=e.y,r=-(n/2),o=-(i/2),s=this.cornerSize/2,a=this.transparentCorners?"strokeRect":"fillRect";return t.save(),t.lineWidth=1,t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.strokeStyle=t.fillStyle=this.cornerColor,this._drawControl("tl",t,a,r-s,o-s),this._drawControl("tr",t,a,r+n-s,o-s),this._drawControl("bl",t,a,r-s,o+i-s),this._drawControl("br",t,a,r+n-s,o+i-s),this.get("lockUniScaling")||(this._drawControl("mt",t,a,r+n/2-s,o-s),this._drawControl("mb",t,a,r+n/2-s,o+i-s),this._drawControl("mr",t,a,r+n-s,o+i/2-s),this._drawControl("ml",t,a,r-s,o+i/2-s)),this.hasRotatingPoint&&this._drawControl("mtr",t,a,r+n/2-s,o-this.rotatingPointOffset-s),t.restore(),this},_drawControl:function(t,n,i,r,o){var s=this.cornerSize;this.isControlVisible(t)&&(e()||this.transparentCorners||n.clearRect(r,o,s,s),n[i](r,o,s,s))},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){t||(t={});for(var e in t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){e=e||{};var n=function(){},i=e.onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxCenterObjectV:function(t,e){e=e||{};var n=function(){},i=e.onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxRemove:function(t,e){e=e||{};var n=function(){},i=e.onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.set("active",!1)},onChange:function(e){t.set("opacity",e),o.renderAll(),r()},onComplete:function(){o.remove(t),i()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,n=[];for(t in arguments[0])n.push(t);for(var i=0,r=n.length;r>i;i++)t=n[i],e=i!==r-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,i){var r,o=this;e=e.toString(),n=n?fabric.util.object.clone(n):{},~t.indexOf(".")&&(r=t.split("."));var s=r?this.get(r[0])[r[1]]:this.get(t);"from"in n||(n.from=s),e=~e.indexOf("=")?s+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(e){r?o[r[0]][r[1]]=e:o.set(t,e),i||n.onChange&&n.onChange()},onComplete:function(){i||(o.setCoords(),n.onComplete&&n.onComplete())}})}}),function(t){"use strict";function e(t,e){var n=t.origin,i=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,c=e.farthest;return function(){switch(this.get(n)){case s:return Math.min(this.get(i),this.get(r));case a:return Math.min(this.get(i),this.get(r))+.5*this.get(o);case c:return Math.max(this.get(i),this.get(r))}}}var n=t.fabric||(t.fabric={}),i=n.util.object.extend,r={x1:1,x2:1,y1:1,y2:1},o=n.StaticCanvas.supports("setLineDash");return n.Line?void n.warn("fabric.Line is already defined"):(n.Line=n.util.createClass(n.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,initialize:function(t,e){e=e||{},t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!=typeof r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t,e){if(t.beginPath(),e){var n=this.getCenterPoint();t.translate(n.x-this.strokeWidth/2,n.y-this.strokeWidth/2)}if(!this.strokeDashArray||this.strokeDashArray&&o){var i=this.calcLinePoints();t.moveTo(i.x1,i.y1),t.lineTo(i.x2,i.y2)}t.lineWidth=this.strokeWidth;var r=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=r},_renderDashedStroke:function(t){var e=this.calcLinePoints();t.beginPath(),n.util.drawDashedLine(t,e.x1,e.y1,e.x2,e.y2,this.strokeDashArray),t.closePath()},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,n=t*this.width*.5,i=e*this.height*.5,r=t*this.width*-.5,o=e*this.height*-.5;return{x1:n,x2:r,y1:i,y2:o}},toSVG:function(t){var e=this._createBaseSVGMarkup(),n={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&"path-group"===this.group.type||(n=this.calcLinePoints()),e.push("<line ",'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),n.Line.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),n.Line.fromElement=function(t,e){var r=n.parseAttributes(t,n.Line.ATTRIBUTE_NAMES),o=[r.x1||0,r.y1||0,r.x2||0,r.y2||0];return new n.Line(o,i(r,e))},void(n.Line.fromObject=function(t){var e=[t.x1,t.y1,t.x2,t.y2];return new n.Line(e,t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){return"radius"in t&&t.radius>=0}var n=t.fabric||(t.fabric={}),i=Math.PI,r=n.util.object.extend;return n.Circle?void n.warn("fabric.Circle is already defined."):(n.Circle=n.util.createClass(n.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*i,initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("radius",t.radius||0),this.startAngle=t.startAngle||this.startAngle,this.endAngle=t.endAngle||this.endAngle},_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return r(this.callSuper("toObject",t),{radius:this.get("radius"),startAngle:this.startAngle,endAngle:this.endAngle})},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,r=0,o=(this.endAngle-this.startAngle)%(2*i);if(0===o)this.group&&"path-group"===this.group.type&&(n=this.left+this.radius,r=this.top+this.radius),e.push("<circle ",'cx="'+n+'" cy="'+r+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');else{var s=Math.cos(this.startAngle)*this.radius,a=Math.sin(this.startAngle)*this.radius,c=Math.cos(this.endAngle)*this.radius,l=Math.sin(this.endAngle)*this.radius,u=o>i?"1":"0";e.push('<path d="M '+s+" "+a," A "+this.radius+" "+this.radius," 0 ",+u+" 1"," "+c+" "+l,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.arc(e?this.left+this.radius:0,e?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(t),this._renderStroke(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){this.radius=t,this.set("width",2*t).set("height",2*t)},complexity:function(){return 1}}),n.Circle.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),n.Circle.fromElement=function(t,i){i||(i={});var o=n.parseAttributes(t,n.Circle.ATTRIBUTE_NAMES);if(!e(o))throw new Error("value of `r` attribute is required and can not be negative");o.left=o.left||0,o.top=o.top||0;var s=new n.Circle(r(o,i));return s.left-=s.radius,s.top-=s.radius,s},void(n.Circle.fromObject=function(t){return new n.Circle(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Triangle?void e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("width",t.width||100).set("height",t.height||100)},_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var n=this.width/2,i=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-n,i,0,-i,this.strokeDashArray),e.util.drawDashedLine(t,0,-i,n,i,this.strokeDashArray),e.util.drawDashedLine(t,n,i,-n,i,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.width/2,i=this.height/2,r=[-n+" "+i,"0 "+-i,n+" "+i].join(",");return e.push("<polygon ",'points="',r,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),void(e.Triangle.fromObject=function(t){return new e.Triangle(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=2*Math.PI,i=e.util.object.extend;return e.Ellipse?void e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("rx",t.rx||0),this.set("ry",t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return i(this.callSuper("toObject",t),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,i=0;return this.group&&"path-group"===this.group.type&&(n=this.left+this.rx,i=this.top+this.ry),e.push("<ellipse ",'cx="',n,'" cy="',i,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left+this.rx:0,e?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,n,!1),t.restore(),this._renderFill(t),this._renderStroke(t)},complexity:function(){return 1}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){n||(n={});var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var o=new e.Ellipse(i(r,n));return o.top-=o.ry,o.left-=o.rx,o},void(e.Ellipse.fromObject=function(t){return new e.Ellipse(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;if(e.Rect)return void console.warn("fabric.Rect is already defined");var i=e.Object.prototype.stateProperties.concat();i.push("rx","ry","x","y"),e.Rect=e.util.createClass(e.Object,{stateProperties:i,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(t){t=t||{},this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t,e){if(1===this.width&&1===this.height)return void t.fillRect(0,0,1,1);var n=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,o=this.height,s=e?this.left:-this.width/2,a=e?this.top:-this.height/2,c=0!==n||0!==i,l=.4477152502;t.beginPath(),t.moveTo(s+n,a),t.lineTo(s+r-n,a),c&&t.bezierCurveTo(s+r-l*n,a,s+r,a+l*i,s+r,a+i),t.lineTo(s+r,a+o-i),c&&t.bezierCurveTo(s+r,a+o-l*i,s+r-l*n,a+o,s+r-n,a+o),t.lineTo(s+n,a+o),c&&t.bezierCurveTo(s+l*n,a+o,s,a+o-l*i,s,a+o-i),t.lineTo(s,a+i),c&&t.bezierCurveTo(s,a+l*i,s+l*n,a,s+n,a),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var n=-this.width/2,i=-this.height/2,r=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,n,i,n+r,i,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i,n+r,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i+o,n,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n,i+o,n,i,this.strokeDashArray),t.closePath()},toObject:function(t){var e=n(this.callSuper("toObject",t),{rx:this.get("rx")||0,ry:this.get("ry")||0});return this.includeDefaultValues||this._removeDefaultValues(e),e},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.left,i=this.top;return this.group&&"path-group"===this.group.type||(n=-this.width/2,i=-this.height/2),e.push("<rect ",'x="',n,'" y="',i,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,i){if(!t)return null;i=i||{};var r=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var o=new e.Rect(n(i?e.util.object.clone(i):{},r));return o.visible=o.width>0&&o.height>0,o},e.Rect.fromObject=function(t){return new e.Rect(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Polyline?void e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,initialize:function(t,n){return e.Polygon.prototype.initialize.call(this,t,n)},_calcDimensions:function(){return e.Polygon.prototype._calcDimensions.call(this)},_applyPointOffset:function(){return e.Polygon.prototype._applyPointOffset.call(this)},toObject:function(t){return e.Polygon.prototype.toObject.call(this,t)},toSVG:function(t){return e.Polygon.prototype.toSVG.call(this,t)},_render:function(t){e.Polygon.prototype.commonRender.call(this,t)&&(this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){var n,i;t.beginPath();for(var r=0,o=this.points.length;o>r;r++)n=this.points[r],i=this.points[r+1]||n,e.util.drawDashedLine(t,n.x,n.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,n){if(!t)return null;n||(n={});var i=e.parsePointsAttribute(t.getAttribute("points")),r=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);return new e.Polyline(i,e.util.object.extend(r,n))},void(e.Polyline.fromObject=function(t){var n=t.points;return new e.Polyline(n,t,!0)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max,o=e.util.toFixed;return e.Polygon?void e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Object,{type:"polygon",points:null,minX:0,minY:0,initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._calcDimensions(),"top"in e||(this.top=this.minY),"left"in e||(this.left=this.minX)},_calcDimensions:function(){var t=this.points,e=i(t,"x"),n=i(t,"y"),o=r(t,"x"),s=r(t,"y");this.width=o-e||0,this.height=s-n||0,this.minX=e||0,this.minY=n||0},_applyPointOffset:function(){this.points.forEach(function(t){t.x-=this.minX+this.width/2,t.y-=this.minY+this.height/2},this)},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){for(var e=[],n=this._createBaseSVGMarkup(),i=0,r=this.points.length;r>i;i++)e.push(o(this.points[i].x,2),",",o(this.points[i].y,2)," ");return n.push("<",this.type," ",'points="',e.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),t?t(n.join("")):n.join("")},_render:function(t){this.commonRender(t)&&(this._renderFill(t),(this.stroke||this.strokeDashArray)&&(t.closePath(),this._renderStroke(t)))},commonRender:function(t){var e,n=this.points.length;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),this._applyPointOffset&&(this.group&&"path-group"===this.group.type||this._applyPointOffset(),this._applyPointOffset=null),t.moveTo(this.points[0].x,this.points[0].y);for(var i=0;n>i;i++)e=this.points[i],t.lineTo(e.x,e.y);return!0},_renderDashedStroke:function(t){e.Polyline.prototype._renderDashedStroke.call(this,t),t.closePath()},complexity:function(){return this.points.length}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,i){if(!t)return null;i||(i={});var r=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(r,n(o,i))},void(e.Polygon.fromObject=function(t){return new e.Polygon(t.points,t,!0)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,i=e.util.array.max,r=e.util.object.extend,o=Object.prototype.toString,s=e.util.drawArc,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};return e.Path?void e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,initialize:function(t,e){if(e=e||{},this.setOptions(e),!t)throw new Error("`path` argument is required");var n="[object Array]"===o.call(t);this.path=n?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(n||(this.path=this._parsePath()),this._setPositionDimensions(),e.sourcePath&&this.setSourcePath(e.sourcePath))},_setPositionDimensions:function(){var t=this._parseDimensions();this.minX=t.left,this.minY=t.top,this.width=t.width,this.height=t.height,t.left+="center"===this.originX?this.width/2:"right"===this.originX?this.width:0,t.top+="center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0,this.top=this.top||t.top,this.left=this.left||t.left,this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_render:function(t){var e,n,i,r=null,o=0,a=0,c=0,l=0,u=0,h=0,f=-this.pathOffset.x,d=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(f=0,d=0),t.beginPath();for(var p=0,g=this.path.length;g>p;++p){switch(e=this.path[p],e[0]){case"l":c+=e[1],l+=e[2],t.lineTo(c+f,l+d);break;case"L":c=e[1],l=e[2],t.lineTo(c+f,l+d);break;case"h":c+=e[1],t.lineTo(c+f,l+d);break;case"H":c=e[1],t.lineTo(c+f,l+d);break;case"v":l+=e[1],t.lineTo(c+f,l+d);break;case"V":l=e[1],t.lineTo(c+f,l+d);break;case"m":c+=e[1],l+=e[2],o=c,a=l,t.moveTo(c+f,l+d);break;case"M":c=e[1],l=e[2],o=c,a=l,t.moveTo(c+f,l+d);break;case"c":n=c+e[5],i=l+e[6],u=c+e[3],h=l+e[4],t.bezierCurveTo(c+e[1]+f,l+e[2]+d,u+f,h+d,n+f,i+d),c=n,l=i;break;case"C":c=e[5],l=e[6],u=e[3],h=e[4],t.bezierCurveTo(e[1]+f,e[2]+d,u+f,h+d,c+f,l+d);
break;case"s":n=c+e[3],i=l+e[4],null===r[0].match(/[CcSs]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.bezierCurveTo(u+f,h+d,c+e[1]+f,l+e[2]+d,n+f,i+d),u=c+e[1],h=l+e[2],c=n,l=i;break;case"S":n=e[3],i=e[4],null===r[0].match(/[CcSs]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.bezierCurveTo(u+f,h+d,e[1]+f,e[2]+d,n+f,i+d),c=n,l=i,u=e[1],h=e[2];break;case"q":n=c+e[3],i=l+e[4],u=c+e[1],h=l+e[2],t.quadraticCurveTo(u+f,h+d,n+f,i+d),c=n,l=i;break;case"Q":n=e[3],i=e[4],t.quadraticCurveTo(e[1]+f,e[2]+d,n+f,i+d),c=n,l=i,u=e[1],h=e[2];break;case"t":n=c+e[1],i=l+e[2],null===r[0].match(/[QqTt]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.quadraticCurveTo(u+f,h+d,n+f,i+d),c=n,l=i;break;case"T":n=e[1],i=e[2],null===r[0].match(/[QqTt]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.quadraticCurveTo(u+f,h+d,n+f,i+d),c=n,l=i;break;case"a":s(t,c+f,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+c+f,e[7]+l+d]),c+=e[6],l+=e[7];break;case"A":s(t,c+f,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+f,e[7]+d]),c=e[6],l=e[7];break;case"z":case"Z":c=o,l=a,t.closePath()}r=e}this._renderFill(t),this._renderStroke(t)},render:function(t,n){this.visible&&(t.save(),this._setupCompositeOperation(t),n||this.transform(t),this._setStrokeStyles(t),this._setFillStyles(t),this.group&&"path-group"===this.group.type&&t.translate(-this.group.width/2,-this.group.height/2),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._setOpacity(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t),this._render(t,n),this.clipTo&&t.restore(),this._removeShadow(t),this._restoreCompositeOperation(t),t.restore())},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){var e=r(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()}),pathOffset:this.pathOffset});return this.sourcePath&&(e.sourcePath=this.sourcePath),this.transformMatrix&&(e.transformMatrix=this.transformMatrix),e},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(t){for(var e=[],n=this._createBaseSVGMarkup(),i="",r=0,o=this.path.length;o>r;r++)e.push(this.path[r].join(" "));var s=e.join(" ");return this.group&&"path-group"===this.group.type||(i=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),n.push("<path ",'d="',s,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),i,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),t?t(n.join("")):n.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,n,i,r,o=[],s=[],l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u=0,h=this.path.length;h>u;u++){for(t=this.path[u],i=t.slice(1).trim(),s.length=0;n=l.exec(i);)s.push(n[0]);r=[t.charAt(0)];for(var f=0,d=s.length;d>f;f++)e=parseFloat(s[f]),isNaN(e)||r.push(e);var p=r[0],g=a[p.toLowerCase()],m=c[p]||p;if(r.length-1>g)for(var v=1,b=r.length;b>v;v+=g)o.push([p].concat(r.slice(v,v+g))),p=m;else o.push(r)}return o},_parseDimensions:function(){for(var t,r,o,s,a=[],c=[],l=null,u=0,h=0,f=0,d=0,p=0,g=0,m=0,v=this.path.length;v>m;++m){switch(t=this.path[m],t[0]){case"l":f+=t[1],d+=t[2],s=[];break;case"L":f=t[1],d=t[2],s=[];break;case"h":f+=t[1],s=[];break;case"H":f=t[1],s=[];break;case"v":d+=t[1],s=[];break;case"V":d=t[1],s=[];break;case"m":f+=t[1],d+=t[2],u=f,h=d,s=[];break;case"M":f=t[1],d=t[2],u=f,h=d,s=[];break;case"c":r=f+t[5],o=d+t[6],p=f+t[3],g=d+t[4],s=e.util.getBoundsOfCurve(f,d,f+t[1],d+t[2],p,g,r,o),f=r,d=o;break;case"C":f=t[5],d=t[6],p=t[3],g=t[4],s=e.util.getBoundsOfCurve(f,d,t[1],t[2],p,g,f,d);break;case"s":r=f+t[3],o=d+t[4],null===l[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,f+t[1],d+t[2],r,o),p=f+t[1],g=d+t[2],f=r,d=o;break;case"S":r=t[3],o=t[4],null===l[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,t[1],t[2],r,o),f=r,d=o,p=t[1],g=t[2];break;case"q":r=f+t[3],o=d+t[4],p=f+t[1],g=d+t[2],s=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,o),f=r,d=o;break;case"Q":p=t[1],g=t[2],s=e.util.getBoundsOfCurve(f,d,p,g,p,g,t[3],t[4]),f=t[3],d=t[4];break;case"t":r=f+t[1],o=d+t[2],null===l[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,o),f=r,d=o;break;case"T":r=t[1],o=t[2],null===l[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),s=e.util.getBoundsOfCurve(f,d,p,g,p,g,r,o),f=r,d=o;break;case"a":s=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6]+f,t[7]+d),f+=t[6],d+=t[7];break;case"A":s=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),f=t[6],d=t[7];break;case"z":case"Z":f=u,d=h}l=t,s.forEach(function(t){a.push(t.x),c.push(t.y)}),a.push(f),c.push(d)}var b=n(a),y=n(c),x=i(a),w=i(c),_=x-b,C=w-y,$={left:b,top:y,width:_,height:C};return $}}),e.Path.fromObject=function(t,n){"string"==typeof t.path?e.loadSVGFromURL(t.path,function(i){var r=i[0],o=t.path;delete t.path,e.util.object.extend(r,t),r.setSourcePath(o),n(r)}):n(new e.Path(t.path,t))},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,i){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);n&&n(new e.Path(o.d,r(o,i)))},void(e.Path.async=!0))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.invoke,r=e.Object.prototype.toObject;return e.PathGroup?void e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Path,{type:"path-group",fill:"",initialize:function(t,e){e=e||{},this.paths=t||[];for(var n=this.paths.length;n--;)this.paths[n].group=this;this.setOptions(e),e.widthAttr&&(this.scaleX=e.widthAttr/e.width),e.heightAttr&&(this.scaleY=e.heightAttr/e.height),this.setCoords(),e.sourcePath&&this.setSourcePath(e.sourcePath)},render:function(t){if(this.visible){t.save();var n=this.transformMatrix;n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t);for(var i=0,r=this.paths.length;r>i;++i)this.paths[i].render(t,!0);this.clipTo&&t.restore(),this._removeShadow(t),t.restore()}},_set:function(t,e){if("fill"===t&&e&&this.isSameColor())for(var n=this.paths.length;n--;)this.paths[n]._set(t,e);return this.callSuper("_set",t,e)},toObject:function(t){var e=n(r.call(this,t),{paths:i(this.getObjects(),"toObject",t)});return this.sourcePath&&(e.sourcePath=this.sourcePath),e},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(t){for(var e=this.getObjects(),n=this.getPointByOrigin("left","top"),i="translate("+n.x+" "+n.y+")",r=["<g ",'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),i,this.getSvgTransform(),'" ',">\n"],o=0,s=e.length;s>o;o++)r.push(e[o].toSVG(t));return r.push("</g>\n"),t?t(r.join("")):r.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=(this.getObjects()[0].get("fill")||"").toLowerCase();return this.getObjects().every(function(e){return(e.get("fill")||"").toLowerCase()===t})},complexity:function(){return this.paths.reduce(function(t,e){return t+(e&&e.complexity?e.complexity():0)},0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(t,n){"string"==typeof t.paths?e.loadSVGFromURL(t.paths,function(i){var r=t.paths;delete t.paths;var o=e.util.groupSVGElements(i,t,r);n(o)}):e.util.enlivenObjects(t.paths,function(i){delete t.paths,n(new e.PathGroup(i,t))})},void(e.PathGroup.async=!0))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max,o=e.util.array.invoke;if(!e.Group){var s={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",initialize:function(t,e){e=e||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;this.originalState={},this.callSuper("initialize"),e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",e),this.setCoords(),this.saveCoords()},_updateObjectsCoords:function(){this.forEachObject(this._updateObjectCoords,this)},_updateObjectCoords:function(t){var e=t.getLeft(),n=t.getTop(),i=this.getCenterPoint();t.set({originalLeft:e,originalTop:n,left:e-i.x,top:n-i.y}),t.setCoords(),t.__origHasControls=t.hasControls,t.hasControls=!1},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),t&&(this._objects.push(t),t.group=this),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this},_setObjectActive:function(t){t.set("active",!0),t.group=this},removeWithUpdate:function(t){return this._moveFlippedObject(t),this._restoreObjectsState(),this.forEachObject(this._setObjectActive,this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this},_onObjectAdded:function(t){t.group=this},_onObjectRemoved:function(t){delete t.group,t.set("active",!1)},delegatedProperties:{fill:!0,opacity:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(t,e){if(t in this.delegatedProperties)for(var n=this._objects.length;n--;)this._objects[n].set(t,e);this.callSuper("_set",t,e)},toObject:function(t){return n(this.callSuper("toObject",t),{objects:o(this._objects,"toObject",t)})},render:function(t){if(this.visible){t.save(),this.clipTo&&e.util.clipContext(this,t);for(var n=0,i=this._objects.length;i>n;n++)this._renderObject(this._objects[n],t);this.clipTo&&t.restore(),t.restore()}},_renderControls:function(t,e){this.callSuper("_renderControls",t,e);for(var n=0,i=this._objects.length;i>n;n++)this._objects[n]._renderControls(t)},_renderObject:function(t,e){var n=t.hasRotatingPoint;t.visible&&(t.hasRotatingPoint=!1,t.render(e),t.hasRotatingPoint=n)},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},_moveFlippedObject:function(t){var e=t.get("originX"),n=t.get("originY"),i=t.getCenterPoint();t.set({originX:"center",originY:"center",left:i.x,top:i.y}),this._toggleFlipping(t);var r=t.getPointByOrigin(e,n);return t.set({originX:e,originY:n,left:r.x,top:r.y}),this},_toggleFlipping:function(t){this.flipX&&(t.toggle("flipX"),t.set("left",-t.get("left")),t.setAngle(-t.getAngle())),this.flipY&&(t.toggle("flipY"),t.set("top",-t.get("top")),t.setAngle(-t.getAngle()))},_restoreObjectState:function(t){return this._setObjectPosition(t),t.setCoords(),t.hasControls=t.__origHasControls,delete t.__origHasControls,t.set("active",!1),t.setCoords(),delete t.group,this},_setObjectPosition:function(t){var e=this.getCenterPoint(),n=this._getRotatedLeftTop(t);t.set({angle:t.getAngle()+this.getAngle(),left:e.x+n.left,top:e.y+n.top,scaleX:t.get("scaleX")*this.get("scaleX"),scaleY:t.get("scaleY")*this.get("scaleY")})},_getRotatedLeftTop:function(t){var e=this.getAngle()*(Math.PI/180);return{left:-Math.sin(e)*t.getTop()*this.get("scaleY")+Math.cos(e)*t.getLeft()*this.get("scaleX"),top:Math.cos(e)*t.getTop()*this.get("scaleY")+Math.sin(e)*t.getLeft()*this.get("scaleX")}},destroy:function(){return this._objects.forEach(this._moveFlippedObject,this),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords()}),this},_calcBounds:function(t){for(var e,n,i=[],r=[],o=["tr","br","bl","tl"],s=0,a=this._objects.length;a>s;++s){e=this._objects[s],e.setCoords();for(var c=0;c<o.length;c++)n=o[c],i.push(e.oCoords[n].x),r.push(e.oCoords[n].y)}this.set(this._getBounds(i,r,t))},_getBounds:function(t,n,o){var s=e.util.invertTransform(this.getViewportTransform()),a=e.util.transformPoint(new e.Point(i(t),i(n)),s),c=e.util.transformPoint(new e.Point(r(t),r(n)),s),l={width:c.x-a.x||0,height:c.y-a.y||0};return o||(l.left=a.x||0,l.top=a.y||0,"center"===this.originX&&(l.left+=l.width/2),"right"===this.originX&&(l.left+=l.width),"center"===this.originY&&(l.top+=l.height/2),"bottom"===this.originY&&(l.top+=l.height)),l},toSVG:function(t){for(var e=["<g ",'transform="',this.getSvgTransform(),'">\n'],n=0,i=this._objects.length;i>n;n++)e.push(this._objects[n].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")},get:function(t){if(t in s){if(this[t])return this[t];for(var e=0,n=this._objects.length;n>e;e++)if(this._objects[e][t])return!0;return!1}return t in this.delegatedProperties?this._objects[0]&&this._objects[0].get(t):this[t]}}),e.Group.fromObject=function(t,n){e.util.enlivenObjects(t.objects,function(i){delete t.objects,n&&n(new e.Group(i,t))})},e.Group.async=!0}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=fabric.util.object.extend;return t.fabric||(t.fabric={}),t.fabric.Image?void fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",_lastScaleX:1,_lastScaleY:1,initialize:function(t,e){e||(e={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",e),this._initElement(t,e),this._initConfig(e),e.filters&&(this.filters=e.filters,this.applyFilters())},getElement:function(){return this._element},setElement:function(t,e,n){return this._element=t,this._originalElement=t,this._initConfig(n),0!==this.filters.length?this.applyFilters(e):e&&e(),this},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){t.save(),this._setStrokeStyles(t),t.beginPath(),t.strokeRect(-this.width/2,-this.height/2,this.width,this.height),t.closePath(),t.restore()},_renderDashedStroke:function(t){var e=-this.width/2,n=-this.height/2,i=this.width,r=this.height;t.save(),this._setStrokeStyles(t),t.beginPath(),fabric.util.drawDashedLine(t,e,n,e+i,n,this.strokeDashArray),fabric.util.drawDashedLine(t,e+i,n,e+i,n+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e+i,n+r,e,n+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e,n+r,e,n,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){return e(this.callSuper("toObject",t),{src:this._originalElement.src||this._originalElement._src,filters:this.filters.map(function(t){return t&&t.toObject()}),crossOrigin:this.crossOrigin,alignX:this.alignX,alignY:this.alignY,meetOrSlice:this.meetOrSlice})},toSVG:function(t){var e=[],n=-this.width/2,i=-this.height/2,r="none";if(this.group&&"path-group"===this.group.type&&(n=this.left,i=this.top),"none"!==this.alignX&&"none"!==this.alignY&&(r="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n','<image xlink:href="',this.getSvgSrc(),'" x="',n,'" y="',i,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',r,'"',"></image>\n"),this.stroke||this.strokeDashArray){var o=this.fill;this.fill=null,e.push("<rect ",'x="',n,'" y="',i,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=o}return e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(){return this.getElement()?this.getElement().src||this.getElement()._src:void 0},setSrc:function(t,e,n){fabric.util.loadImage(t,function(t){return this.setElement(t,e,n)},this,n&&n.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},clone:function(t,e){this.constructor.fromObject(this.toObject(e),t)},applyFilters:function(t,e,n,i){if(e=e||this.filters,n=n||this._originalElement){var r=n,o=fabric.util.createCanvasElement(),s=fabric.util.createImage(),a=this;return o.width=r.width,o.height=r.height,o.getContext("2d").drawImage(r,0,0,r.width,r.height),0===e.length?(this._element=n,t&&t(),o):(e.forEach(function(t){t&&t.applyTo(o,t.scaleX||a.scaleX,t.scaleY||a.scaleY),!i&&t&&"Resize"===t.type&&(a.width*=t.scaleX,a.height*=t.scaleY)}),s.width=o.width,s.height=o.height,fabric.isLikelyNode?(s.src=o.toBuffer(void 0,fabric.Image.pngCompression),a._element=s,!i&&(a._filteredEl=s),t&&t()):(s.onload=function(){a._element=s,!i&&(a._filteredEl=s),t&&t(),s.onload=o=r=null},s.src=o.toDataURL("image/png")),o)}},_render:function(t,e){var n,i,r,o=this._findMargins();n=e?this.left:-this.width/2,i=e?this.top:-this.height/2,"slice"===this.meetOrSlice&&(t.beginPath(),t.rect(n,i,this.width,this.height),t.clip()),this.isMoving===!1&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,r=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):r=this._element,r&&t.drawImage(r,n+o.marginX,i+o.marginY,o.width,o.height),this._renderStroke(t)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var t,e,n=this.width,i=this.height,r=0,o=0;return("none"!==this.alignX||"none"!==this.alignY)&&(t=[this.width/this._element.width,this.height/this._element.height],e="meet"===this.meetOrSlice?Math.min.apply(null,t):Math.max.apply(null,t),n=this._element.width*e,i=this._element.height*e,"Mid"===this.alignX&&(r=(this.width-n)/2),"Max"===this.alignX&&(r=this.width-n),"Mid"===this.alignY&&(o=(this.height-i)/2),"Max"===this.alignY&&(o=this.height-i)),{width:n,height:i,marginX:r,marginY:o}},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t){this.setElement(fabric.util.getById(t)),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t.filters&&t.filters.length?fabric.util.enlivenObjects(t.filters,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()?this.getElement().width||0:0,this.height="height"in t?t.height:this.getElement()?this.getElement().height||0:0},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(n){fabric.Image.prototype._initFilters.call(t,t,function(i){t.filters=i||[];var r=new fabric.Image(n,t);e&&e(r)})},null,t.crossOrigin)},fabric.Image.fromURL=function(t,e,n){fabric.util.loadImage(t,function(t){e&&e(new fabric.Image(t,n))},null,n&&n.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href".split(" ")),fabric.Image.fromElement=function(t,n,i){var r,o,s,a=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES),c="xMidYMid",l="meet";a.preserveAspectRatio&&(s=a.preserveAspectRatio.split(" ")),s&&s.length&&(l=s.pop(),"meet"!==l&&"slice"!==l?(c=l,l="meet"):s.length&&(c=s.pop())),r="none"!==c?c.slice(1,4):"none",o="none"!==c?c.slice(5,8):"none",a.alignX=r,a.alignY=o,a.meetOrSlice=l,fabric.Image.fromURL(a["xlink:href"],n,e(i?fabric.util.object.clone(i):{},a))},fabric.Image.async=!0,void(fabric.Image.pngCompression=1))}("undefined"!=typeof exports?exports:this),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.getAngle()%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(t){t=t||{};var e=function(){},n=t.onComplete||e,i=t.onChange||e,r=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.setAngle(t),i()},onComplete:function(){r.setCoords(),n()},onStart:function(){r.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Brightness=e.util.createClass(e.Image.filters.BaseFilter,{type:"Brightness",initialize:function(t){t=t||{},this.brightness=t.brightness||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=n.data,r=this.brightness,o=0,s=i.length;s>o;o+=4)i[o]+=r,i[o+1]+=r,i[o+2]+=r;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=function(t){return new e.Image.filters.Brightness(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Convolute=e.util.createClass(e.Image.filters.BaseFilter,{type:"Convolute",initialize:function(t){t=t||{},this.opaque=t.opaque,this.matrix=t.matrix||[0,0,0,0,1,0,0,0,0];var n=e.util.createCanvasElement();this.tmpCtx=n.getContext("2d")},_createImageData:function(t,e){return this.tmpCtx.createImageData(t,e)},applyTo:function(t){for(var e=this.matrix,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=Math.round(Math.sqrt(e.length)),o=Math.floor(r/2),s=i.data,a=i.width,c=i.height,l=a,u=c,h=this._createImageData(l,u),f=h.data,d=this.opaque?1:0,p=0;u>p;p++)for(var g=0;l>g;g++){for(var m=p,v=g,b=4*(p*l+g),y=0,x=0,w=0,_=0,C=0;r>C;C++)for(var $=0;r>$;$++){var S=m+C-o,E=v+$-o;if(!(0>S||S>c||0>E||E>a)){var T=4*(S*a+E),k=e[C*r+$];y+=s[T]*k,x+=s[T+1]*k,w+=s[T+2]*k,_+=s[T+3]*k}}f[b]=y,f[b+1]=x,f[b+2]=w,f[b+3]=_+d*(255-_)}n.putImageData(h,0,0)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=function(t){return new e.Image.filters.Convolute(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.GradientTransparency=e.util.createClass(e.Image.filters.BaseFilter,{type:"GradientTransparency",initialize:function(t){t=t||{},this.threshold=t.threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=n.data,r=this.threshold,o=i.length,s=0,a=i.length;a>s;s+=4)i[s+3]=r+255*(o-s)/o;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=function(t){return new e.Image.filters.GradientTransparency(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Grayscale=e.util.createClass(e.Image.filters.BaseFilter,{type:"Grayscale",applyTo:function(t){for(var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=i.width*i.height*4,s=0;o>s;)e=(r[s]+r[s+1]+r[s+2])/3,r[s]=e,r[s+1]=e,r[s+2]=e,s+=4;n.putImageData(i,0,0)}}),e.Image.filters.Grayscale.fromObject=function(){return new e.Image.filters.Grayscale}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Invert=e.util.createClass(e.Image.filters.BaseFilter,{type:"Invert",applyTo:function(t){var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=r.length;for(e=0;o>e;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2];n.putImageData(i,0,0)}}),e.Image.filters.Invert.fromObject=function(){return new e.Image.filters.Invert}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Mask=e.util.createClass(e.Image.filters.BaseFilter,{type:"Mask",initialize:function(t){t=t||{},this.mask=t.mask,this.channel=[0,1,2,3].indexOf(t.channel)>-1?t.channel:0},applyTo:function(t){if(this.mask){var n,i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,s=this.mask.getElement(),a=e.util.createCanvasElement(),c=this.channel,l=r.width*r.height*4;a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0,s.width,s.height);var u=a.getContext("2d").getImageData(0,0,s.width,s.height),h=u.data;for(n=0;l>n;n+=4)o[n+3]=h[n+c];i.putImageData(r,0,0)}},toObject:function(){return n(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(t,n){e.util.loadImage(t.mask.src,function(i){t.mask=new e.Image(i,t.mask),n&&n(new e.Image.filters.Mask(t))})},e.Image.filters.Mask.async=!0}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Noise=e.util.createClass(e.Image.filters.BaseFilter,{type:"Noise",initialize:function(t){t=t||{},this.noise=t.noise||0},applyTo:function(t){for(var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=this.noise,s=0,a=r.length;a>s;s+=4)e=(.5-Math.random())*o,r[s]+=e,r[s+1]+=e,r[s+2]+=e;n.putImageData(i,0,0)},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=function(t){return new e.Image.filters.Noise(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Pixelate=e.util.createClass(e.Image.filters.BaseFilter,{type:"Pixelate",initialize:function(t){t=t||{},this.blocksize=t.blocksize||4},applyTo:function(t){var e,n,i,r,o,s,a,c=t.getContext("2d"),l=c.getImageData(0,0,t.width,t.height),u=l.data,h=l.height,f=l.width;for(n=0;h>n;n+=this.blocksize)for(i=0;f>i;i+=this.blocksize){e=4*n*f+4*i,r=u[e],o=u[e+1],s=u[e+2],a=u[e+3];for(var d=n,p=n+this.blocksize;p>d;d++)for(var g=i,m=i+this.blocksize;m>g;g++)e=4*d*f+4*g,u[e]=r,u[e+1]=o,u[e+2]=s,u[e+3]=a}c.putImageData(l,0,0)},toObject:function(){return n(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=function(t){return new e.Image.filters.Pixelate(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.RemoveWhite=e.util.createClass(e.Image.filters.BaseFilter,{type:"RemoveWhite",initialize:function(t){t=t||{},this.threshold=t.threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,n,i,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),s=o.data,a=this.threshold,c=this.distance,l=255-a,u=Math.abs,h=0,f=s.length;f>h;h+=4)e=s[h],n=s[h+1],i=s[h+2],e>l&&n>l&&i>l&&u(e-n)<c&&u(e-i)<c&&u(n-i)<c&&(s[h+3]=1);r.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=function(t){return new e.Image.filters.RemoveWhite(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Sepia=e.util.createClass(e.Image.filters.BaseFilter,{type:"Sepia",applyTo:function(t){var e,n,i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,s=o.length;for(e=0;s>e;e+=4)n=.3*o[e]+.59*o[e+1]+.11*o[e+2],o[e]=n+100,o[e+1]=n+50,o[e+2]=n+255;i.putImageData(r,0,0)}}),e.Image.filters.Sepia.fromObject=function(){return new e.Image.filters.Sepia}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Sepia2=e.util.createClass(e.Image.filters.BaseFilter,{type:"Sepia2",applyTo:function(t){var e,n,i,r,o=t.getContext("2d"),s=o.getImageData(0,0,t.width,t.height),a=s.data,c=a.length;for(e=0;c>e;e+=4)n=a[e],i=a[e+1],r=a[e+2],a[e]=(.393*n+.769*i+.189*r)/1.351,a[e+1]=(.349*n+.686*i+.168*r)/1.203,a[e+2]=(.272*n+.534*i+.131*r)/2.14;o.putImageData(s,0,0)}}),e.Image.filters.Sepia2.fromObject=function(){return new e.Image.filters.Sepia2}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Tint=e.util.createClass(e.Image.filters.BaseFilter,{type:"Tint",initialize:function(t){t=t||{},this.color=t.color||"#000000",this.opacity="undefined"!=typeof t.opacity?t.opacity:new e.Color(this.color).getAlpha()},applyTo:function(t){var n,i,r,o,s,a,c,l,u,h=t.getContext("2d"),f=h.getImageData(0,0,t.width,t.height),d=f.data,p=d.length;for(u=new e.Color(this.color).getSource(),i=u[0]*this.opacity,r=u[1]*this.opacity,o=u[2]*this.opacity,l=1-this.opacity,n=0;p>n;n+=4)s=d[n],a=d[n+1],c=d[n+2],d[n]=i+s*l,d[n+1]=r+a*l,d[n+2]=o+c*l;h.putImageData(f,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=function(t){return new e.Image.filters.Tint(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Multiply=e.util.createClass(e.Image.filters.BaseFilter,{type:"Multiply",initialize:function(t){t=t||{},this.color=t.color||"#000000"},applyTo:function(t){var n,i,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),s=o.data,a=s.length;for(i=new e.Color(this.color).getSource(),n=0;a>n;n+=4)s[n]*=i[0]/255,s[n+1]*=i[1]/255,s[n+2]*=i[2]/255;r.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=function(t){return new e.Image.filters.Multiply(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric;e.Image.filters.Blend=e.util.createClass({type:"Blend",initialize:function(t){t=t||{},this.color=t.color||"#000",this.image=t.image||!1,this.mode=t.mode||"multiply",this.alpha=t.alpha||1},applyTo:function(t){var n,i,r,o,s,a,c,l=t.getContext("2d"),u=l.getImageData(0,0,t.width,t.height),h=u.data,f=!1;if(this.image){f=!0;var d=e.util.createCanvasElement();d.width=this.image.width,d.height=this.image.height;var p=new e.StaticCanvas(d);p.add(this.image);var g=p.getContext("2d");c=g.getImageData(0,0,p.width,p.height).data}else c=new e.Color(this.color).getSource(),n=c[0]*this.alpha,i=c[1]*this.alpha,r=c[2]*this.alpha;for(var m=0,v=h.length;v>m;m+=4)switch(o=h[m],s=h[m+1],a=h[m+2],f&&(n=c[m]*this.alpha,i=c[m+1]*this.alpha,r=c[m+2]*this.alpha),this.mode){case"multiply":h[m]=o*n/255,h[m+1]=s*i/255,h[m+2]=a*r/255;break;case"screen":h[m]=1-(1-o)*(1-n),h[m+1]=1-(1-s)*(1-i),h[m+2]=1-(1-a)*(1-r);break;case"add":h[m]=Math.min(255,o+n),h[m+1]=Math.min(255,s+i),h[m+2]=Math.min(255,a+r);break;case"diff":case"difference":h[m]=Math.abs(o-n),h[m+1]=Math.abs(s-i),h[m+2]=Math.abs(a-r);break;case"subtract":var b=o-n,y=s-i,x=a-r;h[m]=0>b?0:b,h[m+1]=0>y?0:y,h[m+2]=0>x?0:x;break;case"darken":h[m]=Math.min(o,n),h[m+1]=Math.min(s,i),h[m+2]=Math.min(a,r);break;case"lighten":h[m]=Math.max(o,n),h[m+1]=Math.max(s,i),h[m+2]=Math.max(a,r)}l.putImageData(u,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=function(t){return new e.Image.filters.Blend(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.max,a=Math.round,c=Math.sin,l=Math.ceil;e.Image.filters.Resize=e.util.createClass(e.Image.filters.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(t,e,n){this.rcpScaleX=1/e,this.rcpScaleY=1/n;
var i,r=t.width,o=t.height,s=a(r*e),c=a(o*n);"sliceHack"===this.resizeType&&(i=this.sliceByTwo(t,r,o,s,c)),"hermite"===this.resizeType&&(i=this.hermiteFastResize(t,r,o,s,c)),"bilinear"===this.resizeType&&(i=this.bilinearFiltering(t,r,o,s,c)),"lanczos"===this.resizeType&&(i=this.lanczosResize(t,r,o,s,c)),t.width=s,t.height=c,t.getContext("2d").putImageData(i,0,0)},sliceByTwo:function(t,n,r,o,a){var c,l=t.getContext("2d"),u=.5,h=.5,f=1,d=1,p=!1,g=!1,m=n,v=r,b=e.util.createCanvasElement(),y=b.getContext("2d");for(o=i(o),a=i(a),b.width=s(o,n),b.height=s(a,r),o>n&&(u=2,f=-1),a>r&&(h=2,d=-1),c=l.getImageData(0,0,n,r),t.width=s(o,n),t.height=s(a,r),l.putImageData(c,0,0);!p||!g;)n=m,r=v,o*f<i(m*u*f)?m=i(m*u):(m=o,p=!0),a*d<i(v*h*d)?v=i(v*h):(v=a,g=!0),c=l.getImageData(0,0,n,r),y.putImageData(c,0,0),l.clearRect(0,0,m,v),l.drawImage(b,0,0,n,r,0,0,m,v);return l.getImageData(0,0,o,a)},lanczosResize:function(t,e,s,a,u){function h(t){return function(e){if(e>t)return 0;if(e*=Math.PI,o(e)<1e-16)return 1;var n=e/t;return c(e)*c(n)/e/n}}function f(t){var c,l,h,d,p,k,A,M,O,P,D;for(E.x=(t+.5)*y,T.x=i(E.x),c=0;u>c;c++){for(E.y=(c+.5)*x,T.y=i(E.y),p=0,k=0,A=0,M=0,O=0,l=T.x-C;l<=T.x+C;l++)if(!(0>l||l>=e)){P=i(1e3*o(l-E.x)),S[P]||(S[P]={});for(var j=T.y-$;j<=T.y+$;j++)0>j||j>=s||(D=i(1e3*o(j-E.y)),S[P][D]||(S[P][D]=b(r(n(P*w,2)+n(D*_,2))/1e3)),h=S[P][D],h>0&&(d=4*(j*e+l),p+=h,k+=h*m[d],A+=h*m[d+1],M+=h*m[d+2],O+=h*m[d+3]))}d=4*(c*a+t),v[d]=k/p,v[d+1]=A/p,v[d+2]=M/p,v[d+3]=O/p}return++t<a?f(t):g}var d=t.getContext("2d"),p=d.getImageData(0,0,e,s),g=d.getImageData(0,0,a,u),m=p.data,v=g.data,b=h(this.lanczosLobes),y=this.rcpScaleX,x=this.rcpScaleY,w=2/this.rcpScaleX,_=2/this.rcpScaleY,C=l(y*this.lanczosLobes/2),$=l(x*this.lanczosLobes/2),S={},E={},T={};return f(0)},bilinearFiltering:function(t,e,n,r,o){var s,a,c,l,u,h,f,d,p,g,m,v,b,y=0,x=this.rcpScaleX,w=this.rcpScaleY,_=t.getContext("2d"),C=4*(e-1),$=_.getImageData(0,0,e,n),S=$.data,E=_.getImageData(0,0,r,o),T=E.data;for(f=0;o>f;f++)for(d=0;r>d;d++)for(u=i(x*d),h=i(w*f),p=x*d-u,g=w*f-h,b=4*(h*e+u),m=0;4>m;m++)s=S[b+m],a=S[b+4+m],c=S[b+C+m],l=S[b+C+4+m],v=s*(1-p)*(1-g)+a*p*(1-g)+c*g*(1-p)+l*p*g,T[y++]=v;return E},hermiteFastResize:function(t,e,n,s,a){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=l(c/2),f=l(u/2),d=t.getContext("2d"),p=d.getImageData(0,0,e,n),g=p.data,m=d.getImageData(0,0,s,a),v=m.data,b=0;a>b;b++)for(var y=0;s>y;y++){for(var x=4*(y+b*s),w=0,_=0,C=0,$=0,S=0,E=0,T=0,k=(b+.5)*u,A=i(b*u);(b+1)*u>A;A++)for(var M=o(k-(A+.5))/f,O=(y+.5)*c,P=M*M,D=i(y*c);(y+1)*c>D;D++){var j=o(O-(D+.5))/h,I=r(P+j*j);I>1&&-1>I||(w=2*I*I*I-3*I*I+1,w>0&&(j=4*(D+A*e),T+=w*g[j+3],C+=w,g[j+3]<255&&(w=w*g[j+3]/250),$+=w*g[j],S+=w*g[j+1],E+=w*g[j+2],_+=w))}v[x]=$/_,v[x+1]=S/_,v[x+2]=E/_,v[x+3]=T/C}return m},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaley:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=function(){return new e.Image.filters.Resize}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,o=e.StaticCanvas.supports("setLineDash");if(e.Text)return void e.warn("fabric.Text is already defined");var s=e.Object.prototype.stateProperties.concat();s.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor"),e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:{fontSize:!0,fontWeight:!0,fontFamily:!0,fontStyle:!0,lineHeight:!0,stroke:!0,strokeWidth:!0,text:!0},_reNewline:/\r?\n/,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:s,stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,initialize:function(t,e){e=e||{},this.text=t,this.__skipDimension=!0,this.setOptions(e),this.__skipDimension=!1,this._initDimensions()},_initDimensions:function(){if(!this.__skipDimension){this._clearCache();var t=e.util.createCanvasElement().getContext("2d");this._textLines=this.text.split(this._reNewline),this._setTextStyles(t),this.width=this._getTextWidth(t),this.height=this._getTextHeight(t)}},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(t){this.clipTo&&e.util.clipContext(this,t),this._renderTextBackground(t),this._translateForTextAlign(t),this._renderText(t),"left"!==this.textAlign&&"justify"!==this.textAlign&&t.restore(),this._renderTextDecoration(t),this.clipTo&&t.restore()},_renderText:function(t){t.save(),this._setOpacity(t),this._setShadow(t),this._setupCompositeOperation(t),this._renderTextFill(t),this._renderTextStroke(t),this._restoreCompositeOperation(t),this._removeShadow(t),t.restore()},_translateForTextAlign:function(t){"left"!==this.textAlign&&"justify"!==this.textAlign&&(t.save(),t.translate("center"===this.textAlign?this.width/2:this.width,0))},_setTextStyles:function(t){t.textBaseline="alphabetic",this.skipTextAlign||(t.textAlign=this.textAlign),t.font=this._getFontDeclaration()},_getTextHeight:function(){return this._textLines.length*this._getHeightOfLine()},_getTextWidth:function(t){for(var e=this._getLineWidth(t,0),n=1,i=this._textLines.length;i>n;n++){var r=this._getLineWidth(t,n);r>e&&(e=r)}return e},_renderChars:function(t,e,n,i,r){e[t](n,i,r)},_renderTextLine:function(t,e,n,i,r,o){if(r-=this.fontSize*this._fontSizeFraction,"justify"!==this.textAlign)return void this._renderChars(t,e,n,i,r,o);var s=this._getLineWidth(e,o),a=this.width;if(a>s)for(var c=n.split(/\s+/),l=e.measureText(n.replace(/\s+/g,"")).width,u=a-l,h=c.length-1,f=u/h,d=0,p=0,g=c.length;g>p;p++)this._renderChars(t,e,c[p],i+d,r,o),d+=e.measureText(c[p]).width+f;else this._renderChars(t,e,n,i,r,o)},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextFill:function(t){if(this.fill||this._skipFillStrokeCheck){for(var e=0,n=0,i=this._textLines.length;i>n;n++){var r=this._getHeightOfLine(t,n),o=r/this.lineHeight;this._renderTextLine("fillText",t,this._textLines[n],this._getLeftOffset(),this._getTopOffset()+e+o,n),e+=r}this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t)}},_renderTextStroke:function(t){if(this.stroke&&0!==this.strokeWidth||this._skipFillStrokeCheck){var e=0;t.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),o&&t.setLineDash(this.strokeDashArray)),t.beginPath();for(var n=0,i=this._textLines.length;i>n;n++){var r=this._getHeightOfLine(t,n),s=r/this.lineHeight;this._renderTextLine("strokeText",t,this._textLines[n],this._getLeftOffset(),this._getTopOffset()+e+s,n),e+=r}t.closePath(),t.restore()}},_getHeightOfLine:function(){return this.fontSize*this._fontSizeMult*this.lineHeight},_renderTextBackground:function(t){this._renderTextBoxBackground(t),this._renderTextLinesBackground(t)},_renderTextBoxBackground:function(t){this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),t.restore())},_renderTextLinesBackground:function(t){var e=0,n=this._getHeightOfLine();if(this.textBackgroundColor){t.save(),t.fillStyle=this.textBackgroundColor;for(var i=0,r=this._textLines.length;r>i;i++){if(""!==this._textLines[i]){var o=this._getLineWidth(t,i),s=this._getLineLeftOffset(o);t.fillRect(this._getLeftOffset()+s,this._getTopOffset()+e,o,this.fontSize*this._fontSizeMult)}e+=n}t.restore()}},_getLineLeftOffset:function(t){return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__lineOffsets=[]},_shouldClearCache:function(){var t=!1;for(var e in this._dimensionAffectingProps)this["__"+e]!==this[e]&&(this["__"+e]=this[e],t=!0);return t},_getLineWidth:function(t,e){return this.__lineWidths[e]?this.__lineWidths[e]:(this.__lineWidths[e]=t.measureText(this._textLines[e]).width,this.__lineWidths[e])},_renderTextDecoration:function(t){function e(e){var r,o,s,a,c=0;for(r=0,o=i._textLines.length;o>r;r++){var l=i._getLineWidth(t,r),u=i._getLineLeftOffset(l),h=i._getHeightOfLine(t,r);for(s=0,a=e.length;a>s;s++)t.fillRect(i._getLeftOffset()+u,c+(i._fontSizeMult-1+e[s])*i.fontSize-n,l,i.fontSize/15);c+=h}}if(this.textDecoration){var n=this.height/2,i=this,r=[];this.textDecoration.indexOf("underline")>-1&&r.push(.85),this.textDecoration.indexOf("line-through")>-1&&r.push(.43),this.textDecoration.indexOf("overline")>-1&&r.push(-.12),r.length>0&&e(r)}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(t,e){if(this.visible){t.save(),this._setTextStyles(t),this._shouldClearCache()&&(this._clearCache(),this._textLines=this.text.split(this._reNewline),this.width=this._getTextWidth(t),this.height=this._getTextHeight(t)),e||this.transform(t),this._setStrokeStyles(t),this._setFillStyles(t);var n=this.group&&"path-group"===this.group.type;n&&t.translate(-this.group.width/2,-this.group.height/2),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),n&&t.translate(this.left,this.top),this._render(t),t.restore()}},toObject:function(t){var e=n(this.callSuper("toObject",t),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textAlign:this.textAlign,textBackgroundColor:this.textBackgroundColor});return this.includeDefaultValues||this._removeDefaultValues(e),e},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this._getSVGLeftTopOffsets(this.ctx),i=this._getSVGTextAndBg(n.textTop,n.textLeft);return this._wrapSVGTextAndBg(e,i),t?t(e.join("")):e.join("")},_getSVGLeftTopOffsets:function(t){var e=this._getHeightOfLine(t,0),n=-this.width/2,i=0;return{textLeft:n+(this.group&&"path-group"===this.group.type?this.left:0),textTop:i+(this.group&&"path-group"===this.group.type?-this.top:0),lineTop:e}},_wrapSVGTextAndBg:function(t,e){t.push('	<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',e.textBgRects.join(""),"		<text ",this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" >',e.textSpans.join(""),"</text>\n","	</g>\n")},_getSVGTextAndBg:function(t,e){var n=[],i=[],r=0;this._setSVGBg(i);for(var o=0,s=this._textLines.length;s>o;o++)this.textBackgroundColor&&this._setSVGTextLineBg(i,o,e,t,r),this._setSVGTextLineText(o,n,r,e,t,i),r+=this._getHeightOfLine(this.ctx,o);return{textSpans:n,textBgRects:i}},_setSVGTextLineText:function(t,n,i,o,s){var a=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-s+i-this.height/2;n.push('<tspan x="',r(o+this._getLineLeftOffset(this.__lineWidths[t]),4),'" ','y="',r(a,4),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(this._textLines[t]),"</tspan>")},_setSVGTextLineBg:function(t,e,n,i,o){t.push("		<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',r(n+this._getLineLeftOffset(this.__lineWidths[e]),4),'" y="',r(o-this.height/2,4),'" width="',r(this.__lineWidths[e],4),'" height="',r(this._getHeightOfLine(this.ctx,e)/this.lineHeight,4),'"></rect>\n')},_setSVGBg:function(t){this.backgroundColor&&t.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',r(-this.width/2,4),'" y="',r(-this.height/2,4),'" width="',r(this.width,4),'" height="',r(this.height,4),'"></rect>\n')},_getFillAttributes:function(t){var n=t&&"string"==typeof t?new e.Color(t):"";return n&&n.getSource()&&1!==n.getAlpha()?'opacity="'+n.getAlpha()+'" fill="'+n.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_set:function(t,e){this.callSuper("_set",t,e),t in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n){if(!t)return null;var i=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES);n=e.util.object.extend(n?e.util.object.clone(n):{},i),n.top=n.top||0,n.left=n.left||0,"dx"in i&&(n.left+=i.dx),"dy"in i&&(n.top+=i.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE),n.originX||(n.originX="left");var r=new e.Text(t.textContent,n),o=0;return"left"===r.originX&&(o=r.getWidth()/2),"right"===r.originX&&(o=-r.getWidth()/2),r.set({left:r.getLeft()+o,top:r.getTop()-r.getHeight()/2+r.fontSize*(.18+r._fontSizeFraction)}),r},e.Text.fromObject=function(t){return new e.Text(t.text,i(t))},e.util.createAccessors(e.Text)}("undefined"!=typeof exports?exports:this),function(){var t=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,styles:null,caching:!0,_skipFillStrokeCheck:!1,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,_charWidthsCache:{},initialize:function(t,e){this.styles=e?e.styles||{}:{},this.callSuper("initialize",t,e),this.initBehavior(),fabric.IText.instances.push(this)},_clearCache:function(){this.callSuper("_clearCache"),this.__maxFontHeights=[]},isEmptyStyles:function(){if(!this.styles)return!0;var t=this.styles;for(var e in t)for(var n in t[e])for(var i in t[e][n])return!1;return!0},setSelectionStart:function(t){t=Math.max(t,0),this.selectionStart!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this}),this.selectionStart=t),this._updateTextarea()},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this.selectionEnd!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this}),this.selectionEnd=t),this._updateTextarea()},getSelectionStyles:function(t,e){if(2===arguments.length){for(var n=[],i=t;e>i;i++)n.push(this.getSelectionStyles(i));return n}var r=this.get2DCursorLocation(t);return this.styles[r.lineIndex]?this.styles[r.lineIndex][r.charIndex]||{}:{}},setSelectionStyles:function(t){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,t);else for(var e=this.selectionStart;e<this.selectionEnd;e++)this._extendStyles(e,t);return this},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this.styles[n.lineIndex]||(this.styles[n.lineIndex]={}),this.styles[n.lineIndex][n.charIndex]||(this.styles[n.lineIndex][n.charIndex]={}),fabric.util.object.extend(this.styles[n.lineIndex][n.charIndex],e)},_render:function(t){this.callSuper("_render",t),this.ctx=t,this.isEditing&&this.renderCursorOrSelection()},renderCursorOrSelection:function(){if(this.active){var t,e=this.text.split("");this.selectionStart===this.selectionEnd?(t=this._getCursorBoundaries(e,"cursor"),this.renderCursor(t)):(t=this._getCursorBoundaries(e,"selection"),this.renderSelection(e,t))}},get2DCursorLocation:function(t){"undefined"==typeof t&&(t=this.selectionStart);var e=this.text.slice(0,t),n=e.split(this._reNewline);return{lineIndex:n.length-1,charIndex:n[n.length-1].length}},getCurrentCharStyle:function(t,e){var n=this.styles[t]&&this.styles[t][0===e?0:e-1];return{fontSize:n&&n.fontSize||this.fontSize,fill:n&&n.fill||this.fill,textBackgroundColor:n&&n.textBackgroundColor||this.textBackgroundColor,textDecoration:n&&n.textDecoration||this.textDecoration,fontFamily:n&&n.fontFamily||this.fontFamily,fontWeight:n&&n.fontWeight||this.fontWeight,fontStyle:n&&n.fontStyle||this.fontStyle,stroke:n&&n.stroke||this.stroke,strokeWidth:n&&n.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(t,e){return this.styles[t]&&this.styles[t][0===e?0:e-1]&&this.styles[t][0===e?0:e-1].fontSize||this.fontSize},getCurrentCharColor:function(t,e){return this.styles[t]&&this.styles[t][0===e?0:e-1]&&this.styles[t][0===e?0:e-1].fill||this.cursorColor},_getCursorBoundaries:function(t,e){var n=Math.round(this._getLeftOffset()),i=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:n,top:i,leftOffset:r.left+r.lineLeft,topOffset:r.top}},_getCursorBoundariesOffsets:function(t,e){for(var n=0,i=0,r=0,o=0,s=0,a=0;a<this.selectionStart;a++)"\n"===t[a]?(s=0,o+=this._getHeightOfLine(this.ctx,i),i++,r=0):(s+=this._getWidthOfChar(this.ctx,t[a],i,r),r++),n=this._getCachedLineOffset(i);return"cursor"===e&&(o+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,i)/this.lineHeight-this.getCurrentCharFontSize(i,r)*(1-this._fontSizeFraction)),{top:o,left:s,lineLeft:n}},_getCachedLineOffset:function(t){var e=this._getLineWidth(this.ctx,t);return this.__lineOffsets[t]||(this.__lineOffsets[t]=this._getLineLeftOffset(e))},renderCursor:function(t){var e=this.ctx;e.save();var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex,o=this.getCurrentCharFontSize(i,r),s=0===i&&0===r?this._getCachedLineOffset(i,this.text.split(this._reNewline)):t.leftOffset;e.fillStyle=this.getCurrentCharColor(i,r),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+s,t.top+t.topOffset,this.cursorWidth/this.scaleX,o),e.restore()},renderSelection:function(t,e){var n=this.ctx;n.save(),n.fillStyle=this.selectionColor;for(var i=this.get2DCursorLocation(this.selectionStart),r=this.get2DCursorLocation(this.selectionEnd),o=i.lineIndex,s=r.lineIndex,a=o;s>=a;a++){var c=this._getCachedLineOffset(a)||0,l=this._getHeightOfLine(this.ctx,a),u=0,h=this._textLines[a];if(a===o)for(var f=0,d=h.length;d>f;f++)f>=i.charIndex&&(a!==s||f<r.charIndex)&&(u+=this._getWidthOfChar(n,h[f],a,f)),f<i.charIndex&&(c+=this._getWidthOfChar(n,h[f],a,f));else if(a>o&&s>a)u+=this._getLineWidth(n,a)||5;else if(a===s)for(var p=0,g=r.charIndex;g>p;p++)u+=this._getWidthOfChar(n,h[p],a,p);n.fillRect(e.left+c,e.top+e.topOffset,u,l),e.topOffset+=l}n.restore()},_renderChars:function(t,e,n,i,r,o){if(this.isEmptyStyles())return this._renderCharsFast(t,e,n,i,r);this.skipTextAlign=!0,i-="center"===this.textAlign?this.width/2:"right"===this.textAlign?this.width:0;var s,a=this._getHeightOfLine(e,o),c=this._getCachedLineOffset(o),l=n.split(""),u="";i+=c||0,e.save(),r-=a/this.lineHeight*this._fontSizeFraction;for(var h=0,f=l.length;f>=h;h++){s=s||this.getCurrentCharStyle(o,h);var d=this.getCurrentCharStyle(o,h+1);(this._hasStyleChanged(s,d)||h===f)&&(this._renderChar(t,e,o,h-1,u,i,r,a),u="",s=d),u+=l[h]}e.restore()},_renderCharsFast:function(t,e,n,i,r){this.skipTextAlign=!1,"fillText"===t&&this.fill&&this.callSuper("_renderChars",t,e,n,i,r),"strokeText"===t&&(this.stroke&&this.strokeWidth>0||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",t,e,n,i,r)},_renderChar:function(t,e,n,i,r,o,s,a){var c,l,u,h=this._fontSizeFraction*a/this.lineHeight;if(this.styles&&this.styles[n]&&(c=this.styles[n][i])){var f=c.stroke||this.stroke,d=c.fill||this.fill;e.save(),l=this._applyCharStylesGetWidth(e,r,n,i,c),u=this._getHeightOfChar(e,r,n,i),d&&e.fillText(r,o,s),f&&e.strokeText(r,o,s),this._renderCharDecoration(e,c,o,s,h,l,u),e.restore(),e.translate(l,0)}else"strokeText"===t&&this.stroke&&e[t](r,o,s),"fillText"===t&&this.fill&&e[t](r,o,s),l=this._applyCharStylesGetWidth(e,r,n,i),this._renderCharDecoration(e,null,o,s,h,l,this.fontSize),e.translate(e.measureText(r).width,0)},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.fontSize!==e.fontSize||t.textBackgroundColor!==e.textBackgroundColor||t.textDecoration!==e.textDecoration||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth},_renderCharDecoration:function(t,e,n,i,r,o,s){var a=e?e.textDecoration||this.textDecoration:this.textDecoration;a&&(a.indexOf("underline")>-1&&t.fillRect(n,i+s/10,o,s/15),a.indexOf("line-through")>-1&&t.fillRect(n,i-s*(this._fontSizeFraction+this._fontSizeMult-1)+s/15,o,s/15),a.indexOf("overline")>-1&&t.fillRect(n,i-(this._fontSizeMult-this._fontSizeFraction)*s,o,s/15))},_renderTextLine:function(t,e,n,i,r,o){this.isEmptyStyles()||(r+=this.fontSize*(this._fontSizeFraction+.03)),this.callSuper("_renderTextLine",t,e,n,i,r,o)},_renderTextDecoration:function(t){return this.isEmptyStyles()?this.callSuper("_renderTextDecoration",t):void 0},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styles){t.save(),this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor);for(var e=0,n=0,i=this._textLines.length;i>n;n++){var r=this._getHeightOfLine(t,n);if(""!==this._textLines[n]){var o=this._getLineWidth(t,n),s=this._getCachedLineOffset(n);if(this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor,t.fillRect(this._getLeftOffset()+s,this._getTopOffset()+e,o,r/this.lineHeight)),this.styles[n])for(var a=0,c=this._textLines[n].length;c>a;a++)if(this.styles[n]&&this.styles[n][a]&&this.styles[n][a].textBackgroundColor){var l=this._textLines[n][a];t.fillStyle=this.styles[n][a].textBackgroundColor,t.fillRect(this._getLeftOffset()+s+this._getWidthOfCharsAt(t,n,a),this._getTopOffset()+e,this._getWidthOfChar(t,l,n,a)+1,r/this.lineHeight)}e+=r}else e+=r}t.restore()}},_getCacheProp:function(t,e){return t+e.fontFamily+e.fontSize+e.fontWeight+e.fontStyle+e.shadow},_applyCharStylesGetWidth:function(e,n,i,r,o){var s=o||this.styles[i]&&this.styles[i][r];s=s?t(s):{},this._applyFontStyles(s);var a=this._getCacheProp(n,s);if(this.isEmptyStyles()&&this._charWidthsCache[a]&&this.caching)return this._charWidthsCache[a];"string"==typeof s.shadow&&(s.shadow=new fabric.Shadow(s.shadow));var c=s.fill||this.fill;return e.fillStyle=c.toLive?c.toLive(e,this):c,s.stroke&&(e.strokeStyle=s.stroke&&s.stroke.toLive?s.stroke.toLive(e,this):s.stroke),e.lineWidth=s.strokeWidth||this.strokeWidth,e.font=this._getFontDeclaration.call(s),this._setShadow.call(s,e),this.caching?(this._charWidthsCache[a]||(this._charWidthsCache[a]=e.measureText(n).width),this._charWidthsCache[a]):e.measureText(n).width},_applyFontStyles:function(t){t.fontFamily||(t.fontFamily=this.fontFamily),t.fontSize||(t.fontSize=this.fontSize),t.fontWeight||(t.fontWeight=this.fontWeight),t.fontStyle||(t.fontStyle=this.fontStyle)},_getStyleDeclaration:function(e,n){return this.styles[e]&&this.styles[e][n]?t(this.styles[e][n]):{}},_getWidthOfChar:function(t,e,n,i){if("justify"===this.textAlign&&/\s/.test(e))return this._getWidthOfSpace(t,n);var r=this._getStyleDeclaration(n,i);this._applyFontStyles(r);var o=this._getCacheProp(e,r);if(this._charWidthsCache[o]&&this.caching)return this._charWidthsCache[o];if(t){t.save();var s=this._applyCharStylesGetWidth(t,e,n,i);return t.restore(),s}},_getHeightOfChar:function(t,e,n,i){return this.styles[n]&&this.styles[n][i]?this.styles[n][i].fontSize||this.fontSize:this.fontSize},_getWidthOfCharAt:function(t,e,n){var i=this._textLines[e].split("")[n];return this._getWidthOfChar(t,i,e,n)},_getHeightOfCharAt:function(t,e,n){var i=this._textLines[e].split("")[n];return this._getHeightOfChar(t,i,e,n)},_getWidthOfCharsAt:function(t,e,n){for(var i=0,r=0;n>r;r++)i+=this._getWidthOfCharAt(t,e,r);return i},_getLineWidth:function(t,e){return this.__lineWidths[e]?this.__lineWidths[e]:(this.__lineWidths[e]=this._getWidthOfCharsAt(t,e,this._textLines[e].length),this.__lineWidths[e])},_getWidthOfSpace:function(t,e){var n=this.text.split(this._reNewline),i=n[e],r=i.split(/\s+/),o=this._getWidthOfWords(t,i,e),s=this.width-o,a=r.length-1,c=s/a;return c},_getWidthOfWords:function(t,e,n){for(var i=0,r=0;r<e.length;r++){var o=e[r];o.match(/\s/)||(i+=this._getWidthOfChar(t,o,n,r))}return i},_getHeightOfLine:function(t,e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var n=this._textLines[e],i=this._getHeightOfChar(t,n[0],e,0),r=n.split(""),o=1,s=r.length;s>o;o++){var a=this._getHeightOfChar(t,r[o],e,o);a>i&&(i=a)}return this.__maxFontHeights[e]=i,this.__lineHeights[e]=i*this.lineHeight*this._fontSizeMult,this.__lineHeights[e]},_getTextHeight:function(t){for(var e=0,n=0,i=this._textLines.length;i>n;n++)e+=this._getHeightOfLine(t,n);return e},_renderTextBoxBackground:function(t){this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),t.restore())},toObject:function(e){return fabric.util.object.extend(this.callSuper("toObject",e),{styles:t(this.styles)})}}),fabric.IText.fromObject=function(e){return new fabric.IText(e.text,t(e))},fabric.IText.instances=[]}(),function(){var t=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation()},initSelectedHandler:function(){this.on("selected",function(){var t=this;setTimeout(function(){t.selected=!0},100)})},initAddedHandler:function(){this.on("added",function(){this.canvas&&!this.canvas._hasITextHandlers&&(this.canvas._hasITextHandlers=!0,this._initCanvasHandlers())})},_initCanvasHandlers:function(){this.canvas.on("selection:cleared",function(){fabric.IText.prototype.exitEditingOnOthers.call()}),this.canvas.on("mouse:up",function(){fabric.IText.instances.forEach(function(t){t.__isMousedown=!1})}),this.canvas.on("object:selected",function(t){fabric.IText.prototype.exitEditingOnOthers.call(t.target)})},_tick:function(){var t,e=this;t={isAborted:!1,abort:function(){this.isAborted=!0}},this.animate("_currentCursorOpacity",1,{duration:this.cursorDuration,onComplete:function(){t.isAborted||e._onTickComplete()},onChange:function(){e.canvas&&e.canvas.renderAll()},abort:function(){return t.isAborted}}),this._currentTickState=t},_onTickComplete:function(){var t,e=this;t={isAborted:!1,abort:function(){this.isAborted=!0}},this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){e.animate("_currentCursorOpacity",0,{duration:this.cursorDuration/2,onComplete:function(){t.isAborted||e._tick()},onChange:function(){e.canvas&&e.canvas.renderAll()},abort:function(){return t.isAborted}})},100),this._currentTickCompleteState=t},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;t&&(this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),this._currentCursorOpacity=1,this.canvas&&this.canvas.renderAll()),this._cursorTimeout2&&clearTimeout(this._cursorTimeout2),this._cursorTimeout2=setTimeout(function(){e._tick()},n)},abortCursorAnimation:function(){this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,this.canvas&&this.canvas.renderAll()},selectAll:function(){this.setSelectionStart(0),this.setSelectionEnd(this.text.length)},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n--;for(;/\S/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n++;for(;/\S/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},getNumNewLinesInSelectedText:function(){for(var t=this.getSelectedText(),e=0,n=0,i=t.split(""),r=i.length;r>n;n++)"\n"===i[n]&&e++;return e},searchWordBoundary:function(t,e){for(var n=this._reSpace.test(this.text.charAt(t))?t-1:t,i=this.text.charAt(n),r=/[ \n\.,;!\?\-]/;!r.test(i)&&n>0&&n<this.text.length;)n+=e,i=this.text.charAt(n);return r.test(i)&&"\n"!==i&&(n+=1===e?0:1),n},selectWord:function(t){var e=this.searchWordBoundary(t,-1),n=this.searchWordBoundary(t,1);this.setSelectionStart(e),this.setSelectionEnd(n),this.initDelayedCursor(!0)},selectLine:function(t){var e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);this.setSelectionStart(e),this.setSelectionEnd(n),this.initDelayedCursor(!0)},enterEditing:function(){return!this.isEditing&&this.editable?(this.exitEditingOnOthers(),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._tick(),this.fire("editing:entered"),this.canvas?(this.canvas.renderAll(),this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this):this):void 0},exitEditingOnOthers:function(){fabric.IText.instances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()},this)},initMouseMoveHandler:function(){var t=this;this.canvas.on("mouse:move",function(e){if(t.__isMousedown&&t.isEditing){var n=t.getSelectionStartFromPointer(e.e);n>=t.__selectionStartOnMouseDown?(t.setSelectionStart(t.__selectionStartOnMouseDown),t.setSelectionEnd(n)):(t.setSelectionStart(n),t.setSelectionEnd(t.__selectionStartOnMouseDown))}})},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){this.hiddenTextarea&&(this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd)},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),this.canvas&&this.canvas.fire("text:editing:exited",{target:this}),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},_removeCharsFromTo:function(t,e){for(var n=e;n!==t;){var i=this.get2DCursorLocation(n).charIndex;n--;var r=this.get2DCursorLocation(n).charIndex,o=r>i;o?this.removeStyleObject(o,n+1):this.removeStyleObject(0===this.get2DCursorLocation(n).charIndex,n)}this.text=this.text.slice(0,t)+this.text.slice(e),this._clearCache()},insertChars:function(t,e){var n="\n"===this.text.slice(this.selectionStart,this.selectionStart+1);this.text=this.text.slice(0,this.selectionStart)+t+this.text.slice(this.selectionEnd),this.selectionStart===this.selectionEnd&&this.insertStyleObjects(t,n,e),this.setSelectionStart(this.selectionStart+t.length),this.setSelectionEnd(this.selectionStart),this._clearCache(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})
},insertNewlineStyleObject:function(e,n,i){this.shiftLineStyles(e,1),this.styles[e+1]||(this.styles[e+1]={});var r=this.styles[e][n-1],o={};if(i)o[0]=t(r),this.styles[e+1]=o;else{for(var s in this.styles[e])parseInt(s,10)>=n&&(o[parseInt(s,10)-n]=this.styles[e][s],delete this.styles[e][s]);this.styles[e+1]=o}this._clearCache()},insertCharStyleObject:function(e,n,i){var r=this.styles[e],o=t(r);0!==n||i||(n=1);for(var s in o){var a=parseInt(s,10);a>=n&&(r[a+1]=o[a])}this.styles[e][n]=i||t(r[n-1]),this._clearCache()},insertStyleObjects:function(t,e,n){var i=this.get2DCursorLocation(),r=i.lineIndex,o=i.charIndex;this.styles[r]||(this.styles[r]={}),"\n"===t?this.insertNewlineStyleObject(r,o,e):n?this._insertStyles(this.copiedStyles):this.insertCharStyleObject(r,o)},_insertStyles:function(t){for(var e=0,n=t.length;n>e;e++){var i=this.get2DCursorLocation(this.selectionStart+e),r=i.lineIndex,o=i.charIndex;this.insertCharStyleObject(r,o,t[e])}},shiftLineStyles:function(e,n){var i=t(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>e&&(this.styles[o+n]=i[o])}},removeStyleObject:function(e,n){var i=this.get2DCursorLocation(n),r=i.lineIndex,o=i.charIndex;if(e){var s=this._textLines[r-1],a=s?s.length:0;this.styles[r-1]||(this.styles[r-1]={});for(o in this.styles[r])this.styles[r-1][parseInt(o,10)+a]=this.styles[r][o];this.shiftLineStyles(r,-1)}else{var c=this.styles[r];if(c){var l=this.selectionStart===this.selectionEnd?-1:0;delete c[o+l]}var u=t(c);for(var h in u){var f=parseInt(h,10);f>=o&&0!==f&&(c[f-1]=u[f],delete c[f])}}},insertNewline:function(){this.insertChars("\n")}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e)?(this.fire("tripleclick",t),this._stopEvent(t.e)):this.isDoubleClick(e)&&(this.fire("dblclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y&&this.__lastIsEditing},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initSelectedHandler(),this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},initMousedownHandler:function(){this.on("mousedown",function(t){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.hiddenTextarea&&this.canvas&&this.canvas.wrapperEl.appendChild(this.hiddenTextarea),this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.initDelayedCursor(!0))})},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",function(t){this.__isMousedown=!1,this._isObjectMoved(t.e)||(this.__lastSelected&&(this.enterEditing(),this.initDelayedCursor(!0)),this.selected=!0)})},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t);t.shiftKey?e<this.selectionStart?(this.setSelectionEnd(this.selectionStart),this.setSelectionStart(e)):this.setSelectionEnd(e):(this.setSelectionStart(e),this.setSelectionEnd(e))},_getLocalRotatedPointer:function(t){var e=this.canvas.getPointer(t),n=new fabric.Point(e.x,e.y),i=new fabric.Point(this.left,this.top),r=fabric.util.rotatePoint(n,i,fabric.util.degreesToRadians(-this.angle));return this.getLocalPointer(t,r)},getSelectionStartFromPointer:function(t){for(var e,n,i=this._getLocalRotatedPointer(t),r=0,o=0,s=0,a=0,c=0,l=this._textLines.length;l>c;c++){n=this._textLines[c].split(""),s+=this._getHeightOfLine(this.ctx,c)*this.scaleY;var u=this._getLineWidth(this.ctx,c),h=this._getLineLeftOffset(u);o=h*this.scaleX,this.flipX&&(this._textLines[c]=n.split("").reverse().join(""));for(var f=0,d=n.length;d>f;f++){var p=n[f];if(r=o,o+=this._getWidthOfChar(this.ctx,p,c,this.flipX?d-f:f)*this.scaleX,!(s<=i.y||o<=i.x))return this._getNewSelectionStartFromOffset(i,r,o,a+c,d);a++}if(i.y<s)return this._getNewSelectionStartFromOffset(i,r,o,a+c,d)}return"undefined"==typeof e?this.text.length:void 0},_getNewSelectionStartFromOffset:function(t,e,n,i,r){var o=t.x-e,s=n-t.x,a=s>o?0:1,c=i+a;return this.flipX&&(c=r-c),c>this.text.length&&(c=this.text.length),c}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.style.cssText="position: fixed; bottom: 20px; left: 0px; opacity: 0; width: 0px; height: 0px; z-index: -999;",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keypress",this.onKeyPress.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},_keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},_ctrlKeysMap:{65:"selectAll",88:"cut"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){if(t.keyCode in this._keysMap)this[this._keysMap[t.keyCode]](t);else{if(!(t.keyCode in this._ctrlKeysMap&&(t.ctrlKey||t.metaKey)))return;this[this._ctrlKeysMap[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.renderAll()}},forwardDelete:function(t){this.selectionStart===this.selectionEnd&&this.moveCursorRight(t),this.removeChars(t)},copy:function(t){var e=this.getSelectedText(),n=this._getClipboardData(t);n&&n.setData("text",e),this.copiedText=e,this.copiedStyles=this.getSelectionStyles(this.selectionStart,this.selectionEnd)},paste:function(t){var e=null,n=this._getClipboardData(t);e=n?n.getData("text"):this.copiedText,e&&this.insertChars(e,!0)},cut:function(t){this.selectionStart!==this.selectionEnd&&(this.copy(),this.removeChars(t))},_getClipboardData:function(t){return t&&(t.clipboardData||fabric.window.clipboardData)},onKeyPress:function(t){!this.isEditing||t.metaKey||t.ctrlKey||(0!==t.which&&this.insertChars(String.fromCharCode(t.which)),t.stopPropagation())},getDownCursorOffset:function(t,e){var n,i,r=e?this.selectionEnd:this.selectionStart,o=this.text.slice(0,r),s=this.text.slice(r),a=o.slice(o.lastIndexOf("\n")+1),c=s.match(/(.*)\n?/)[1],l=(s.match(/.*\n(.*)\n?/)||{})[1]||"",u=this.get2DCursorLocation(r);if(u.lineIndex===this._textLines.length-1||t.metaKey||34===t.keyCode)return this.text.length-r;var h=this._getLineWidth(this.ctx,u.lineIndex);i=this._getLineLeftOffset(h);for(var f=i,d=u.lineIndex,p=0,g=a.length;g>p;p++)n=a[p],f+=this._getWidthOfChar(this.ctx,n,d,p);var m=this._getIndexOnNextLine(u,l,f);return c.length+1+m},_getIndexOnNextLine:function(t,e,n){for(var i,r=t.lineIndex+1,o=this._getLineWidth(this.ctx,r),s=this._getLineLeftOffset(o),a=s,c=0,l=0,u=e.length;u>l;l++){var h=e[l],f=this._getWidthOfChar(this.ctx,h,r,l);if(a+=f,a>n){i=!0;var d=a-f,p=a,g=Math.abs(d-n),m=Math.abs(p-n);c=g>m?l+1:l;break}}return i||(c=e.length),c},moveCursorDown:function(t){this.abortCursorAnimation(),this._currentCursorOpacity=1;var e=this.getDownCursorOffset(t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorDownWithShift(e):this.moveCursorDownWithoutShift(e),this.initDelayedCursor()},moveCursorDownWithoutShift:function(t){this._selectionDirection="right",this.setSelectionStart(this.selectionStart+t),this.setSelectionEnd(this.selectionStart)},swapSelectionPoints:function(){var t=this.selectionEnd;this.setSelectionEnd(this.selectionStart),this.setSelectionStart(t)},moveCursorDownWithShift:function(t){this.selectionEnd===this.selectionStart&&(this._selectionDirection="right"),"right"===this._selectionDirection?this.setSelectionEnd(this.selectionEnd+t):this.setSelectionStart(this.selectionStart+t),this.selectionEnd<this.selectionStart&&"left"===this._selectionDirection&&(this.swapSelectionPoints(),this._selectionDirection="right"),this.selectionEnd>this.text.length&&this.setSelectionEnd(this.text.length)},getUpCursorOffset:function(t,e){var n=e?this.selectionEnd:this.selectionStart,i=this.get2DCursorLocation(n);if(0===i.lineIndex||t.metaKey||33===t.keyCode)return n;for(var r,o=this.text.slice(0,n),s=o.slice(o.lastIndexOf("\n")+1),a=(o.match(/\n?(.*)\n.*$/)||{})[1]||"",c=this._getLineWidth(this.ctx,i.lineIndex),l=this._getLineLeftOffset(c),u=l,h=i.lineIndex,f=0,d=s.length;d>f;f++)r=s[f],u+=this._getWidthOfChar(this.ctx,r,h,f);var p=this._getIndexOnPrevLine(i,a,u);return a.length-p+s.length},_getIndexOnPrevLine:function(t,e,n){for(var i,r=t.lineIndex-1,o=this._getLineWidth(this.ctx,r),s=this._getLineLeftOffset(o),a=s,c=0,l=0,u=e.length;u>l;l++){var h=e[l],f=this._getWidthOfChar(this.ctx,h,r,l);if(a+=f,a>n){i=!0;var d=a-f,p=a,g=Math.abs(d-n),m=Math.abs(p-n);c=g>m?l:l-1;break}}return i||(c=e.length-1),c},moveCursorUp:function(t){this.abortCursorAnimation(),this._currentCursorOpacity=1;var e=this.getUpCursorOffset(t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorUpWithShift(e):this.moveCursorUpWithoutShift(e),this.initDelayedCursor()},moveCursorUpWithShift:function(t){this.selectionEnd===this.selectionStart&&(this._selectionDirection="left"),"right"===this._selectionDirection?this.setSelectionEnd(this.selectionEnd-t):this.setSelectionStart(this.selectionStart-t),this.selectionEnd<this.selectionStart&&"right"===this._selectionDirection&&(this.swapSelectionPoints(),this._selectionDirection="left")},moveCursorUpWithoutShift:function(t){this.selectionStart===this.selectionEnd&&this.setSelectionStart(this.selectionStart-t),this.setSelectionEnd(this.selectionStart),this._selectionDirection="left"},moveCursorLeft:function(t){(0!==this.selectionStart||0!==this.selectionEnd)&&(this.abortCursorAnimation(),this._currentCursorOpacity=1,t.shiftKey?this.moveCursorLeftWithShift(t):this.moveCursorLeftWithoutShift(t),this.initDelayedCursor())},_move:function(t,e,n){var i="selectionStart"===e?"setSelectionStart":"setSelectionEnd";this[i](t.altKey?this["findWordBoundary"+n](this[e]):t.metaKey||35===t.keyCode||36===t.keyCode?this["findLineBoundary"+n](this[e]):this[e]+("Left"===n?-1:1))},_moveLeft:function(t,e){this._move(t,e,"Left")},_moveRight:function(t,e){this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this._moveLeft(t,"selectionStart"),this.setSelectionEnd(this.selectionStart)},moveCursorLeftWithShift:function(t){"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):(this._selectionDirection="left",this._moveLeft(t,"selectionStart"),"\n"===this.text.charAt(this.selectionStart)&&this.setSelectionStart(this.selectionStart-1))},moveCursorRight:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||(this.abortCursorAnimation(),this._currentCursorOpacity=1,t.shiftKey?this.moveCursorRightWithShift(t):this.moveCursorRightWithoutShift(t),this.initDelayedCursor())},moveCursorRightWithShift:function(t){"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):(this._selectionDirection="right",this._moveRight(t,"selectionEnd"),"\n"===this.text.charAt(this.selectionEnd-1)&&this.setSelectionEnd(this.selectionEnd+1))},moveCursorRightWithoutShift:function(t){this._selectionDirection="right",this.selectionStart===this.selectionEnd?(this._moveRight(t,"selectionStart"),this.setSelectionEnd(this.selectionStart)):(this.setSelectionEnd(this.selectionEnd+this.getNumNewLinesInSelectedText()),this.setSelectionStart(this.selectionEnd))},removeChars:function(t){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(t):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.setSelectionEnd(this.selectionStart),this._removeExtraneousStyles(),this._clearCache(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(t){if(0!==this.selectionStart)if(t.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)}else if(t.altKey){var n=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(n,this.selectionStart),this.setSelectionStart(n)}else{var i="\n"===this.text.slice(this.selectionStart-1,this.selectionStart);this.removeStyleObject(i),this.setSelectionStart(this.selectionStart-1),this.text=this.text.slice(0,this.selectionStart)+this.text.slice(this.selectionStart+1)}}}),fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(t,e,n,i,r,o){this.styles[t]?this._setSVGTextLineChars(t,e,n,i,o):this.callSuper("_setSVGTextLineText",t,e,n,i,r)},_setSVGTextLineChars:function(t,e,n,i,r){for(var o=this._textLines[t].split(""),s=0,a=this._getSVGLineLeftOffset(t)-this.width/2,c=this._getSVGLineTopOffset(t),l=this._getHeightOfLine(this.ctx,t),u=0,h=o.length;h>u;u++){var f=this.styles[t][u]||{};e.push(this._createTextCharSpan(o[u],f,a,c.lineTop+c.offset,s));var d=this._getWidthOfChar(this.ctx,o[u],t,u);f.textBackgroundColor&&r.push(this._createTextCharBg(f,a,c.lineTop,l,d,s)),s+=d}},_getSVGLineLeftOffset:function(t){return fabric.util.toFixed(this._getLineLeftOffset(this.__lineWidths[t]),2)},_getSVGLineTopOffset:function(t){for(var e=0,n=0,i=0;t>i;i++)e+=this._getHeightOfLine(this.ctx,i);return n=this._getHeightOfLine(this.ctx,i),{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(t,e,n,i,r,o){return['<rect fill="',t.textBackgroundColor,'" x="',e+o,'" y="',n-this.height/2,'" width="',r,'" height="',i/this.lineHeight,'"></rect>'].join("")},_createTextCharSpan:function(t,e,n,i,r){var o=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text"},e));return['<tspan x="',n+r,'" y="',i-this.height/2,'" ',e.fontFamily?'font-family="'+e.fontFamily.replace(/"/g,"'")+'" ':"",e.fontSize?'font-size="'+e.fontSize+'" ':"",e.fontStyle?'font-style="'+e.fontStyle+'" ':"",e.fontWeight?'font-weight="'+e.fontWeight+'" ':"",e.textDecoration?'text-decoration="'+e.textDecoration+'" ':"",'style="',o,'">',fabric.util.string.escapeXml(t),"</tspan>"].join("")}}),angular.module("ImageEditor",["ngMaterial","ngAnimate","image.crop","image.text","image.drawing","image.filters","image.shapes","image.directives","image.basics"]).config(["$mdThemingProvider",function(t){t.theme("default").primaryPalette("deep-orange").accentPalette("brown")}]).controller("MainController",["$rootScope","$scope","$timeout","$$rAF","$mdBottomSheet","canvas","history","simpleShapes",function(t,e,n,i,r,o,s,a){t.started=!1,t.isDemo=document.URL.indexOf("pixie.vebto.com")>-1,t.isIntegrationMode=function(){try{return window.self!==window.top&&-1===document.URL.indexOf("codecanyon")}catch(t){return!0}},o.start(),t.isIntegrationMode()&&(t.pixie=window.top.Pixie),$(".actions-menu").draggable({handle:".menu-header",containment:"body"}),t.canvas=o,t.history=s,t.shapes=a,t.loading=!1,t.animationEndEvent="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t.transitionEndEvent="webkitTransitionEnd mozTransitionEnd MSTransitionEnd oatransitionend atransitionend transitionend",t.maxPanelHeight=$(window).height()-120,t.openPanel=function(e,n){if(t.activePanel!==e){t.activePanel=e;var r=$('[data-name="'+e+'"]'),o=n.target.getBoundingClientRect(),s=r[0].getBoundingClientRect(),a=Math.min(.5,o.width/s.width),c=Math.min(.5,o.height/s.height);r.removeClass("transition-in").css("transform","translate3d("+(-s.left+o.left+o.width/2-s.width/2)+"px,"+(-s.top+o.top+o.height/2-s.height/2)+"px,0) scale("+a+","+c+")"),i(function(){$(r).addClass("transition-in").css("transform","")})}},t.isLoading=function(){n(function(){t.loading=!0})},t.isNotLoading=function(){n(function(){t.loading=!1})},t.activePanel=!1,t.activeTab=!1,t.keys={google_fonts:"AIzaSyDhc_8NKxXjtv69htFcUPe6A7oGSQ4om2o"},t.$watch("activePanel",function(){setTimeout(function(){$(window).resize()},100)}),o.fabric.on("object:selected",function(e){if("text"==e.target.name)t.activeTab="text";else if("sticker"==e.target.name&&"stickers"!==t.activeTab)t.activeTab="stickers";else if(e.target.name&&"simple-shapes"!==t.activeTab)for(var i=0;i<a.available.length;i++){var r=a.available[i];r.name===e.target.name&&"simple-shapes"!==t.activeTab&&(a.selected=r,t.activeTab="simple-shapes")}n(angular.noop)}),e.openBottomSheet=function(t){r.show({template:$("#"+t+"-sheet-template").html(),controller:"BottomSheetController"})},t.spacify=function(t){if(t){var e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}}}]).controller("BottomSheetController",["$rootScope","$scope","$mdBottomSheet","$mdDialog","simpleShapes",function(t,e,n,i,r){e.shapes=r,e.showDialog=function(t){i.show({template:$("#texture-upload-dialog-template").html(),targetEvent:t,controller:"BottomSheetController"})}}]),angular.module("ImageEditor").factory("localStorage",function(){var t={expireAfter:2,get:function(e){var n=JSON.parse(localStorage.getItem(e));return n&&t.isValid(n.time)?n.value:!1},set:function(t,e){var n={value:e,time:(new Date).getTime()};return localStorage.setItem(t,JSON.stringify(n))},isValid:function(e){var n=((new Date).getTime()-new Date(e).getTime())/864e5;return n<t.expireAfter}};return t}),angular.module("ImageEditor").service("canvas",["$rootScope","$mdDialog",function(t,e){var n={original:{},mainImage:!1,fabric:!1,ctx:!1,container:!1,viewport:!1,offset:!1,element:!1,minWidth:50,minHeight:50,zoom:100,imageStatic:{locked:!0,selectable:!1,evented:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hasControls:!1,hasBorders:!1},start:function(n){this.element=document.getElementById("canvas"),this.fabric=new fabric.Canvas("canvas"),this.ctx=this.fabric.getContext("2d"),this.container=$(".canvas-container"),this.viewport=document.getElementById("viewport"),this.fabric.selection=!1,this.fabric.renderOnAddRemove=!1,fabric.Object.prototype.borderColor="#2196F3",fabric.Object.prototype.cornerColor="#2196F3",fabric.Object.prototype.transparentCorners=!1,n&&(this.loadMainImage(n),t.started=!0),t.started||t.isIntegrationMode()||e.show({template:$("#main-image-upload-dialog-template").html(),controller:"TopPanelController",clickOutsideToClose:!1})},hideModals:function(){e.hide()},mergeObjects:function(){this.fabric.deactivateAll();var t=this.fabric.toDataURL();this.fabric.clear(),this.loadMainImage(t)},openNew:function(e,i){e=e<this.minWidth?this.minWidth:e,i=i<this.minHeight?this.minHeight:i,this.fabric.clear(),this.fabric.setWidth(e),this.fabric.setHeight(i),this.fabric.renderAll(),n.fitToScreen(),t.$emit("canvas.openedNew")},center:function(t){t.center(),n.zoom>100&&(t.setLeft(10),t.setTop(35)),t.setCoords()},serialize:function(){return this.fabric.toJSON(["selectable","name"])},loadMainImage:function(e,i,r,o,s){var a;fabric.util.loadImage(e,function(e){e.crossOrigin="anonymous",a=new fabric.Image(e,n.imageStatic),a.name="mainImage",r&&i&&(a.width=r,a.height=i),n.mainImage=a,n.fabric.forEachObject(function(t){"mainImage"==t.name&&n.fabric.remove(t)}),n.fabric.add(a),a.moveTo(0),n.fabric.setHeight(a.height),n.fabric.setWidth(a.width),n.original.height=a.height,n.original.width=a.width,o||n.fitToScreen(),t.$apply(function(){t.$emit("editor.mainImage.loaded")}),window.canv=n,s&&s()})},currentScale:1,scaleFactor:1.01,scaleDown:function(t){t||(t=this.scaleFactor),this.currentScale=(this.currentScale/t).toFixed(2),this.fabric.setHeight(this.fabric.getHeight()*(1/t)),this.fabric.setWidth(this.fabric.getWidth()*(1/t));var e=this.fabric.getObjects();for(var n in e){var i=e[n].scaleX,r=e[n].scaleY,o=e[n].left,s=e[n].top,a=i*(1/t),c=r*(1/t),l=o*(1/t),u=s*(1/t);e[n].scaleX=a,e[n].scaleY=c,e[n].left=l,e[n].top=u,e[n].setCoords()}this.fabric.renderAll()},scaleUp:function(t){t||(t=this.scaleFactor),this.currentScale=(this.currentScale*t).toFixed(2),this.fabric.setHeight(this.fabric.getHeight()*t),this.fabric.setWidth(this.fabric.getWidth()*t);var e=this.fabric.getObjects();for(var n in e){var i=e[n].scaleX,r=e[n].scaleY,o=e[n].left,s=e[n].top,a=i*t,c=r*t,l=o*t,u=s*t;e[n].scaleX=a,e[n].scaleY=c,e[n].left=l,e[n].top=u,e[n].setCoords()}this.fabric.renderAll()},fitToScreen:function(){var t=n.viewport.offsetWidth-40,e=n.viewport.offsetHeight-120,i=n.mainImage||n.fabric;if(i.getHeight()>e||i.getWidth()>t){var r=Math.min(e/i.getHeight(),t/i.getWidth());n.scaleDown(1/r)}},resetZoom:function(){this.fabric.setHeight(this.fabric.getHeight()*(1/this.currentScale)),this.fabric.setWidth(this.fabric.getWidth()*(1/this.currentScale));var t=this.fabric.getObjects();for(var e in t){var n=t[e].scaleX,i=t[e].scaleY,r=t[e].left,o=t[e].top,s=n*(1/this.currentScale),a=i*(1/this.currentScale),c=r*(1/this.currentScale),l=o*(1/this.currentScale);t[e].scaleX=s,t[e].scaleY=a,t[e].left=c,t[e].top=l,t[e].setCoords()}this.fabric.renderAll(),this.currentScale=1}};return n}]),angular.module("image.crop",[]).service("cropper",["$rootScope","cropzone","canvas","history",function(t,e,n,i){var r={start:function(n){e.add(),t.openPanel("crop",n)},stop:function(){e.remove(),t.activePanel=!1},crop:function(){if(!e.initiated)return!1;e.hide();var r=new Image;r.onload=function(){var r=new fabric.Image(this,n.imageStatic);n.mainImage.remove(),n.fabric.setWidth(e.rect.getWidth()),n.fabric.setHeight(e.rect.getHeight()),n.fabric.add(r),n.mainImage=r,e.remove(),i.add("crop","crop"),t.$apply(function(){t.activePanel=!1})},100!==n.zoom&&n.resetZoom(),r.src=n.fabric.toDataURL({left:e.rect.getLeft(),top:e.rect.getTop(),width:e.rect.getWidth(),height:e.rect.getHeight()}),n.original.width=e.rect.getWidth(),n.original.height=e.rect.getHeight()}};return r}]),angular.module("image.crop").service("cropzone",["$rootScope","canvas",function(t,e){var n={rect:{},dragging:!1,initiated:!1,minHeight:100,minWidth:100,setWidth:function(t){t<this.minWidth&&(t=this.minWidth),t+this.rect.getLeft()>e.fabric.getWidth()&&(t=this.getOptimalDimensions().width),this.rect.scaleToWidth(t),this.rect.setTop((e.fabric.getHeight()-this.rect.getHeight())/2),this.rect.setLeft((e.fabric.getWidth()-this.rect.getWidth())/2),this.rect.setCoords(),this.drawGrid(),this.drawOverlay(),e.fabric.renderAll()},setHeight:function(t){t<this.minHeight&&(t=this.minHeight),t>e.fabric.getHeight()&&(t=this.getOptimalDimensions().height),this.rect.scaleToHeight(t),this.rect.setTop((e.fabric.getHeight()-this.rect.getHeight())/2),this.rect.setLeft((e.fabric.getWidth()-this.rect.getWidth())/2),this.rect.setCoords(),this.drawGrid(),this.drawOverlay(),e.fabric.renderAll()},add:function(){this.drawMainZone(),this.drawOverlay(),this.drawGrid(),this.attachEvents(),e.fabric.renderAll(),this.initiated=!0,t.$emit("cropzone.added")},constrainWithinCanvas:function(t){var n=t.getLeft(),i=t.getTop(),r=t.getWidth(),o=t.getHeight(),s=e.fabric.getWidth()-r,a=e.fabric.getHeight()-o;0>n&&t.set("left",0),0>i&&t.set("top",0),n>s&&t.set("left",s),i>a&&t.set("top",a)},constrainWithinCanvasOnScaling:function(t){var n=t.getLeft(),i=t.getTop(),r=t.getLeft()+t.getWidth(),o=t.getTop()+t.getHeight();if(0>n||r>e.fabric.getWidth()){var s=this.lastScaleX||1;t.setScaleX(s)}if(0>n&&t.setLeft(0),0>i||o>e.fabric.getHeight()){var a=this.lastScaleY||1;t.setScaleY(a)}0>i&&t.setTop(0),t.getWidth()<this.minWidth&&(t.width=this.minWidth,t.setScaleX(1)),t.getHeight()<this.minHeight&&(t.height=this.minHeight,t.setScaleY(1)),this.lastScaleX=t.getScaleX(),this.lastScaleY=t.getScaleY()},onMouseDown:function(t){(!t.target||"cropzone"!==t.target.name&&"crop.grid"!==t.target.name)&&(n.dragging=!0,n.overlay.visible=!1,n.grid.visible=!1,n.rect.visible=!1,n.rect.left=t.e.pageX-e.fabric._offset.left,n.rect.top=t.e.pageY-e.fabric._offset.top,n.rect.scale(1),n.overlay.scale(1),n.grid.scale(1),n.mousex=t.e.pageX,n.mousey=t.e.pageY,e.fabric.selection=!1,n.drawOverlay())},onMouseMove:function(t){if(n.dragging){var i=t.e.pageX-n.mousex,r=t.e.pageY-n.mousey;e.offset.left+e.fabric.getWidth()<t.e.pageX&&(i=e.offset.left+e.fabric.getWidth()-n.mousex),e.offset.left>t.e.pageX&&(i=e.offset.left-n.mousex),e.offset.top+e.fabric.getHeight()<t.e.pageY&&(r=e.offset.top+e.fabric.getHeight()-n.mousey),e.offset.top>t.e.pageY&&(r=e.offset.top-n.mousey),n.rect.width=i,n.rect.height=r,n.rect.moveTo(3),n.rect.setCoords(),n.drawOverlay(),n.drawGrid(),n.rect.visible||(n.rect.visible=!0,n.overlay.visible=!0,n.grid.visible=!0)}},onMouseUp:function(){n.dragging=!1,e.fabric.selection=!0,n.rect.setCoords(),n.grid.setCoords(),n.overlay.setCoords(),n.rect.visible&&e.fabric.setActiveObject(n.rect)},attachEvents:function(){this.rect.on("moving",function(){n.constrainWithinCanvas(n.rect),n.drawOverlay(),n.drawGrid()}),this.rect.on("scaling",function(t){n.constrainWithinCanvasOnScaling(n.rect,t),n.drawOverlay(),n.drawGrid()}),e.fabric.on("mouse:down",n.onMouseDown),e.fabric.on("mouse:move",n.onMouseMove),e.fabric.on("mouse:up",n.onMouseUp)},remove:function(){e.fabric.off("mouse:down",n.onMouseDown),e.fabric.off("mouse:move",n.onMouseMove),e.fabric.off("mouse:up",n.onMouseUp),e.fabric.remove(this.rect),e.fabric.remove(this.grid),e.fabric.remove(this.overlay),e.fabric.renderAll(),this.initiated=!1},hide:function(){this.rect.visible=!1,this.rect.hasControls=!1,this.grid.visible=!1,this.overlay.visible=!1},getOptimalDimensions:function(){var t=e.fabric.getWidth()/2,n=e.fabric.getHeight()/2,i=e.fabric.getWidth()/4,r=e.fabric.getHeight()/4;return e.viewport.offsetWidth<e.fabric.getWidth()&&(t=e.viewport.offsetWidth/2,i=e.viewport.offsetWidth/4),e.viewport.offsetHeight<e.fabric.getHeight()&&(n=e.viewport.offsetHeight/2,r=e.viewport.offsetHeight/4),{width:t,height:n,left:i,top:r}},drawMainZone:function(){var t=this.getOptimalDimensions();this.rect=new fabric.Rect({fill:"transparent",stroke:"rgba(255, 255, 255, 0.6)",hasBorders:!1,width:t.width,height:t.height,left:t.left,top:t.top,hasRotatingPoint:!1,name:"cropzone",cornerColor:"rgba(255, 255, 255, 0.6)",transparentCorners:!1,ignore:!0}),e.fabric.add(this.rect),this.rect.moveTo(3),e.fabric.setActiveObject(n.rect)},drawGrid:function(){this.initiated||(this.line1=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.line2=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.line3=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.line4=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.grid=new fabric.Group([this.line1,this.line2,this.line3,this.line4]),this.grid.originY="left",this.grid.originX="top",this.grid.ignore=!0,this.grid.selectable=!1,e.fabric.add(this.grid),this.grid.moveTo(2)),this.grid.width=this.rect.getWidth(),this.grid.height=this.rect.getHeight(),this.grid.left=this.rect.getLeft(),this.grid.top=this.rect.getTop();var t=n.rect.getWidth()/3,i=n.rect.getHeight()/3;this.line1.set({x1:t,y1:0,x2:t,y2:n.grid.getHeight()}),this.line2.set({x1:2*t,y1:0,x2:2*t,y2:n.grid.getHeight()}),this.line3.set({x1:0,y1:i,x2:n.grid.getWidth(),y2:i}),this.line4.set({x1:0,y1:2*i,x2:n.grid.getWidth(),y2:2*i}),this.constrainWithinCanvas(this.grid)},drawOverlay:function(){this.initiated||(this.topRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.rightRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.bottomRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.leftRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.overlay=new fabric.Group([this.topRect,this.rightRect,this.bottomRect,this.leftRect]),this.overlay.ignore=!0,this.overlay.name="grid.overlay",e.fabric.add(this.overlay),this.overlay.moveTo(1)),this.topRect.set({left:0,top:0,width:e.fabric.width,height:this.rect.getHeight()<0?this.rect.getTop()-Math.abs(this.rect.getHeight()):this.rect.getTop()}),this.rightRect.set({left:this.rect.getWidth()<0?this.rect.getLeft():this.rect.getLeft()+this.rect.getWidth(),top:this.rect.getTop(),width:this.rect.getWidth()<0?e.fabric.width-(this.rect.getLeft()+this.rect.getWidth())-Math.abs(this.rect.getWidth()):e.fabric.width-(this.rect.getLeft()+this.rect.getWidth()),height:this.rect.getHeight()}),this.bottomRect.set({left:0,top:this.rect.getHeight()<0?this.rect.getTop():this.rect.getTop()+this.rect.getHeight(),width:e.fabric.width,height:this.rect.getHeight()<0?e.fabric.height-this.rect.getTop():e.fabric.height-(this.rect.getTop()+this.rect.getHeight())}),this.leftRect.set({left:0,top:this.rect.getTop(),width:this.rect.getWidth()>0?this.rect.getLeft():this.rect.getLeft()-Math.abs(this.rect.getWidth()),height:this.rect.getHeight()})}};return n}]),angular.module("image.crop").controller("CropController",["$scope","$rootScope","cropper","cropzone",function(t,e,n,i){t.cropper=n,t.cropzone=i,e.$on("tab.changed",function(t,e,i){"basics"===i&&"basics"!==e&&n.stop()}),e.$watch("activePanel",function(t,e){"crop"!==t&&"crop"===e&&i.remove()}),e.$on("cropzone.added",function(){t.width=Math.round(i.rect.width),t.height=Math.round(i.rect.height)})}]),angular.module("image.basics",[]).controller("RotateController",["$scope","$rootScope","canvas","history",function(t,e,n,i){t.angle=0,t.startRotator=function(e){i.add("rotate-original-state","backup",!0),t.openPanel("rotate",e)},t.applyRotation=function(){e.activePanel=!1,i.add("rotation","rotate-right")},t.cancel=function(){i.load("rotate-original-state"),e.activePanel=!1,t.angle=0},t.rotateLeft=function(){t.rotate(90,"left")},t.rotateRight=function(){t.rotate(90,"right")},t.rotate=function(e,i){n.fabric.forEachObject(function(n){i&&"left"===i?e=n.getAngle()-90:i&&"right"===i&&(e=n.getAngle()+90),"center"===n.originX&&"center"===n.originY||!n.centeredRotation||(t.setOriginToCenter&&t.setOriginToCenter(n),resetOrigin=!0),e=e>360?90:0>e?270:e,n.setAngle(e).setCoords(),resetOrigin&&t.setCenterToOrigin&&t.setCenterToOrigin(n)}),n.fitToScreen(),n.fabric.renderAll()},t.setOriginToCenter=function(t){t._originalOriginX=t.originX,t._originalOriginY=t.originY;var e=t.getCenterPoint();t.set({originX:"center",originY:"center",left:e.x,top:e.y})},t.setCenterToOrigin=function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),t._originalOriginX,t._originalOriginY);t.set({originX:t._originalOriginX,originY:t._originalOriginY,left:e.x,top:e.y})}}]),angular.module("image.basics").controller("CanvasBackgroundController",["$scope","$rootScope","canvas","history",function(t,e,n,i){t.setBackground=function(t){console.log(t),n.fabric.setBackgroundColor(t),n.fabric.renderAll()},t.apply=function(){e.activePanel=!1,i.add("Canvas Color","format-color-fill")
},t.cancel=function(){e.activePanel=!1,n.fabric.setBackgroundColor(""),n.fabric.renderAll()}}]),angular.module("image.basics").controller("ResizeController",["$scope","$rootScope","canvas","history",function(t,e,n,i){t.constrainProportions=!0,t.percent=100,t.startResizer=function(e){t.width=n.fabric.getWidth(),t.height=n.fabric.getHeight(),i.add("beforeResize",!1,!0),t.originalDataUrl=n.fabric.toDataURL(),t.openPanel("resize",e)},t.apply=function(){e.activePanel=!1,t.percent=100,i.add("resize","crop-free")},t.cancel=function(){i.load("beforeResize"),e.activePanel=!1,n.fabric.calcOffset()},t.resizeByPercent=function(e){var i=e/100*t.height,r=e/100*t.width;n.fabric.clear(),n.resetZoom(),n.loadMainImage(t.originalDataUrl,i,r,!0)},t.resize=function(e,i){if(t.constrainProportions){var r=n.fabric.getWidth()/i,o=n.fabric.getHeight()/e;1!==r?t.height=n.fabric.getHeight()/r:t.width=n.fabric.getWidth()/o}n.fabric.clear(),n.loadMainImage(t.originalDataUrl,t.height,t.width,!0)}}]),angular.module("image.basics").controller("RoundedCornersController",["$scope","$rootScope","canvas","history",function(t,e,n,i){t.radius=50,t.startRoundedCorners=function(i){"round"!==e.activePanel&&(e.openPanel("round",i),t.rect=new fabric.Rect({width:n.fabric.getWidth(),height:n.fabric.getHeight(),rx:t.radius,ry:t.radius,opacity:1,fill:"transparent",name:"rounding-rect",stroke:"#fff",strokeDashArray:[5,5],selectable:!1,evented:!1,ignore:!0}),n.fabric.add(t.rect),n.fabric.renderAll())},t.adjustPreview=function(){t.rect&&(t.rect.set({rx:t.radius,ry:t.radius}),n.fabric.renderAll())},t.cancel=function(i){n.fabric.remove(t.rect),t.rect=!1,t.radius=50,n.fabric.renderAll(),i||(e.activePanel=!1)},t.apply=function(){n.fabric.remove(t.rect),n.fabric.clipTo=function(e){t.rect.render(e),n.fabric.clipTo=!1};var r=n.fabric.toDataURL();n.fabric.clear(),t.cancel(),n.loadMainImage(r,!1,!1,!1,function(){e.$apply(function(){i.add("Round Corners","border-style")})})},e.$on("tab.changed",function(e,n,i){"basics"===i&&t.rect&&"basics"!==n&&t.cancel()}),e.$watch("activePanel",function(e,n){"round"!==e&&"round"===n&&t.cancel(!0)})}]),angular.module("ImageEditor").controller("ZoomController",["$rootScope","$scope","canvas",function(t,e,n){e.canvas=n,e.zoom=1,e.oldZoom=1,e.maxScale=200,e.minScale=30,t.$on("editor.mainImage.loaded",function(){e.fitToScreen()}),t.$on("canvas.openedNew",function(){e.fitToScreen()}),e.fitToScreen=function(){if(e.zoom=100*n.currentScale,n.mainImage)var t=n.mainImage.originalState.width,i=n.mainImage.originalState.height;else var t=n.fabric.getWidth(),i=n.fabric.getHeight();var r=100*Math.min(3582/i,5731/t),o=100*Math.min(141/i,211/t);e.maxScale=Math.ceil(r),e.minScale=Math.ceil(o)},t.$on("history.loaded",function(){e.zoom=100*n.currentScale}),e.doZoom=function(){e.zoom>e.oldZoom?n.scaleUp(e.zoom/100/n.currentScale):n.scaleDown(n.currentScale/(e.zoom/100)),e.oldZoom=e.zoom},e.getCurrentZoom=function(){return Math.round(100*n.currentScale)}}]),angular.module("ImageEditor").controller("TopPanelController",["$rootScope","$scope","$mdDialog","$mdToast","$$rAF","canvas","history","saver",function(t,e,n,i,r,o,s,a){e.history=s,e.isDemo=t.isDemo,e.canOpenImage=!1,e.canvas=o,e.openImageMode="open",e.canvasWidth=800,e.canvasHeight=600,e.imageName="image",e.imageType="jpeg",e.imageQuality=8,e.objectsPanelOpen=!0,e.historyPanelOpen=!1,e.openUploadDialog=function(t){n.show({template:$("#main-image-upload-dialog-template").html(),targetEvent:t,controller:"TopPanelController"})},e.toggleRightPanel=function(t,n){var i=e[t+"PanelOpen"];i?(e[t+"PanelOpen"]=!1,e.transformClose(t,n)):(e[t+"PanelOpen"]=!0,e.transformOpen(t,n))},e.transformOpen=function(t,n){var i=$("#"+t);i.removeClass("transition-out transition-in").show(),e.transformToClickElement(i,n),r(function(){i.addClass("transition-in").css("transform",""),n.currentTarget.blur()})},e.transformClose=function(n,i){var r=$("#"+n);r.addClass("transition-out").removeClass("transition-in"),e.transformToClickElement(r,i),r.one(t.transitionEndEvent,function(){r.hide().css("transform","").removeClass("transition-out"),i.currentTarget.blur()})},e.transformToClickElement=function(t,e){var n=e.target.getBoundingClientRect(),i=t[0].getBoundingClientRect(),r=Math.min(.5,n.width/i.width),o=Math.min(.5,n.height/i.height);t.css("transform","translate3d("+(-i.left+n.left+n.width/2-i.width/2)+"px,"+(-i.top+n.top+n.height/2-i.height/2)+"px,0) scale("+r+","+o+")")},e.openSaveDialog=function(e){return t.isIntegrationMode()&&t.pixie.getParams().onSaveButtonClick?t.pixie.getParams().onSaveButtonClick():void n.show({template:$("#save-image-dialog").html(),targetEvent:e,controller:"TopPanelController"})},e.createNewCanvas=function(n,i){o.openNew(n,i),e.closeUploadDialog(),t.started=!0},e.openSampleImage=function(){o.loadMainImage("assets/images/lotus.jpg"),e.closeUploadDialog(),t.started=!0},e.saveImage=function(t){a.saveImage(e.imageType,e.imageQuality,e.imageName,t)},e.showImagePreview=function(t){if(window.location.href.split('sourceVal=')[1]!=null && window.location.href.split('sourceVal=')[1]!='undefined'){var sourceVal=window.location.href.split('sourceVal=')[1];t=sourceVal;}fabric.util.loadImage(t,function(t){e.$apply(t?function(){$(".img-preview").html("").append(t),e.canOpenImage=!0}:function(){e.canOpenImage=!1})})},e.openImage=function(){var n=$(".img-preview img").attr("src");n&&e.canOpenImage&&(o.fabric._objects.length&&o.mainImage?fabric.util.loadImage(n,function(t){if(t){var e=new fabric.Image(t);e.name="image",o.fabric.add(e),e.center(),e.setCoords(),o.fabric.setActiveObject(e),o.fabric.renderAll()}}):(o.fabric.clear(),o.loadMainImage(n)),e.closeUploadDialog(),t.started=!0)},e.closeUploadDialog=function(){e.canUploadImage=!1,e.openImageMode="open",$(".img-preview").html(),n.hide()}}]),angular.module("image.directives",[]).directive("edTabs",["$rootScope",function(t){return{compile:function(e,n){$("#"+n.edTabs).addClass("open"),$('[data-activates="'+n.edTabs+'"]').addClass("active"),e.find("#navigation-bar").on("click",".nav-item",function(e){t.$apply(function(){t.activeTab=e.currentTarget.dataset.activates})}),t.$watch("activeTab",function(t,n){t&&t!==n&&i(t,e.find(".tab.open"),e.find("#"+t),$('[data-activates="'+t+'"]'))});var i=function(e,n,i,r){var o="fadeInLeft",s="fadeOutRight";r.hasClass("active")||($(".nav-item.active").removeClass("active"),r.addClass("active"),parseInt(i.data("index"))<parseInt(n.data("index"))&&(s="fadeOutLeft",o="fadeInRight"),n.addClass("animated "+s).one(t.animationEndEvent,function(){$(this).removeClass("open "+s)}),i.addClass("open animated "+o).one(t.animationEndEvent,function(){$(this).removeClass(o)}),t.$emit("tab.changed",e,n[0].id),t.activePanel=!1)}}}}]),angular.module("image.directives").directive("edPrettyScrollbar",function(){return{restrict:"A",compile:function(t,e){setTimeout(function(){t.mCustomScrollbar({theme:e.edScrollTheme||"inset",scrollInertia:300,autoExpandScrollbar:!1,axis:e.edScrollAxis||"x",advanced:{autoExpandHorizontalScroll:!0}})},1)}}}),angular.module("image.directives").directive("edColorPicker",["$rootScope","$parse",function(t,e){return{link:function(t,n,i){var r="edFlat"in i;t.$watch(i.ngDisabled,function(t){n.spectrum(t?"disable":"enable")});var o={color:i.startColor,clickoutFiresChange:!0,showPalette:!r,palette:colorsForPicker,preferredFormat:"hex",showAlpha:!0,showInput:!0,flat:r,showButtons:!r},s=function(r){e(i.edColorPicker)(t,{color:r.toString()}),n.val(r.toString())};void 0!==i.edDiscrete?(n.on("dragstop.spectrum",function(t,e){s(e)}),o.change=function(t){s(t)}):o.move=function(t){s(t)},n.spectrum(o)}}}]),angular.module("image.directives").directive("edFileUploader",["$parse","$mdDialog","$mdBottomSheet",function(t,e,n){var i=["png","jpg","jpeg","gif"];return{restrict:"A",link:function(r,o,s){var a=t(s.edFileUploader)(r);$(o[0]).on("change",function(t){var r=new FileReader;r.onload=function(t){var r=t.target.result.split(",")[0].split(":")[1].split(";")[0].split("/")[1];i.indexOf(r)<0&&console.log("invalid"),a&&(a(t.target.result),"undefined"!=typeof s.edCloseAfter&&(e.hide(),n.hide()))},r.readAsDataURL(t.target.files[0])})}}}]),angular.module("image.directives").directive("edTogglePanelVisibility",function(){return{restrict:"A",compile:function(t,e){t.on("click",function(){t.find(".mdi").toggleClass("toggled"),$("#"+e.edTogglePanelVisibility).find("ul").mCustomScrollbar("disable").slideToggle(150,function(){$(this).mCustomScrollbar("update")})})}}}),angular.module("image.directives").directive("edToggleSidebar",function(){return{restrict:"A",compile:function(t){var e=$("#left-sidebar");t.on("click",function(){e.toggleClass("open")})}}}),angular.module("image.text",[]).service("text",["$rootScope","canvas",function(t,e){var n={removeTextFromCanvas:function(t){t||(t=e.fabric.getActiveObject()),t.setFontSize&&e.fabric.remove(t)},getTextObject:function(){var t=e.fabric.getActiveObject();if(t&&t.fontFamily)return t;if(!t||!t.fontFamily)for(var n=e.fabric.getObjects(),i=0;i<n.length;i++)if(n[i].fontFamily)return n[i]},toggleTextDecoration:function(t){var n=this.getTextObject(),i=n.textDecoration.trim();"italic"==t?n.setFontStyle(n.fontStyle.indexOf("italic")>-1?"normal":"italic"):(i.indexOf(t)>-1?i=i.replace(t,"").trim():i+=" "+t,n.setTextDecoration&&n.setTextDecoration(i)),e.fabric.renderAll();var r=n.fontStyle+" "+n.textDecoration.trim();return r.split(" ")},setProperty:function(t,n){var i=this.getTextObject(),r=this.makeSetterName(t);i[r]&&i[r](n),e.fabric.renderAll()},toggleProperty:function(t,n){var i=this.getTextObject(),r=this.makeSetterName(t);i[r]&&i[r](n),e.fabric.renderAll()},makeSetterName:function(t){return"set"+t.charAt(0).toUpperCase()+t.slice(1)}};return n}]),angular.module("image.text").controller("TextController",["$scope","$rootScope","$timeout","canvas","text","fonts",function(t,e,n,i,r,o){t.text=r,t.fonts=o,t.opacity=1,t.fontSize=25,t.enableOutline=!0,t.filters={category:"handwriting",family:""},t.changeFont=function(t,n){var o=i.fabric.getActiveObject();if(e.openPanel("text",n),!o||"text"!==o.name){var s=new fabric.IText("Double click me to edit my contents.",{fontWeight:400,fontSize:28,fill:"#fff",removeOnCancel:!0,name:"text"});i.fabric.add(s),i.center(s),i.fabric.setActiveObject(s),i.fabric.renderAll()}r.setProperty("fontFamily",t)},t.cancelAddingTextToCanvas=function(){var t=r.getTextObject();t.removeOnCancel&&r.removeTextFromCanvas(t),e.activePanel=!1},t.finishAddingTextToCanvas=function(){e.activePanel=!1,e.$emit("text.added",r.getTextObject()),i.fabric.setActiveObject(i.mainImage)},e.$on("tab.changed",function(e,n){if("text"==n){var r=t.text.getTextObject();r&&(r.removeOnCancel=!1,i.fabric.setActiveObject(r))}}),o.getAll(t.filters)}]),angular.module("image.text").directive("edTextAlignButtons",["text",function(t){return{compile:function(e){e.on("click","i",function(n){var i=n.currentTarget.dataset.align;t.setProperty("textAlign",i),e.find("i").removeClass("active"),$(n.currentTarget).addClass("active")})}}}]),angular.module("image.text").directive("edTextDecorationButtons",["text",function(t){return{compile:function(e){e.on("click",".toolbar-btn",function(n){var i=n.currentTarget.dataset.decoration,r=t.toggleTextDecoration(i);e.find(".toolbar-btn").removeClass("active");for(var o=0;o<r.length;o++)e.find('[data-decoration="'+r[o].trim()+'"]').addClass("active")})}}}]),angular.module("image.text").directive("edFontsPagination",["$rootScope","fonts",function(t,e){return{restrict:"A",link:function(t,n){n.pagination({items:0,itemsOnPage:e.paginator.perPage,onPageClick:function(n){t.$apply(function(){e.paginator.selectPage(n)})}}),t.$watch("fonts.paginator.totalItems",function(t){t&&n.pagination("updateItems",t)})}}}]).factory("fonts",["$rootScope","$http","$timeout","$filter","localStorage",function(t,e,n,i,r){var o={loading:!1,paginator:{sourceItems:[],filteredItems:[],currentItems:[],perPage:17,totalItems:0,selectPage:function(t){this.currentItems=this.filteredItems.slice((t-1)*this.perPage,(t-1)*this.perPage+this.perPage),o.load()},filter:function(t){this.start(i("filter")(o.paginator.sourceItems,t))},start:function(t){this.filteredItems=t,this.totalItems=t.length,this.currentItems=t.slice(0,this.perPage),o.load()}},getAll:function(n){var i=this,o=r.get("googleFonts"),s=t.keys.google_fonts;return o?(i.paginator.sourceItems=o,n?i.paginator.filter(n):i.paginator.start(o)):void e.get("https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key="+s).success(function(t){r.set("googleFonts",t.items),i.paginator.sourceItems=t.items,n?i.paginator.filter(n):i.paginator.start(t.items)})},load:function(e){var n=$("head");t.loading=!0,e?angular.isArray(e)||(e=[e]):e=$.map(o.paginator.currentItems,function(t){return t.family}),$(n).find("#dynamic-fonts").remove(),n.append('<link rel="stylesheet" id="dynamic-fonts" href="http://fonts.googleapis.com/css?family='+e.join("|").replace(/ /g,"+")+'">'),t.loading=!1}};return o}]),angular.module("image.drawing",[]).service("drawing",["$rootScope","canvas",function(t,e){var n={availableBrushes:["pencil","vLine","diamond","hLine","circle","square","spray"],defaultBrushName:"pencil",activeBrushName:!1,isEnabled:!1,params:{shadowColor:"#1E89E6",brushWidth:9,brushColor:"#000",shadowBlur:30,shadowOffsetX:10,shadowOffsetY:10,enableShadow:!1},enable:function(){e.fabric.isDrawingMode=!0,this.changeBrush(this.defaultBrushName),this.shadow||(this.shadow=new fabric.Shadow({color:this.params.shadowColor,blur:this.params.shadowBlur,offsetX:this.params.shadowOffsetX,offsetY:this.params.shadowOffsetY})),this.isEnabled=!0},disable:function(){e.fabric.isDrawingMode=!1,this.isEnabled=!1},setShadowProperty:function(t,n){e.fabric.freeDrawingBrush.shadow[t]&&(e.fabric.freeDrawingBrush.shadow[t]=n)},setProperty:function(t,n){e.fabric.freeDrawingBrush[t]&&(e.fabric.freeDrawingBrush[t]=n)},toggleShadow:function(t){t?e.fabric.freeDrawingBrush.shadow=this.shadow:(this.shadow=e.fabric.freeDrawingBrush.shadow,e.fabric.freeDrawingBrush.shadow=void 0)},changeBrush:function(t){this.activeBrushName=t,t=this.makeBrushName(t),fabric[t]?e.fabric.freeDrawingBrush=new fabric[t](e.fabric):this[t]?e.fabric.freeDrawingBrush=this[t]:this["make"+t]&&(e.fabric.freeDrawingBrush=this["make"+t]()),e.fabric.freeDrawingBrush.width=this.params.brushWidth,e.fabric.freeDrawingBrush.color=this.params.brushColor,this.params.enableShadow&&(e.fabric.freeDrawingBrush.shadow=this.shadow)},makeBrushName:function(t){return t.charAt(0).toUpperCase()+t.slice(1)+"Brush"},makeVLineBrush:function(){return this.VLineBrush=new fabric.PatternBrush(e.fabric),this.VLineBrush.getPatternSrc=function(){var t=fabric.document.createElement("canvas");t.width=t.height=10;var e=t.getContext("2d");return e.strokeStyle=this.color,e.lineWidth=5,e.beginPath(),e.moveTo(0,5),e.lineTo(10,5),e.closePath(),e.stroke(),t},this.VLineBrush},makeDiamondBrush:function(){return this.DiamondBrush=new fabric.PatternBrush(e.fabric),this.DiamondBrush.getPatternSrc=function(){var t=10,e=5,n=fabric.document.createElement("canvas"),i=new fabric.Rect({width:t,height:t,angle:45,fill:this.color}),r=i.getBoundingRectWidth();n.width=n.height=r+e,i.set({left:r/2,top:r/2});var o=n.getContext("2d");return i.render(o),n},this.DiamondBrush},makeHLineBrush:function(){return this.HLineBrush=new fabric.PatternBrush(e.fabric),this.HLineBrush.getPatternSrc=function(){var t=fabric.document.createElement("canvas");t.width=t.height=10;var e=t.getContext("2d");return e.strokeStyle=this.color,e.lineWidth=5,e.beginPath(),e.moveTo(5,0),e.lineTo(5,10),e.closePath(),e.stroke(),t},this.HLineBrush},makeSquareBrush:function(){return this.SquareBrush=new fabric.PatternBrush(e.fabric),this.SquareBrush.getPatternSrc=function(){var t=10,e=2,n=fabric.document.createElement("canvas");n.width=n.height=t+e;var i=n.getContext("2d");return i.fillStyle=this.color,i.fillRect(0,0,t,t),n},this.SquareBrush}};return n}]),angular.module("image.drawing").controller("DrawingController",["$scope","$rootScope","canvas","drawing","history",function(t,e,n,i,r){t.drawing=i,window.fb=n.fabric,t.changeBrush=function(e,n){t.openPanel("drawing",n),i.isEnabled||i.enable(),i.changeBrush(e)},t.finishAddingDrawingsToCanvas=function(){e.activePanel=!1,n.mainImage&&n.fabric.setActiveObject(n.mainImage),n.fabric.forEachObject(function(t){"freeDrawing"===t.name&&(t.removeOnCancel=!1)}),i.disable(),r.add("added drawing","brush")},t.cancelAddingDrawingsToCanvas=function(){n.fabric.forEachObject(function(t){"freeDrawing"===t.name&&t.removeOnCancel&&n.fabric.remove(t)}),i.disable(),n.fabric.renderAll(),e.activePanel=!1},e.$on("tab.changed",function(e,n){"drawing"!==n&&(i.disable(),t.cancelAddingDrawingsToCanvas())}),n.fabric.on("path:created",function(t){i.isEnabled&&(t.path.setOptions(n.imageStatic),t.path.name="freeDrawing",t.path.removeOnCancel=!0)})}]),angular.module("image.directives").directive("edRenderBrushes",["$rootScope","$compile",function(t,e){return{link:function(n,i){var r='<div ng-repeat="brush in drawing.availableBrushes" ng-class="{ active: drawing.activeBrushName == brush }" class="brush animated-in-sequence" ng-click="changeBrush(brush)"><img class="img-responsive" ng-src="assets/images/brushes/{{brush}}.png"/><div class="brush-name">{{ brush }}</div></div>',o=t.$on("tab.changed",function(t,s){"drawing"===s&&(n.$apply(function(){i.append(e(r)(n))}),o())})}}}]),angular.module("ImageEditor").factory("history",["$rootScope","canvas",function(t,e){var n={all:[],ignored:[],add:function(t,n,i){var r=i?"ignored":"all";if("ignored"===r)for(var o=0;o<this.ignored.length;o++)this.ignored[o].name===t&&this.ignored.splice(o,1);this[r].push({name:t,state:e.fabric.toJSON(["selectable","name"]),index:this.all.length+1,icon:n,zoom:e.zoom,canvasWidth:e.original.width||e.fabric.getWidth(),canvasHeight:e.original.height||e.fabric.getHeight()})},get:function(t,e){e||(e="ignored");for(var i=0;i<n[e].length;i++)if(n[e][i].name===t)return n[e][i]},load:function(n){return t.isLoading(),angular.isString(n)&&(n=this.get(n)),n?void setTimeout(function(){e.fabric.loadFromJSON(n.state,function(){e.fabric.forEachObject(function(t){t.applyFilters&&t.filters.length&&t.applyFilters(e.fabric.renderAll.bind(e.fabric)),"mainImage"==t.name&&(e.mainImage=t)}),e.resetZoom(),n.canvasWidth&&n.canvasHeight&&(e.fabric.setWidth(n.canvasWidth),e.fabric.setHeight(n.canvasHeight)),e.fabric.renderAll(),e.fabric.calcOffset(),t.isNotLoading(),t.$emit("history.loaded")})},30):t.isNotLoading()}};return n}]),angular.module("ImageEditor").factory("saver",["$rootScope","$mdDialog","$http","canvas",function(t,e,n,i){var r={saveImage:function(e,n,i,r){return t.isDemo?this.handleDemoSiteSave(r):t.isIntegrationMode()?this.handleIntegrationModeSave(e,n):void this.saveToComputer(e,n,i)},handleIntegrationModeSave:function(r,o){i.resetZoom();var s=this.getDataUrl(r,o);if(t.pixie.getParams().replaceOriginal&&t.pixie.getParams().image&&(t.pixie.getParams().image.src=s),t.pixie.getParams().saveUrl&&n.post(t.pixie.getParams().saveUrl,{data:s}),t.pixie.getParams().onSave){var a=t.pixie.getParams().image||new Image(s);t.pixie.getParams().onSave(s,a)}e.hide(),t.pixie.close()},saveToComputer:function(t,n,r){i.resetZoom();var o=document.createElement("a");if("undefined"!=typeof o.download){var s=this.getDataUrl(t,n);o.download=(r||"image")+"."+t,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o)}else i.fabric.lowerCanvasEl.toBlob(function(e){saveAs(e,r+"."+t)},"image/"+t,n);e.hide()},handleDemoSiteSave:function(e){$(".demo-alert").one(t.animationEndEvent,function(){$(this).removeClass("animated shake"),e.target.blur()}).addClass("animated shake")},getDataUrl:function(t,e){return i.fabric.toDataURL({format:t||"png",quality:(e||8)/10})}};return r}]),angular.module("image.filters",[]).controller("FiltersController",["$scope","$rootScope","canvas","filters","history",function(t,e,n,i){t.filters=i,e.$on("history.loaded",function(){if(n.mainImage){for(var e=[],r=0;r<n.mainImage.filters.length;r++)e.push(n.mainImage.filters[r].name);t.$apply(function(){i.appliedFilters=e})}})}]),angular.module("image.filters").service("filters",["$rootScope","canvas","history",function(t,e,n){var i={all:[{name:"grayscale"},{name:"invert"},{name:"sepia"},{name:"sepia2"},{name:"removeWhite",options:{distance:{current:10},threshold:{current:50}}},{name:"brightness",options:{brightness:{current:50}}},{name:"noise",options:{noise:{current:40,max:600}}},{name:"GradientTransparency",displayName:"Gradient",options:{threshold:{current:40}}},{name:"pixelate",options:{blocksize:{max:40,current:2}}},{name:"sharpen",uses:"Convolute",matrix:[0,-1,0,-1,5,-1,0,-1,0]},{name:"blur",uses:"Convolute",matrix:[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9]},{name:"emboss",uses:"Convolute",matrix:[1,1,1,1,.7,-1,-1,-1,-1]},{name:"tint",options:{opacity:{current:.5,min:.1,max:1,step:.1},color:{colorpicker:!0,current:"#FF4081"}}},{name:"multiply",options:{color:{colorpicker:!0,current:"#FF4081"}}},{name:"blend",options:{mode:{current:"add",select:!0,available:["add","multiply","subtract","diff","screen","lighten","darken"]},alpha:{current:.5,min:.1,max:1,step:.1},color:{colorpicker:!0,current:"#FF4081"}}}],appliedFilters:[],applyFilter:function(r){if(this.filterExists(r)){if(this.filterAlreadyApplied(r.name))return this.removeFilter(r);t.isLoading(),i.markAsApplied(r.name),setTimeout(function(){e.fabric.forEachObject(function(t){t.applyFilters&&(t.filters.push(i.getFilter(r)),t.applyFilters(e.fabric.renderAll.bind(e.fabric)))}),n.add("filter: "+(r.displayName||r.name),"brightness-6"),i.lastAppliedFilter=r,t.isNotLoading()},30)}},removeFilter:function(n){this.filterExists(n)&&(t.isLoading(),i.unmarkAsApplied(n.name),setTimeout(function(){e.fabric.forEachObject(function(t){if(t.applyFilters)for(var i=0;i<t.filters.length;i++)t.filters[i].name.toLowerCase()===n.name.toLowerCase()&&(t.filters.splice(i,1),t.applyFilters(e.fabric.renderAll.bind(e.fabric)))}),i.lastAppliedFilter=!1,t.isNotLoading()},30))},applyValue:function(n,i,r){t.isLoading(),setTimeout(function(){e.fabric.forEachObject(function(t){if(t.applyFilters)for(var o=0;o<t.filters.length;o++){var s=t.filters[o];s.type.toLowerCase()===n.toLowerCase()&&(s[i]=r,t.applyFilters(e.fabric.renderAll.bind(e.fabric)))}}),t.isNotLoading()},30)},filterAlreadyApplied:function(t){return-1!==this.appliedFilters.indexOf(t)},markAsApplied:function(t){-1===this.appliedFilters.indexOf(t)&&this.appliedFilters.push(t)},unmarkAsApplied:function(t){for(var e=0;e<this.appliedFilters.length;e++)this.appliedFilters[e]===t&&this.appliedFilters.splice(e,1)},filterExists:function(t){return void 0!==fabric.Image.filters[fabric.util.string.capitalize(t.uses||t.name,!0)]},getFilter:function(t){var e;if(t.uses)e=new(fabric.Image.filters[fabric.util.string.capitalize(t.uses,!0)])({matrix:t.matrix});else{var n={};for(var i in t.options)n[i]=t.options[i].current;e=new(fabric.Image.filters[fabric.util.string.capitalize(t.name,!0)])(n)}return e.name=t.name,e}};return i}]),angular.module("image.shapes",[]).controller("SimpleShapesController",["$scope","$rootScope","$timeout","canvas","simpleShapes",function(t,e,n,i,r){t.shapes=r,t.available=["rect","triangle","circle","ellipse","polygon"],t.isPanelEnabled=function(){var e=i.fabric.getActiveObject();return e&&t.available.indexOf(e.name)>-1&&r.selected.options},i.fabric.on("object:selected",function(t){"simple-shapes"===e.activeTab&&r.selectShape(t.target.name)})}]),angular.module("image.shapes").controller("StickersController",["$scope","$rootScope","canvas","simpleShapes","history",function(t,e,n,i,r){t.shapes=i,t.opacity=.9,t.categories=[{name:"bubbles",items:new Array(104),type:"png"},{name:"stars",items:new Array(6),type:"png",darkbg:!0},{name:"transportation",items:new Array(22),type:"svg"},{name:"doodles",items:new Array(100),type:"svg"},{name:"landmarks",items:new Array(100),type:"svg"},{name:"beach",items:new Array(22),type:"svg"},{name:"animals",items:new Array(10),type:"png"},{name:"clouds",items:new Array(15),type:"png",darkbg:!0}],t.activeCategory="doodles",t.activeStickerIsSvg=function(){var t=n.fabric.getActiveObject();return t&&angular.isDefined(t.svgUid)},t.isPanelEnabled=function(){var t=n.fabric.getActiveObject();return t&&"sticker"===t.name&&"stickers"===e.activeTab},t.setActiveCategory=function(e){t.activeCategory=t.activeCategory===e?!1:e},t.setOpacity=function(t){i.getShape("sticker").setOpacity(t),n.fabric.renderAll()},t.setColor=function(t){var e=i.getShape("sticker");if(e.isSameColor&&e.isSameColor()||!e.paths)e.setFill(t);else if(e.paths)for(var r=0;r<e.paths.length;r++)e.paths[r].setFill(t);n.fabric.renderAll()},t.addToCanvas=function(e,i,o){t.loading||(t.loading=!0,t.openPanel("stickers",o),"svg"===e.type?fabric.loadSVGFromURL("assets/images/stickers/"+e.name+"/"+i+"."+e.type,function(e,i){var o=fabric.util.groupSVGElements(e,i);o.name="sticker",n.fabric.add(o),o.scaleToHeight(.4*n.fabric.getHeight()),n.center(o),n.fabric.setActiveObject(o),n.fabric.renderAll(),t.$apply(function(){t.loading=!1}),r.add("Added: Sticker","favorite")}):fabric.util.loadImage("assets/images/stickers/"+e.name+"/"+i+"."+e.type,function(e){var i=new fabric.Image(e);i.name="sticker",n.fabric.add(i),i.scaleToHeight(.4*n.fabric.getHeight()),n.center(i),n.fabric.setActiveObject(i),n.fabric.renderAll(),t.$apply(function(){t.loading=!1}),r.add("Added: Sticker","favorite")}))}}]),angular.module("image.shapes").directive("edStickersCategories",function(){return{restrict:"A",link:function(t,e){var n=t.$watch("activeTab",function(t){if("stickers"===t){var e=$(".category-stickers.open");e.find("img").each(function(){this.src=this.dataset.src}),e.parent().addClass("loaded"),n()}});e.on("click",".category-header",function(e){t.$apply(function(){t.setActiveCategory(e.target.dataset.name)});var n=$(e.currentTarget).parent();n.hasClass("loaded")||n.addClass("loaded").find("img").each(function(){this.src=this.dataset.src})})}}}),angular.module("image.shapes").filter("orderOptions",function(){return function(t,e,n){var i=[];return angular.forEach(t,function(t,e){t.name=e,i.push(t)}),i.sort(function(t,n){return t[e]>n[e]?1:-1}),n&&i.reverse(),i}}).service("simpleShapes",["$rootScope","canvas","polygon","history",function(t,e,n,i){var r={gradients:edGradients,textures:new Array(28),baseOptions:{main:{enabled:!0,opacity:{type:"slider",current:1,min:.1,max:1,step:.1},fill:{type:"colorpicker",current:"#263238",hidden:!0}},border:{enabled:!1,onToggle:"toggleBorder",stroke:{type:"colorpicker",current:"#2196F3",displayName:"Color"},strokeWidth:{type:"slider",current:5,max:40,displayName:"Width"}},shadow:{enabled:!1,onToggle:"toggleShadow",color:{type:"colorpicker",current:"rgba(0,0,0,0.5)"},blur:{type:"slider",current:5,max:80},offsetX:{type:"slider",current:8,max:30},offsetY:{type:"slider",current:5,max:30}}},available:[],selected:!1,fillWithGradient:function(t,n){var i=e.fabric.getActiveObject();i.setGradient(n||"fill",this.gradients[t]),e.fabric.renderAll()},fillWithImage:function(t){var n=e.fabric.getActiveObject();fabric.util.loadImage(t,function(t){n.setPatternFill({source:t}),e.fabric.renderAll()})},addToCanvas:function(t){if(this.shapeExists(t)){if(this.selected=t,t.service&&t.service.enable)return t.service.enable();var n=this.createNewShape(t);e.fabric.add(n),e.center(n),e.fabric.setActiveObject(n),e.fabric.renderAll(),i.add("Added: "+t.name,"panorama-vertical")}},applyValue:function(t,n,i,r){var o="set"+fabric.util.string.capitalize(i,!0),s=this.getShape(n);return"shadow"===t?this.applyShadowValue(s,i,r):void(this.selected&&this.selected.name===n&&(s[o]?s[o](r):s[i]=r,s.setCoords(),e.fabric.setActiveObject(s),e.fabric.renderAll()))},applyShadowValue:function(t,n,i){if(t){var r={color:this.selected.options.shadow.color.current,blur:this.selected.options.shadow.blur.current,offsetX:this.selected.options.shadow.offsetX.current,offsetY:this.selected.options.shadow.offsetY.current};n&&i&&(r[n]=i),t.setShadow(r),e.fabric.renderAll()}},toggleShadow:function(t,n){n?this.applyShadowValue(this.getShape(t)):(this.getShape(t).setShadow(!1),e.fabric.renderAll())},toggleBorder:function(t,n){this.getShape(t).setStroke(n?this.selected.options.border.stroke:!1),e.fabric.renderAll()},shapeExists:function(t){for(var e=0;e<this.available.length;e++)if(this.available[e].name===t.name)return!0},getShape:function(t){var n=e.fabric.getActiveObject();return n&&n.name===t?n:(e.fabric.forEachObject(function(i){return i.name===t?(e.fabric.setActiveObject(i),n=i):void 0}),n)},createNewShape:function(t){var e=fabric.util.string.capitalize(t.name,!0);if(fabric[e]){var n={strokeWidth:t.options.border.strokeWidth.current};if(angular.forEach(t.options.main,function(t,e){"boolean"!=typeof t&&(n[e]=t.current)}),t.options.points)var i=new fabric[e](t.options.points.current,n);else var i=new fabric[e](n);return i.name=t.name,i}},selectShape:function(t){if(t&&this.selected.name!==t)for(var e=0;e<this.available.length;e++)if(this.available[e].name===t)return this.selected=this.available[e]}},o=angular.copy(r.baseOptions);o.main.radius={type:"slider",current:72,min:20},r.available.push({name:"circle",options:o});var s=angular.copy(r.baseOptions);s.main.width={type:"slider",current:140},s.main.height={type:"slider",current:140},r.available.push({name:"rect",displayName:"rectangle",options:s});var a=angular.copy(r.baseOptions);a.main.width={type:"slider",current:140,min:25},a.main.height={type:"slider",current:140,min:25},r.available.push({name:"triangle",options:a});var c=angular.copy(r.baseOptions);return c.main.rx={type:"slider",current:80,displayName:"horizontal radius"},c.main.ry={type:"slider",current:30,displayName:"vertical radius"},r.available.push({name:"ellipse",options:c}),r.available.push({name:"polygon",options:angular.copy(r.baseOptions),service:n}),r}]),angular.module("image.shapes").service("polygon",["$rootScope","$mdToast","canvas",function(t,e,n){var i={mode:"add",currentShape:!1,onMouseMove:function(t){var e=n.fabric.getPointer(t.e);if("edit"===i.mode&&i.currentShape){var r=i.currentShape.get("points");r[r.length-1].x=e.x-i.currentShape.get("left"),r[r.length-1].y=e.y-i.currentShape.get("top"),i.currentShape.set({points:r}),n.fabric.renderAll()}},onMouseDown:function(t){var e=n.fabric.getPointer(t.e);if("add"===i.mode){var r=new fabric.Polygon([{x:e.x,y:e.y},{x:e.x+.5,y:e.y+.5}],{fill:"black",opacity:1,selectable:!1});i.currentShape=r,i.currentShape.name="polygon",n.fabric.add(i.currentShape),i.mode="edit"}else if("edit"===i.mode&&i.currentShape&&"polygon"===i.currentShape.type){var o=i.currentShape.get("points");o.push({x:e.x-i.currentShape.get("left"),y:e.y-i.currentShape.get("top")}),i.currentShape.set({points:o}),n.fabric.renderAll()}},onEscape:function(r){(!r&&i.currentShape||r&&27===r.keyCode)&&("edit"===i.mode||"add"===i.mode?(i.mode="normal",i.currentShape.set({selectable:!0}),i.currentShape._calcDimensions(),i.currentShape.setCoords(),n.fabric.setActiveObject(i.currentShape),n.fabric.renderAll()):i.mode="add",i.currentShape=null,t.$apply(function(){e.hide()}))},onClick:function(t){"CANVAS"!==t.target.nodeName&&"polygon"!==$(t.target).closest(".shape").data("name")&&i.disable()},enable:function(){this.enabled||(this.enabled=!0,n.fabric.on("mouse:move",i.onMouseMove),n.fabric.on("mouse:down",i.onMouseDown),fabric.util.addListener(window,"keyup",i.onEscape),setTimeout(function(){fabric.util.addListener(window,"click",i.onClick)},20),e.show(e.simple({hideDelay:0}).content("Click on the canvas where you want to start the polygon edge, drag your mouse, then click again where you want to end the edge, repeat again to add more edges. Click escape or anywhere outside of canvas to finish.").action("hide")))},disable:function(){this.enabled=!1,n.fabric.off("mouse:move",i.onMouseMove),n.fabric.off("mouse:down",i.onMouseDown),fabric.util.removeListener(window,"keyup",i.onEscape),fabric.util.removeListener(window,"click",i.onClick),i.onEscape(),e.hide()}};return i}]),angular.module("ImageEditor").controller("ObjectsPanelController",["$scope","$rootScope","canvas",function(t,e,n){t.objects=n.fabric._objects||[],t.setAsActive=function(t){t&&n.fabric.setActiveObject(t)
},t.toggleVisibility=function(t){t&&(t.visible?t.set({visible:!1,evented:!1,selectable:!1,hasBorders:!1,hasCorners:!1}):(t.set({visible:!0,evented:!0,selectable:!0,hasBorders:!0,hasCorners:!0}),n.fabric.setActiveObject(t)),n.fabric.renderAll())},t.deleteObject=function(t){t&&(n.fabric.remove(t),n.fabric.renderAll())},t.toggleLock=function(t){t&&(t.locked?(t.set({locked:!1,selectable:!0,evented:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,hasControls:!0,hasBorders:!0}),n.fabric.setActiveObject(t)):t.set({locked:!0,selectable:!1,evented:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hasControls:!1,hasBorders:!1}),n.fabric.renderAll())}}]),angular.module("ImageEditor").directive("edObjectsPanelSortable",["$rootScope","canvas",function(t,e){return{link:function(n,i){var r,o,s;i.sortable({items:".object:visible",scroll:!1,containment:"parent",start:function(t,e){r=$(e.item).index()},update:function(n,i){if(o=$(i.item).index(),s=e.fabric.getObjects()[r]){if(o>r)for(var a=0;o-r>a;a++)e.fabric.bringForward(s);else for(var a=0;r-o>a;a++)e.fabric.sendBackwards(s);t.$apply(function(){e.fabric.renderAll(),r=!1})}}})}}}]);